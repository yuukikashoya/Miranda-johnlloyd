"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[179],{2011:(rt,we,O)=>{O.d(we,{Dh:()=>oe,GT:()=>ue,cc:()=>Ae,hO:()=>ke,on:()=>G,pX:()=>re,xv:()=>de});var d=O(4650),B=O(9260),P=O(2122);rt=O.hmd(rt);const te=["ngOnDestroy"],re=(le,He,Ge,De={})=>new Proxy(le,{get:(Ie,ge)=>Ge.runOutsideAngular(()=>{var Fe;if(le[ge])return!(null===(Fe=De?.spy)||void 0===Fe)&&Fe.get&&De.spy.get(ge,le[ge]),le[ge];if(te.indexOf(ge)>-1)return()=>{};const X=He.toPromise().then(se=>{const he=se&&se[ge];return"function"==typeof he?he.bind(se):he&&he.then?he.then(Ve=>Ge.run(()=>Ve)):Ge.run(()=>he)});return new Proxy(()=>{},{get:(se,he)=>X[he],apply:(se,he,Ve)=>X.then(Ue=>{var yt;const je=Ue&&Ue(...Ve);return!(null===(yt=De?.spy)||void 0===yt)&&yt.apply&&De.spy.apply(ge,Ve,je),je})})})}),ue=(le,He)=>{He.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(De=>{Object.defineProperty(le.prototype,De,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,De))})})};class ae{constructor(He){return He}}const oe=new d.OlP("angularfire2.app.options"),de=new d.OlP("angularfire2.app.name");function G(le,He,Ge){const Ie="object"==typeof Ge&&Ge||{};Ie.name=Ie.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const Fe=B.Z.apps.filter(X=>X&&X.name===Ie.name)[0]||He.runOutsideAngular(()=>B.Z.initializeApp(le,Ie));try{JSON.stringify(le)!==JSON.stringify(Fe.options)&&W("error",`${Fe.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(Fe)}const W=(le,...He)=>{(0,d.X6Q)()&&typeof console<"u"&&console[le](...He)},K={provide:ae,useFactory:G,deps:[oe,d.R0b,[new d.FiY,de]]};let ke=(()=>{class le{constructor(Ge){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",d.q4F.full,Ge.toString())}static initializeApp(Ge,De){return{ngModule:le,providers:[{provide:oe,useValue:Ge},{provide:de,useValue:De}]}}}return le.\u0275fac=function(Ge){return new(Ge||le)(d.LFG(d.Lbi))},le.\u0275mod=d.oAB({type:le}),le.\u0275inj=d.cJS({providers:[K]}),le})();function Ae(le,He,Ge,De,Ie){const[,ge,Fe]=globalThis.\u0275AngularfireInstanceCache.find(X=>X[0]===le)||[];if(ge)return function ve(le,He){try{return le.toString()===He.toString()}catch{return le===He}}(Ie,Fe)||(fe("error",`${He} was already initialized on the ${Ge} Firebase App with different settings.${ze?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:Ie,was:Fe})),ge;{const X=De();return globalThis.\u0275AngularfireInstanceCache.push([le,X,Ie]),X}}const ze=!!rt.hot,fe=(le,...He)=>{(0,d.X6Q)()&&typeof console<"u"&&console[le](...He)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(rt,we,O)=>{O.d(we,{q4:()=>vl,iC:()=>Rn,HU:()=>rs,vb:()=>Mi,JM:()=>zs,u3:()=>Jr});var d=O(4650),B=O(259),P=O(5861),te=O(9681),re=O(2090),ue=O(4859),ae=O(1877),oe=O(8766);const de="@firebase/installations",G="0.6.1",K=`w:${G}`,ke="FIS_v2",He=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(w){return w instanceof re.ZR&&w.code.includes("request-failed")}function De({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function Ie(w){return{token:w.token,requestStatus:2,expiresIn:Ue(w.expiresIn),creationTime:Date.now()}}function ge(w,D){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,P.Z)(function*(w,D){const U=(yield D.json()).error;return He.create("request-failed",{requestName:w,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function X({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function se(w,{refreshToken:D}){const A=X(w);return A.append("Authorization",function yt(w){return`${ke} ${w}`}(D)),A}function he(w){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,P.Z)(function*(w){const D=yield w();return D.status>=500&&D.status<600?w():D})).apply(this,arguments)}function Ue(w){return Number(w.replace("s","000"))}function je(w,D){return ie.apply(this,arguments)}function ie(){return(ie=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:D},{fid:A}){const U=De(w),q=X(w),ne=D.getImmediate({optional:!0});if(ne){const ut=yield ne.getHeartbeatsHeader();ut&&q.append("x-firebase-client",ut)}const $e={method:"POST",headers:q,body:JSON.stringify({fid:A,authVersion:ke,appId:w.appId,sdkVersion:K})},Je=yield he(()=>fetch(U,$e));if(Je.ok){const ut=yield Je.json();return{fid:ut.fid||A,registrationStatus:2,refreshToken:ut.refreshToken,authToken:Ie(ut.authToken)}}throw yield ge("Create Installation",Je)})).apply(this,arguments)}function ce(w){return new Promise(D=>{setTimeout(D,w)})}const Se=/^[cdef][\w-]{21}$/;function _e(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const A=function tt(w){return function me(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Se.test(A)?A:""}catch{return""}}function Ct(w){return`${w.appName}!${w.appId}`}const jt=new Map;function Ke(w,D){const A=Ct(w);xt(A,D),function yn(w,D){const A=function Ht(){return!fn&&"BroadcastChannel"in self&&(fn=new BroadcastChannel("[Firebase] FID Change"),fn.onmessage=w=>{xt(w.data.key,w.data.fid)}),fn}();A&&A.postMessage({key:w,fid:D}),function $n(){0===jt.size&&fn&&(fn.close(),fn=null)}()}(A,D)}function xt(w,D){const A=jt.get(w);if(A)for(const U of A)U(D)}let fn=null;const vn="firebase-installations-store";let Nr=null;function Wr(){return Nr||(Nr=(0,oe.X3)("firebase-installations-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(vn)}})),Nr}function We(w,D){return xn.apply(this,arguments)}function xn(){return(xn=(0,P.Z)(function*(w,D){const A=Ct(w),q=(yield Wr()).transaction(vn,"readwrite"),ne=q.objectStore(vn),pe=yield ne.get(A);return yield ne.put(D,A),yield q.done,(!pe||pe.fid!==D.fid)&&Ke(w,D.fid),D})).apply(this,arguments)}function In(w){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,P.Z)(function*(w){const D=Ct(w),U=(yield Wr()).transaction(vn,"readwrite");yield U.objectStore(vn).delete(D),yield U.done})).apply(this,arguments)}function zn(w,D){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,P.Z)(function*(w,D){const A=Ct(w),q=(yield Wr()).transaction(vn,"readwrite"),ne=q.objectStore(vn),pe=yield ne.get(A),$e=D(pe);return void 0===$e?yield ne.delete(A):yield ne.put($e,A),yield q.done,$e&&(!pe||pe.fid!==$e.fid)&&Ke(w,$e.fid),$e})).apply(this,arguments)}function en(w){return tn.apply(this,arguments)}function tn(){return(tn=(0,P.Z)(function*(w){let D;const A=yield zn(w.appConfig,U=>{const q=qt(U),ne=st(w,q);return D=ne.registrationPromise,ne.installationEntry});return""===A.fid?{installationEntry:yield D}:{installationEntry:A,registrationPromise:D}})).apply(this,arguments)}function qt(w){return gt(w||{fid:_e(),registrationStatus:0})}function st(w,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(He.create("app-offline"))};const A={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},U=function ot(w,D){return Et.apply(this,arguments)}(w,A);return{installationEntry:A,registrationPromise:U}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:dr(w)}:{installationEntry:D}}function Et(){return(Et=(0,P.Z)(function*(w,D){try{const A=yield je(w,D);return We(w.appConfig,A)}catch(A){throw Ge(A)&&409===A.customData.serverCode?yield In(w.appConfig):yield We(w.appConfig,{fid:D.fid,registrationStatus:0}),A}})).apply(this,arguments)}function dr(w){return bn.apply(this,arguments)}function bn(){return(bn=(0,P.Z)(function*(w){let D=yield tr(w.appConfig);for(;1===D.registrationStatus;)yield ce(100),D=yield tr(w.appConfig);if(0===D.registrationStatus){const{installationEntry:A,registrationPromise:U}=yield en(w);return U||A}return D})).apply(this,arguments)}function tr(w){return zn(w,D=>{if(!D)throw He.create("installation-not-found");return gt(D)})}function gt(w){return function nr(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function bt(w,D){return gr.apply(this,arguments)}function gr(){return(gr=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:D},A){const U=kt(w,A),q=se(w,A),ne=D.getImmediate({optional:!0});if(ne){const ut=yield ne.getHeartbeatsHeader();ut&&q.append("x-firebase-client",ut)}const $e={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:K,appId:w.appId}})},Je=yield he(()=>fetch(U,$e));if(Je.ok)return Ie(yield Je.json());throw yield ge("Generate Auth Token",Je)})).apply(this,arguments)}function kt(w,{fid:D}){return`${De(w)}/${D}/authTokens:generate`}function Hn(w){return ln.apply(this,arguments)}function ln(){return(ln=(0,P.Z)(function*(w,D=!1){let A;const U=yield zn(w.appConfig,ne=>{if(!Bt(ne))throw He.create("not-registered");const pe=ne.authToken;if(!D&&j(pe))return ne;if(1===pe.requestStatus)return A=Ze(w,D),ne;{if(!navigator.onLine)throw He.create("app-offline");const $e=Z(ne);return A=ht(w,$e),$e}});return A?yield A:U.authToken})).apply(this,arguments)}function Ze(w,D){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,P.Z)(function*(w,D){let A=yield qe(w.appConfig);for(;1===A.authToken.requestStatus;)yield ce(100),A=yield qe(w.appConfig);const U=A.authToken;return 0===U.requestStatus?Hn(w,D):U})).apply(this,arguments)}function qe(w){return zn(w,D=>{if(!Bt(D))throw He.create("not-registered");return function L(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function ht(w,D){return vt.apply(this,arguments)}function vt(){return(vt=(0,P.Z)(function*(w,D){try{const A=yield bt(w,D),U=Object.assign(Object.assign({},D),{authToken:A});return yield We(w.appConfig,U),A}catch(A){if(!Ge(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const U=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield We(w.appConfig,U)}else yield In(w.appConfig);throw A}})).apply(this,arguments)}function Bt(w){return void 0!==w&&2===w.registrationStatus}function j(w){return 2===w.requestStatus&&!function $(w){const D=Date.now();return D<w.creationTime||w.creationTime+w.expiresIn<D+36e5}(w)}function Z(w){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:D})}function k(){return(k=(0,P.Z)(function*(w){const D=w,{installationEntry:A,registrationPromise:U}=yield en(D);return U?U.catch(console.error):Hn(D).catch(console.error),A.fid})).apply(this,arguments)}function Ne(){return(Ne=(0,P.Z)(function*(w,D=!1){const A=w;return yield Ye(A),(yield Hn(A,D)).token})).apply(this,arguments)}function Ye(w){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,P.Z)(function*(w){const{registrationPromise:D}=yield en(w);D&&(yield D)})).apply(this,arguments)}function ji(w){return He.create("missing-app-config-values",{valueName:w})}const _s="installations",Wi=w=>{const D=w.getProvider("app").getImmediate(),A=function nn(w){if(!w||!w.options)throw ji("App Configuration");if(!w.name)throw ji("App Name");const D=["projectId","apiKey","appId"];for(const A of D)if(!w.options[A])throw ji(A);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(D);return{app:D,appConfig:A,heartbeatServiceProvider:(0,te._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Gi=w=>{const D=w.getProvider("app").getImmediate(),A=(0,te._getProvider)(D,_s).getImmediate();return{getId:()=>function S(w){return k.apply(this,arguments)}(A),getToken:q=>function Q(w){return Ne.apply(this,arguments)}(A,q)}};(function na(){(0,te._registerComponent)(new ue.wA(_s,Wi,"PUBLIC")),(0,te._registerComponent)(new ue.wA("installations-internal",Gi,"PRIVATE"))})(),(0,te.registerVersion)(de,G),(0,te.registerVersion)(de,G,"esm2017");const oi="@firebase/remote-config",An=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class tl{constructor(D,A,U,q){this.client=D,this.storage=A,this.storageCache=U,this.logger=q}isCachedDataFresh(D,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-A,q=U<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${q}.`),q}fetch(D){var A=this;return(0,P.Z)(function*(){const[U,q]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(q&&A.isCachedDataFresh(D.cacheMaxAgeMillis,U))return q;D.eTag=q&&q.eTag;const ne=yield A.client.fetch(D),pe=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&pe.push(A.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(pe),ne})()}}function oo(w=navigator){return w.languages&&w.languages[0]||w.language}class Ki{constructor(D,A,U,q,ne,pe){this.firebaseInstallations=D,this.sdkVersion=A,this.namespace=U,this.projectId=q,this.apiKey=ne,this.appId=pe}fetch(D){var A=this;return(0,P.Z)(function*(){const[U,q]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Je={sdk_version:A.sdkVersion,app_instance_id:U,app_instance_id_token:q,app_id:A.appId,language_code:oo()},ut={method:"POST",headers:$e,body:JSON.stringify(Je)},At=fetch(pe,ut),ft=new Promise((Kn,Cr)=>{D.signal.addEventListener(()=>{const jc=new Error("The operation was aborted.");jc.name="AbortError",Cr(jc)})});let Xn;try{yield Promise.race([At,ft]),Xn=yield At}catch(Kn){let Cr="fetch-client-network";throw"AbortError"===Kn?.name&&(Cr="fetch-timeout"),An.create(Cr,{originalErrorMessage:Kn?.message})}let Un=Xn.status;const os=Xn.headers.get("ETag")||void 0;let St,or;if(200===Xn.status){let Kn;try{Kn=yield Xn.json()}catch(Cr){throw An.create("fetch-client-parse",{originalErrorMessage:Cr?.message})}St=Kn.entries,or=Kn.state}if("INSTANCE_STATE_UNSPECIFIED"===or?Un=500:"NO_CHANGE"===or?Un=304:("NO_TEMPLATE"===or||"EMPTY_CONFIG"===or)&&(St={}),304!==Un&&200!==Un)throw An.create("fetch-status",{httpStatus:Un});return{status:Un,eTag:os,config:St}})()}}class ui{constructor(D,A){this.client=D,this.storage=A}fetch(D){var A=this;return(0,P.Z)(function*(){const U=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(D,U)})()}attemptFetch(D,{throttleEndTimeMillis:A,backoffCount:U}){var q=this;return(0,P.Z)(function*(){yield function Ar(w,D){return new Promise((A,U)=>{const q=Math.max(D-Date.now(),0),ne=setTimeout(A,q);w.addEventListener(()=>{clearTimeout(ne),U(An.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,A);try{const ne=yield q.client.fetch(D);return yield q.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function ch(w){if(!(w instanceof re.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ne))throw ne;const pe={throttleEndTimeMillis:Date.now()+(0,re.$s)(U),backoffCount:U+1};return yield q.storage.setThrottleMetadata(pe),q.attemptFetch(D,pe)}})()}}class Xl{constructor(D,A,U,q,ne){this.app=D,this._client=A,this._storageCache=U,this._storage=q,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ao(w,D){const A=w.target.error||void 0;return An.create(D,{originalErrorMessage:A&&A?.message})}const vs="app_namespace_store";class tu{constructor(D,A,U,q=function fh(){return new Promise((w,D)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=U=>{D(ao(U,"storage-open"))},A.onsuccess=U=>{w(U.target.result)},A.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(vs,{keyPath:"compositeKey"})}}catch(A){D(An.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=D,this.appName=A,this.namespace=U,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var A=this;return(0,P.Z)(function*(){const U=yield A.openDbPromise;return new Promise((q,ne)=>{const $e=U.transaction([vs],"readonly").objectStore(vs),Je=A.createCompositeKey(D);try{const ut=$e.get(Je);ut.onerror=At=>{ne(ao(At,"storage-get"))},ut.onsuccess=At=>{const ft=At.target.result;q(ft?ft.value:void 0)}}catch(ut){ne(An.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(D,A){var U=this;return(0,P.Z)(function*(){const q=yield U.openDbPromise;return new Promise((ne,pe)=>{const Je=q.transaction([vs],"readwrite").objectStore(vs),ut=U.createCompositeKey(D);try{const At=Je.put({compositeKey:ut,value:A});At.onerror=ft=>{pe(ao(ft,"storage-set"))},At.onsuccess=()=>{ne()}}catch(At){pe(An.create("storage-set",{originalErrorMessage:At?.message}))}})})()}delete(D){var A=this;return(0,P.Z)(function*(){const U=yield A.openDbPromise;return new Promise((q,ne)=>{const $e=U.transaction([vs],"readwrite").objectStore(vs),Je=A.createCompositeKey(D);try{const ut=$e.delete(Je);ut.onerror=At=>{ne(ao(At,"storage-delete"))},ut.onsuccess=()=>{q()}}catch(ut){ne(An.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Cs{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const A=D.storage.getLastFetchStatus(),U=D.storage.getLastSuccessfulFetchTimestampMillis(),q=D.storage.getActiveConfig(),ne=yield A;ne&&(D.lastFetchStatus=ne);const pe=yield U;pe&&(D.lastSuccessfulFetchTimestampMillis=pe);const $e=yield q;$e&&(D.activeConfig=$e)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function up(){return ra.apply(this,arguments)}function ra(){return(ra=(0,P.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function nu(){(0,te._registerComponent)(new ue.wA("remote-config",function w(D,{instanceIdentifier:A}){const U=D.getProvider("app").getImmediate(),q=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw An.create("registration-window");if(!(0,re.hl)())throw An.create("indexed-db-unavailable");const{projectId:ne,apiKey:pe,appId:$e}=U.options;if(!ne)throw An.create("registration-project-id");if(!pe)throw An.create("registration-api-key");if(!$e)throw An.create("registration-app-id");const Je=new tu($e,U.name,A=A||"firebase"),ut=new Cs(Je),At=new ae.Yd(oi);At.logLevel=ae.in.ERROR;const ft=new Ki(q,te.SDK_VERSION,A,ne,pe,$e),Xn=new ui(ft,Je),Un=new tl(Xn,Je,ut,At),os=new Xl(U,Un,ut,Je,At);return function Sn(w){const D=(0,re.m9)(w);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(os),os},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(oi,"0.4.1"),(0,te.registerVersion)(oi,"0.4.1","esm2017")}();const Jn="/firebase-messaging-sw.js",ws="/firebase-cloud-messaging-push-scope",Ei="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ia="google.c.a.c_id",nl="google.c.a.c_l",su="google.c.a.ts",Ds="google.c.a.e";var Sr=(()=>{return(w=Sr||(Sr={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Sr;var w})();function ci(w){const D=new Uint8Array(w);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yr(w){const A=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(A),q=new Uint8Array(U.length);for(let ne=0;ne<U.length;++ne)q[ne]=U.charCodeAt(ne);return q}const Yi="fcm_token_details_db",lo="fcm_token_object_Store";function gh(w){return rl.apply(this,arguments)}function rl(){return rl=(0,P.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(Yi))return null;let D=null;return(yield(0,oe.X3)(Yi,5,{upgrade:(U=(0,P.Z)(function*(q,ne,pe,$e){var Je;if(ne<2||!q.objectStoreNames.contains(lo))return;const ut=$e.objectStore(lo),At=yield ut.index("fcmSenderId").get(w);if(yield ut.clear(),At)if(2===ne){const ft=At;if(!ft.auth||!ft.p256dh||!ft.endpoint)return;D={token:ft.fcmToken,createTime:null!==(Je=ft.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:ft.auth,p256dh:ft.p256dh,endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:"string"==typeof ft.vapidKey?ft.vapidKey:ci(ft.vapidKey)}}}else if(3===ne){const ft=At;D={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:ci(ft.auth),p256dh:ci(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:ci(ft.vapidKey)}}}else if(4===ne){const ft=At;D={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:ci(ft.auth),p256dh:ci(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:ci(ft.vapidKey)}}}}),function(ne,pe,$e,Je){return U.apply(this,arguments)})})).close(),yield(0,oe.Lj)(Yi),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),gn(D)?D:null;var U}),rl.apply(this,arguments)}function gn(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:D}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const xr="firebase-messaging-store";let Zn=null;function sa(){return Zn||(Zn=(0,oe.X3)("firebase-messaging-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(xr)}})),Zn}function Is(w){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,P.Z)(function*(w){const D=Mr(w),U=yield(yield sa()).transaction(xr).objectStore(xr).get(D);if(U)return U;{const q=yield gh(w.appConfig.senderId);if(q)return yield $t(w,q),q}})).apply(this,arguments)}function $t(w,D){return il.apply(this,arguments)}function il(){return(il=(0,P.Z)(function*(w,D){const A=Mr(w),q=(yield sa()).transaction(xr,"readwrite");return yield q.objectStore(xr).put(D,A),yield q.done,D})).apply(this,arguments)}function wi(w){return sl.apply(this,arguments)}function sl(){return(sl=(0,P.Z)(function*(w){const D=Mr(w),U=(yield sa()).transaction(xr,"readwrite");yield U.objectStore(xr).delete(D),yield U.done})).apply(this,arguments)}function Mr({appConfig:w}){return w.appId}const Cn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function It(w,D){return co.apply(this,arguments)}function co(){return(co=(0,P.Z)(function*(w,D){const A=yield po(w),U=be(D),q={method:"POST",headers:A,body:JSON.stringify(U)};let ne;try{ne=yield(yield fetch(Qi(w.appConfig),q)).json()}catch(pe){throw Cn.create("token-subscribe-failed",{errorInfo:pe?.toString()})}if(ne.error)throw Cn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw Cn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function mh(w,D){return ho.apply(this,arguments)}function ho(){return(ho=(0,P.Z)(function*(w,D){const A=yield po(w),U=be(D.subscriptionOptions),q={method:"PATCH",headers:A,body:JSON.stringify(U)};let ne;try{ne=yield(yield fetch(`${Qi(w.appConfig)}/${D.token}`,q)).json()}catch(pe){throw Cn.create("token-update-failed",{errorInfo:pe?.toString()})}if(ne.error)throw Cn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw Cn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function au(w,D){return fo.apply(this,arguments)}function fo(){return(fo=(0,P.Z)(function*(w,D){const U={method:"DELETE",headers:yield po(w)};try{const ne=yield(yield fetch(`${Qi(w.appConfig)}/${D}`,U)).json();if(ne.error)throw Cn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(q){throw Cn.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function Qi({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function po(w){return bs.apply(this,arguments)}function bs(){return(bs=(0,P.Z)(function*({appConfig:w,installations:D}){const A=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function be({p256dh:w,auth:D,endpoint:A,vapidKey:U}){const q={web:{endpoint:A,auth:D,p256dh:w}};return U!==Ei&&(q.web.applicationPubKey=U),q}const Ot=6048e5;function Ac(w){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,P.Z)(function*(w){const D=yield Sc(w.swRegistration,w.vapidKey),A={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:D.endpoint,auth:ci(D.getKey("auth")),p256dh:ci(D.getKey("p256dh"))},U=yield Is(w.firebaseDependencies);if(U){if(_h(U.subscriptionOptions,A))return Date.now()>=U.createTime+Ot?oa(w,{token:U.token,createTime:Date.now(),subscriptionOptions:A}):U.token;try{yield au(w.firebaseDependencies,U.token)}catch(q){console.warn(q)}return aa(w.firebaseDependencies,A)}return aa(w.firebaseDependencies,A)})).apply(this,arguments)}function Fn(w){return As.apply(this,arguments)}function As(){return(As=(0,P.Z)(function*(w){const D=yield Is(w.firebaseDependencies);D&&(yield au(w.firebaseDependencies,D.token),yield wi(w.firebaseDependencies));const A=yield w.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()})).apply(this,arguments)}function oa(w,D){return hr.apply(this,arguments)}function hr(){return(hr=(0,P.Z)(function*(w,D){try{const A=yield mh(w.firebaseDependencies,D),U=Object.assign(Object.assign({},D),{token:A,createTime:Date.now()});return yield $t(w.firebaseDependencies,U),A}catch(A){throw yield Fn(w),A}})).apply(this,arguments)}function aa(w,D){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,P.Z)(function*(w,D){const U={token:yield It(w,D),createTime:Date.now(),subscriptionOptions:D};return yield $t(w,U),U.token})).apply(this,arguments)}function Sc(w,D){return go.apply(this,arguments)}function go(){return(go=(0,P.Z)(function*(w,D){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yr(D)})})).apply(this,arguments)}function _h(w,D){return D.vapidKey===w.vapidKey&&D.endpoint===w.endpoint&&D.auth===w.auth&&D.p256dh===w.p256dh}function Ji(w){const D={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Ln(w,D){if(!D.notification)return;w.notification={};const A=D.notification.title;A&&(w.notification.title=A);const U=D.notification.body;U&&(w.notification.body=U);const q=D.notification.image;q&&(w.notification.image=q);const ne=D.notification.icon;ne&&(w.notification.icon=ne)}(D,w),function zr(w,D){!D.data||(w.data=D.data)}(D,w),function mo(w,D){var A,U,q,ne,pe;if(!(D.fcmOptions||null!==(A=D.notification)&&void 0!==A&&A.click_action))return;w.fcmOptions={};const $e=null!==(q=null===(U=D.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==q?q:null===(ne=D.notification)||void 0===ne?void 0:ne.click_action;$e&&(w.fcmOptions.link=$e);const Je=null===(pe=D.fcmOptions)||void 0===pe?void 0:pe.analytics_label;Je&&(w.fcmOptions.analyticsLabel=Je)}(D,w),D}function _o(w){return"object"==typeof w&&!!w&&ia in w}function di(w,D){const A=[];for(let U=0;U<w.length;U++)A.push(w.charAt(U)),U<D.length&&A.push(D.charAt(U));return A.join("")}function ol(w){return Cn.create("missing-app-config-values",{valueName:w})}di("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),di("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class uu{constructor(D,A,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function lu(w){if(!w||!w.options)throw ol("App Configuration Object");if(!w.name)throw ol("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:A}=w;for(const U of D)if(!A[U])throw ol(U);return{appName:w.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:q,installations:A,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Mc(w){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,P.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Jn,{scope:ws}),w.swRegistration.update().catch(()=>{})}catch(D){throw Cn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function al(w,D){return yo.apply(this,arguments)}function yo(){return(yo=(0,P.Z)(function*(w,D){if(!D&&!w.swRegistration&&(yield Mc(w)),D||!w.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Cn.create("invalid-sw-registration");w.swRegistration=D}})).apply(this,arguments)}function ll(w,D){return vo.apply(this,arguments)}function vo(){return(vo=(0,P.Z)(function*(w,D){D?w.vapidKey=D:w.vapidKey||(w.vapidKey=Ei)})).apply(this,arguments)}function Rs(){return(Rs=(0,P.Z)(function*(w,D){if(!navigator)throw Cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Cn.create("permission-blocked");return yield ll(w,D?.vapidKey),yield al(w,D?.serviceWorkerRegistration),Ac(w)})).apply(this,arguments)}function Rc(w,D,A){return Co.apply(this,arguments)}function Co(){return(Co=(0,P.Z)(function*(w,D,A){const U=Pc(D);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:A[ia],message_name:A[nl],message_time:A[su],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Pc(w){switch(w){case Sr.NOTIFICATION_CLICKED:return"notification_open";case Sr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Di(){return(Di=(0,P.Z)(function*(w,D){const A=D.data;if(!A.isFirebaseMessaging)return;w.onMessageHandler&&A.messageType===Sr.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Ji(A)):w.onMessageHandler.next(Ji(A)));const U=A.data;_o(U)&&"1"===U[Ds]&&(yield Rc(w,A.messageType,U))})).apply(this,arguments)}const Ii="@firebase/messaging",pn=w=>{const D=new uu(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function du(w,D){return Di.apply(this,arguments)}(D,A)),D},hi=w=>{const D=w.getProvider("messaging").getImmediate();return{getToken:U=>function cu(w,D){return Rs.apply(this,arguments)}(D,U)}};function fu(){return ul.apply(this,arguments)}function ul(){return(ul=(0,P.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function un(){(0,te._registerComponent)(new ue.wA("messaging",pn,"PUBLIC")),(0,te._registerComponent)(new ue.wA("messaging-internal",hi,"PRIVATE")),(0,te.registerVersion)(Ii,"0.12.1"),(0,te.registerVersion)(Ii,"0.12.1","esm2017")}();const Os="analytics",gu="firebase_id",fl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mu="https://www.googletagmanager.com/gtag/js",En=new ae.Yd("@firebase/analytics");function ua(w){return Promise.all(w.map(D=>D.catch(A=>A)))}function ca(w,D){const A=document.createElement("script");A.src=`${mu}?l=${w}&id=${D}`,A.async=!0,document.head.appendChild(A)}function Oc(w,D,A,U,q,ne){return ha.apply(this,arguments)}function ha(){return(ha=(0,P.Z)(function*(w,D,A,U,q,ne){const pe=U[q];try{if(pe)yield D[pe];else{const Je=(yield ua(A)).find(ut=>ut.measurementId===q);Je&&(yield D[Je.appId])}}catch($e){En.error($e)}w("config",q,ne)})).apply(this,arguments)}function fi(w,D,A,U,q){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,P.Z)(function*(w,D,A,U,q){try{let ne=[];if(q&&q.send_to){let pe=q.send_to;Array.isArray(pe)||(pe=[pe]);const $e=yield ua(A);for(const Je of pe){const ut=$e.find(ft=>ft.measurementId===Je),At=ut&&D[ut.appId];if(!At){ne=[];break}ne.push(At)}}0===ne.length&&(ne=Object.values(D)),yield Promise.all(ne),w("event",U,q||{})}catch(ne){En.error(ne)}})).apply(this,arguments)}function _u(w){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(mu)&&A.src.includes(w))return A;return null}const Vn=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Do=new class gl{constructor(D={},A=1e3){this.throttleMetadata=D,this.intervalMillis=A}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,A){this.throttleMetadata[D]=A}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function xs(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Fc(w){return wn.apply(this,arguments)}function wn(){return(wn=(0,P.Z)(function*(w){var D;const{appId:A,apiKey:U}=w,q={method:"GET",headers:xs(U)},ne=fl.replace("{app-id}",A),pe=yield fetch(ne,q);if(200!==pe.status&&304!==pe.status){let $e="";try{const Je=yield pe.json();null!==(D=Je.error)&&void 0!==D&&D.message&&($e=Je.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:pe.status,responseMessage:$e})}return pe.json()})).apply(this,arguments)}function yu(w){return vr.apply(this,arguments)}function vr(){return(vr=(0,P.Z)(function*(w,D=Do,A){const{appId:U,apiKey:q,measurementId:ne}=w.options;if(!U)throw Vn.create("no-app-id");if(!q){if(ne)return{measurementId:ne,appId:U};throw Vn.create("no-api-key")}const pe=D.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new Io;return setTimeout((0,P.Z)(function*(){$e.abort()}),void 0!==A?A:6e4),vu({appId:U,apiKey:q,measurementId:ne},pe,$e,D)})).apply(this,arguments)}function vu(w,D,A){return pi.apply(this,arguments)}function pi(){return(pi=(0,P.Z)(function*(w,{throttleEndTimeMillis:D,backoffCount:A},U,q=Do){var ne;const{appId:pe,measurementId:$e}=w;try{yield ml(U,D)}catch(Je){if($e)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${Je?.message}]`),{appId:pe,measurementId:$e};throw Je}try{const Je=yield Fc(w);return q.deleteThrottleMetadata(pe),Je}catch(Je){const ut=Je;if(!fa(ut)){if(q.deleteThrottleMetadata(pe),$e)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:pe,measurementId:$e};throw Je}const At=503===Number(null===(ne=ut?.customData)||void 0===ne?void 0:ne.httpStatus)?(0,re.$s)(A,q.intervalMillis,30):(0,re.$s)(A,q.intervalMillis),ft={throttleEndTimeMillis:Date.now()+At,backoffCount:A+1};return q.setThrottleMetadata(pe,ft),En.debug(`Calling attemptFetch again in ${At} millis`),vu(w,ft,U,q)}})).apply(this,arguments)}function ml(w,D){return new Promise((A,U)=>{const q=Math.max(D-Date.now(),0),ne=setTimeout(A,q);w.addEventListener(()=>{clearTimeout(ne),U(Vn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function fa(w){if(!(w instanceof re.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Io{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Xi,ga;function ks(){return(ks=(0,P.Z)(function*(w,D,A,U,q){if(q&&q.global)w("event",A,U);else{const ne=yield D;w("event",A,Object.assign(Object.assign({},U),{send_to:ne}))}})).apply(this,arguments)}function Us(w){ga=w}function _l(w){Xi=w}function Ti(){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,P.Z)(function*(){if(!(0,re.hl)())return En.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(w){return En.warn(Vn.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function $s(){return($s=(0,P.Z)(function*(w,D,A,U,q,ne,pe){var $e;const Je=yu(w);Je.then(Un=>{A[Un.measurementId]=Un.appId,w.options.measurementId&&Un.measurementId!==w.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Un.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Un=>En.error(Un)),D.push(Je);const ut=Ti().then(Un=>{if(Un)return U.getId()}),[At,ft]=yield Promise.all([Je,ut]);_u(ne)||ca(ne,At.measurementId),ga&&(q("consent","default",ga),Us(void 0)),q("js",new Date);const Xn=null!==($e=pe?.config)&&void 0!==$e?$e:{};return Xn.origin="firebase",Xn.update=!0,null!=ft&&(Xn[gu]=ft),q("config",At.measurementId,Xn),Xi&&(q("set",Xi),_l(void 0)),At.measurementId})).apply(this,arguments)}class ma{constructor(D){this.app=D}_delete(){return delete rr[this.app.options.appId],Promise.resolve()}}let rr={},Hs=[];const es={};let Ws,qr,js="dataLayer",Eu=!1;function Uc(w,D,A){!function yh(){const w=[];if((0,re.ru)()&&w.push("This is a browser extension environment."),(0,re.zI)()||w.push("Cookies are not available."),w.length>0){const D=w.map((U,q)=>`(${q+1}) ${U}`).join(" "),A=Vn.create("invalid-analytics-context",{errorInfo:D});En.warn(A.message)}}();const U=w.options.appId;if(!U)throw Vn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Vn.create("no-api-key");En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rr[U])throw Vn.create("already-exists",{id:U});if(!Eu){!function da(w){let D=[];Array.isArray(window[w])?D=window[w]:window[w]=D}(js);const{wrappedGtag:ne,gtagCore:pe}=function wo(w,D,A,U,q){let ne=function(...pe){window[U].push(arguments)};return window[q]&&"function"==typeof window[q]&&(ne=window[q]),window[q]=function pl(w,D,A,U){function ne(){return(ne=(0,P.Z)(function*(pe,$e,Je){try{"event"===pe?yield fi(w,D,A,$e,Je):"config"===pe?yield Oc(w,D,A,U,$e,Je):"consent"===pe?w("consent","update",Je):w("set",$e)}catch(ut){En.error(ut)}})).apply(this,arguments)}return function q(pe,$e,Je){return ne.apply(this,arguments)}}(ne,w,D,A),{gtagCore:ne,wrappedGtag:window[q]}}(rr,Hs,es,js,"gtag");qr=ne,Ws=pe,Eu=!0}return rr[U]=function Vc(w,D,A,U,q,ne,pe){return $s.apply(this,arguments)}(w,Hs,es,D,Ws,js,A),new ma(w)}function dp(){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,P.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const nt="@firebase/analytics";!function on(){(0,te._registerComponent)(new ue.wA(Os,(D,{options:A})=>Uc(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,te._registerComponent)(new ue.wA("analytics-internal",function w(D){try{const A=D.getProvider(Os).getImmediate();return{logEvent:(U,q,ne)=>function sn(w,D,A,U){w=(0,re.m9)(w),function bo(w,D,A,U,q){return ks.apply(this,arguments)}(qr,rr[w.app.options.appId],D,A,U).catch(q=>En.error(q))}(A,U,q,ne)}}catch(A){throw Vn.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,te.registerVersion)(nt,"0.9.1"),(0,te.registerVersion)(nt,"0.9.1","esm2017")}();var gi=O(4408),ir=O(7565);const wu=new class ns extends ir.v{}(class ts extends gi.o{constructor(D,A){super(D,A),this.scheduler=D,this.work=A}schedule(D,A=0){return A>0?super.schedule(D,A):(this.delay=A,this.state=D,this.scheduler.flush(this),this)}execute(D,A){return A>0||this.closed?super.execute(D,A):this._execute(D,A)}requestAsyncId(D,A,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(D,A,U):(D.flush(this),0)}});var $c=O(4986),Ai=O(9751),Iu=O(8505),Si=O(9468),ct=O(5363);const vl=new d.GfV("7.5.0"),Qr="__angularfire_symbol__analyticsIsSupportedValue",ya="__angularfire_symbol__analyticsIsSupported",Ao="__angularfire_symbol__remoteConfigIsSupportedValue",Mn="__angularfire_symbol__remoteConfigIsSupported",So="__angularfire_symbol__messagingIsSupportedValue",va="__angularfire_symbol__messagingIsSupported";function zs(w,D,A){if(D){if(1===D.length)return D[0];const ne=D.filter(pe=>pe.app===A);if(1===ne.length)return ne[0]}return A.container.getProvider(w).getImmediate({optional:!0})}globalThis[ya]||(globalThis[ya]=dp().then(w=>globalThis[Qr]=w).catch(()=>globalThis[Qr]=!1)),globalThis[va]||(globalThis[va]=fu().then(w=>globalThis[So]=w).catch(()=>globalThis[So]=!1)),globalThis[Mn]||(globalThis[Mn]=up().then(w=>globalThis[Ao]=w).catch(()=>globalThis[Ao]=!1));const Mi=(w,D)=>{const A=D?[D]:(0,B.C6)(),U=[];return A.forEach(q=>{q.container.getProvider(w).instances.forEach(pe=>{U.includes(pe)||U.push(pe)})}),U};function Fr(){}class Ea{constructor(D,A=wu){this.zone=D,this.delegate=A}now(){return this.delegate.now()}schedule(D,A,U){const q=this.zone;return this.delegate.schedule(function(pe){q.runGuarded(()=>{D.apply(this,[pe])})},A,U)}}class Ri{constructor(D){this.zone=D,this.task=null}call(D,A){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fr,{},Fr,Fr)),A.pipe((0,Iu.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rs=(()=>{class w{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Ea(Zone.current)),this.insideAngular=A.run(()=>new Ea(Zone.current,$c.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(A){return new(A||w)(d.LFG(d.R0b))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function sr(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function bu(w){return sr().ngZone.runOutsideAngular(()=>w())}function cn(w){return sr().ngZone.run(()=>w())}function Rn(w){return sr(),function dn(w){return function(A){return(A=A.lift(new Ri(w.ngZone))).pipe((0,Si.R)(w.outsideAngular),(0,ct.Q)(w.insideAngular))}}(sr())(w)}const wa=(w,D)=>function(){const U=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),cn(()=>w.apply(void 0,U))},Jr=(w,D)=>function(){let A;const U=arguments;for(let ne=0;ne<arguments.length;ne++)"function"==typeof U[ne]&&(D&&(A||(A=cn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fr,{},Fr,Fr)))),U[ne]=wa(U[ne],A));const q=bu(()=>w.apply(this,U));if(!D){if(q instanceof Ai.y){const ne=sr();return q.pipe((0,Si.R)(ne.outsideAngular),(0,ct.Q)(ne.insideAngular))}return cn(()=>q)}return q instanceof Ai.y?q.pipe(Rn):q instanceof Promise?cn(()=>new Promise((ne,pe)=>q.then($e=>cn(()=>ne($e)),$e=>cn(()=>pe($e))))):"function"==typeof q&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),q.apply(this,arguments)}:cn(()=>q)}},1808:(rt,we,O)=>{O.d(we,{$:()=>Qi,A:()=>W,B:()=>Ae,G:()=>Gi,H:()=>mr,J:()=>ui,L:()=>j,M:()=>ra,N:()=>iu,P:()=>$c,Q:()=>ia,R:()=>hp,T:()=>nl,U:()=>Ei,V:()=>Sr,W:()=>ci,X:()=>gh,Y:()=>uo,Z:()=>It,_:()=>mh,a:()=>bi,a0:()=>Ac,a1:()=>Fn,a2:()=>oa,a3:()=>aa,a4:()=>Sc,a5:()=>_h,a6:()=>Ln,a7:()=>zr,a8:()=>_o,a9:()=>di,aA:()=>$,aB:()=>$e,aC:()=>cn,aD:()=>bu,aE:()=>lt,aI:()=>xs,aL:()=>Ds,aa:()=>Mc,ab:()=>al,ac:()=>ll,af:()=>Rc,ag:()=>Pc,ah:()=>du,ak:()=>xr,al:()=>cl,an:()=>mu,ao:()=>ha,ap:()=>he,aq:()=>Oe,ar:()=>Ye,as:()=>Ge,at:()=>Ro,au:()=>or,av:()=>wt,aw:()=>De,ax:()=>X,ay:()=>Xn,az:()=>Ue,b:()=>Vn,c:()=>Mn,d:()=>Hc,e:()=>va,f:()=>Rn,g:()=>A,h:()=>Jr,i:()=>Bs,j:()=>ne,k:()=>ei,l:()=>Yr,m:()=>Kc,n:()=>Yc,o:()=>oe,r:()=>gi,s:()=>Kr,u:()=>wu});var d=O(5861),B=O(2090),P=O(9681),te=O(1877),re=O(655),ue=O(4859);const oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function K(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ve=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ze=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),le=new te.Yd("@firebase/auth");function He(_,...f){le.logLevel<=te.in.ERROR&&le.error(`Auth (${P.SDK_VERSION}): ${_}`,...f)}function Ge(_,...f){throw Fe(_,...f)}function De(_,...f){return Fe(_,...f)}function Ie(_,f,p){const C=Object.assign(Object.assign({},ve()),{[f]:p});return new B.LL("auth","Firebase",C).create(f,{appName:_.name})}function ge(_,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Ge(_,"argument-error"),Ie(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(_,...f){if("string"!=typeof _){const p=f[0],C=[...f.slice(1)];return C[0]&&(C[0].appName=_.name),_._errorFactory.create(p,...C)}return ze.create(_,...f)}function X(_,f,...p){if(!_)throw Fe(f,...p)}function se(_){const f="INTERNAL ASSERTION FAILED: "+_;throw He(f),new Error(f)}function he(_,f){_||se(f)}const Ve=new Map;function Ue(_){he(_ instanceof Function,"Expected a class definition");let f=Ve.get(_);return f?(he(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,Ve.set(_,f),f)}function ie(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ce(){return"http:"===me()||"https:"===me()}function me(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class _e{constructor(f,p){this.shortDelay=f,this.longDelay=p,he(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Se(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ce()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tt(_,f){he(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Ct{static initialize(f,p,C){this.fetchImpl=f,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ke=new _e(3e4,6e4);function at(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function it(_,f,p,C){return xt.apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(_,f,p,C,T={}){return yn(_,T,(0,d.Z)(function*(){let N={},Y={};C&&("GET"===f?Y=C:N={body:JSON.stringify(C)});const Me=(0,B.xO)(Object.assign({key:_.config.apiKey},Y)).slice(1),Qe=yield _._getAdditionalHeaders();return Qe["Content-Type"]="application/json",_.languageCode&&(Qe["X-Firebase-Locale"]=_.languageCode),Ct.fetch()(Qn(_,_.config.apiHost,p,Me),Object.assign({method:f,headers:Qe,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function yn(_,f,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.Z)(function*(_,f,p){_._canInitEmulator=!1;const C=Object.assign(Object.assign({},jt),f);try{const T=new cr(_),N=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const Y=yield N.json();if("needConfirmation"in Y)throw vn(_,"account-exists-with-different-credential",Y);if(N.ok&&!("errorMessage"in Y))return Y;{const Me=N.ok?Y.errorMessage:Y.error.message,[Qe,dt]=Me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qe)throw vn(_,"credential-already-in-use",Y);if("EMAIL_EXISTS"===Qe)throw vn(_,"email-already-in-use",Y);if("USER_DISABLED"===Qe)throw vn(_,"user-disabled",Y);const Nt=C[Qe]||Qe.toLowerCase().replace(/[_\s]+/g,"-");if(dt)throw Ie(_,Nt,dt);Ge(_,Nt)}}catch(T){if(T instanceof B.ZR)throw T;Ge(_,"network-request-failed")}})).apply(this,arguments)}function Ht(_,f,p,C){return $n.apply(this,arguments)}function $n(){return($n=(0,d.Z)(function*(_,f,p,C,T={}){const N=yield it(_,f,p,C,T);return"mfaPendingCredential"in N&&Ge(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Qn(_,f,p,C){const T=`${f}${p}?${C}`;return _.config.emulator?tt(_.config,T):`${_.config.apiScheme}://${T}`}class cr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(De(this.auth,"network-request-failed")),Ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vn(_,f,p){const C={appName:_.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const T=De(_,f,C);return T.customData._tokenResponse=p,T}function Wr(){return(Wr=(0,d.Z)(function*(_,f){return it(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function We(_,f){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(_,f){return it(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function In(_,f){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,d.Z)(function*(_,f){return it(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function zn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function tn(){return(tn=(0,d.Z)(function*(_,f=!1){const p=(0,B.m9)(_),C=yield p.getIdToken(f),T=st(C);X(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,Y=N?.sign_in_provider;return{claims:T,token:C,authTime:zn(qt(T.auth_time)),issuedAtTime:zn(qt(T.iat)),expirationTime:zn(qt(T.exp)),signInProvider:Y||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function qt(_){return 1e3*Number(_)}function st(_){const[f,p,C]=_.split(".");if(void 0===f||void 0===p||void 0===C)return He("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,B.tV)(p);return T?JSON.parse(T):(He("Failed to decode base64 JWT payload"),null)}catch(T){return He("Caught error parsing JWT payload as JSON",T?.toString()),null}}function Et(_,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(_,f,p=!1){if(p)return f;try{return yield f}catch(C){throw C instanceof B.ZR&&bn(C)&&_.auth.currentUser===_&&(yield _.auth.signOut()),C}})).apply(this,arguments)}function bn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class tr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield p.iteration()}),C)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&f.schedule(!0))}f.schedule()})()}}class gt{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=zn(this.lastLoginAt),this.creationTime=zn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nr(_){return bt.apply(this,arguments)}function bt(){return(bt=(0,d.Z)(function*(_){var f;const p=_.auth,C=yield _.getIdToken(),T=yield Et(_,In(p,{idToken:C}));X(T?.users.length,p,"internal-error");const N=T.users[0];_._notifyReloadListener(N);const Y=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?ln(N.providerUserInfo):[],Me=Hn(_.providerData,Y),Nt=!!_.isAnonymous&&!(_.email&&N.passwordHash||Me?.length),Kt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Me,metadata:new gt(N.createdAt,N.lastLoginAt),isAnonymous:Nt};Object.assign(_,Kt)})).apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(_){const f=(0,B.m9)(_);yield nr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Hn(_,f){return[..._.filter(C=>!f.some(T=>T.providerId===C.providerId)),...f]}function ln(_){return _.map(f=>{var{providerId:p}=f,C=(0,re._T)(f,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ce(){return(Ce=(0,d.Z)(function*(_,f){const p=yield yn(_,{},(0,d.Z)(function*(){const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:N}=_.config,Y=Qn(_,T,"/v1/token",`key=${N}`),Me=yield _._getAdditionalHeaders();return Me["Content-Type"]="application/x-www-form-urlencoded",Ct.fetch()(Y,{method:"POST",headers:Me,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){X(f.idToken,"internal-error"),X(typeof f.idToken<"u","internal-error"),X(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function ot(_){const f=st(_);return X(f,"internal-error"),X(typeof f.exp<"u","internal-error"),X(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var C=this;return(0,d.Z)(function*(){return X(!C.accessToken||C.refreshToken,f,"user-token-expired"),p||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(f,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var C=this;return(0,d.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:Y}=yield function Ze(_,f){return Ce.apply(this,arguments)}(f,p);C.updateTokensAndExpiration(T,N,Number(Y))})()}updateTokensAndExpiration(f,p,C){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(f,p){const{refreshToken:C,accessToken:T,expirationTime:N}=p,Y=new qe;return C&&(X("string"==typeof C,"internal-error",{appName:f}),Y.refreshToken=C),T&&(X("string"==typeof T,"internal-error",{appName:f}),Y.accessToken=T),N&&(X("number"==typeof N,"internal-error",{appName:f}),Y.expirationTime=N),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new qe,this.toJSON())}_performRefresh(){return se("not implemented")}}function ht(_,f){X("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class vt{constructor(f){var{uid:p,auth:C,stsTokenManager:T}=f,N=(0,re._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new gt(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,d.Z)(function*(){const C=yield Et(p,p.stsTokenManager.getToken(p.auth,f));return X(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(f){return function en(_){return tn.apply(this,arguments)}(this,f)}reload(){return function gr(_){return kt.apply(this,arguments)}(this)}_assign(f){this!==f&&(X(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new vt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var C=this;return(0,d.Z)(function*(){let T=!1;f.idToken&&f.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(f),T=!0),p&&(yield nr(C)),yield C.auth._persistUserIfCurrent(C),T&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var f=this;return(0,d.Z)(function*(){const p=yield f.getIdToken();return yield Et(f,function Nr(_,f){return Wr.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var C,T,N,Y,Me,Qe,dt,Nt;const Kt=null!==(C=p.displayName)&&void 0!==C?C:void 0,Pr=null!==(T=p.email)&&void 0!==T?T:void 0,Lr=null!==(N=p.phoneNumber)&&void 0!==N?N:void 0,No=null!==(Y=p.photoURL)&&void 0!==Y?Y:void 0,Dl=null!==(Me=p.tenantId)&&void 0!==Me?Me:void 0,Su=null!==(Qe=p._redirectEventId)&&void 0!==Qe?Qe:void 0,Zs=null!==(dt=p.createdAt)&&void 0!==dt?dt:void 0,Ah=null!==(Nt=p.lastLoginAt)&&void 0!==Nt?Nt:void 0,{uid:Oo,emailVerified:Qc,isAnonymous:Sh,providerData:xo,stsTokenManager:qs}=p;X(Oo&&qs,f,"internal-error");const Mh=qe.fromJSON(this.name,qs);X("string"==typeof Oo,f,"internal-error"),ht(Kt,f.name),ht(Pr,f.name),X("boolean"==typeof Qc,f,"internal-error"),X("boolean"==typeof Sh,f,"internal-error"),ht(Lr,f.name),ht(No,f.name),ht(Dl,f.name),ht(Su,f.name),ht(Zs,f.name),ht(Ah,f.name);const Mu=new vt({uid:Oo,auth:f,email:Pr,emailVerified:Qc,displayName:Kt,isAnonymous:Sh,photoURL:No,phoneNumber:Lr,tenantId:Dl,stsTokenManager:Mh,createdAt:Zs,lastLoginAt:Ah});return xo&&Array.isArray(xo)&&(Mu.providerData=xo.map(Sa=>Object.assign({},Sa))),Su&&(Mu._redirectEventId=Su),Mu}static _fromIdTokenResponse(f,p,C=!1){return(0,d.Z)(function*(){const T=new qe;T.updateFromServerResponse(p);const N=new vt({uid:p.localId,auth:f,stsTokenManager:T,isAnonymous:C});return yield nr(N),N})()}}const j=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(p,C){var T=this;return(0,d.Z)(function*(){T.storage[p]=C})()}_get(p){var C=this;return(0,d.Z)(function*(){const T=C.storage[p];return void 0===T?null:T})()}_remove(p){var C=this;return(0,d.Z)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return _.type="NONE",_})();function $(_,f,p){return`firebase:${_}:${f}:${p}`}class Z{constructor(f,p,C){this.persistence=f,this.auth=p,this.userKey=C;const{config:T,name:N}=this.auth;this.fullUserKey=$(this.userKey,T.apiKey,N),this.fullPersistenceKey=$("persistence",T.apiKey,N),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?vt._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,d.Z)(function*(){if(p.persistence===f)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,C="authUser"){return(0,d.Z)(function*(){if(!p.length)return new Z(Ue(j),f,C);const T=(yield Promise.all(p.map(function(){var dt=(0,d.Z)(function*(Nt){if(yield Nt._isAvailable())return Nt});return function(Nt){return dt.apply(this,arguments)}}()))).filter(dt=>dt);let N=T[0]||Ue(j);const Y=$(C,f.config.apiKey,f.name);let Me=null;for(const dt of p)try{const Nt=yield dt._get(Y);if(Nt){const Kt=vt._fromJSON(f,Nt);dt!==N&&(Me=Kt),N=dt;break}}catch{}const Qe=T.filter(dt=>dt._shouldAllowMigration);return N._shouldAllowMigration&&Qe.length?(N=Qe[0],Me&&(yield N._set(Y,Me.toJSON())),yield Promise.all(p.map(function(){var dt=(0,d.Z)(function*(Nt){if(Nt!==N)try{yield Nt._remove(Y)}catch{}});return function(Nt){return dt.apply(this,arguments)}}())),new Z(N,f,C)):new Z(N,f,C)})()}}function L(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ne(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(S(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Xe(f))return"Blackberry";if(Ee(f))return"Webos";if(k(f))return"Safari";if((f.includes("chrome/")||Q(f))&&!f.includes("edge/"))return"Chrome";if(Ye(f))return"Android";{const C=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function S(_=(0,B.z$)()){return/firefox\//i.test(_)}function k(_=(0,B.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Q(_=(0,B.z$)()){return/crios\//i.test(_)}function Ne(_=(0,B.z$)()){return/iemobile/i.test(_)}function Ye(_=(0,B.z$)()){return/android/i.test(_)}function Xe(_=(0,B.z$)()){return/blackberry/i.test(_)}function Ee(_=(0,B.z$)()){return/webos/i.test(_)}function Oe(_=(0,B.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function wt(_=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function zt(_=(0,B.z$)()){return Oe(_)||Ye(_)||Ee(_)||Xe(_)||/windows phone/i.test(_)||Ne(_)}function nn(_,f=[]){let p;switch(_){case"Browser":p=L((0,B.z$)());break;case"Worker":p=`${L((0,B.z$)())}-${_}`;break;default:p=_}const C=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${P.SDK_VERSION}/${C}`}class ji{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const C=N=>new Promise((Y,Me)=>{try{Y(f(N))}catch(Qe){Me(Qe)}});C.onAbort=p,this.queue.push(C);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,d.Z)(function*(){if(p.auth.currentUser===f)return;const C=[];try{for(const T of p.queue)yield T(f),T.onAbort&&C.push(T.onAbort)}catch(T){C.reverse();for(const N of C)try{N()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class _s{constructor(f,p,C){this.app=f,this.heartbeatServiceProvider=p,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wi(this),this.idTokenSubscription=new Wi(this),this.beforeStateQueue=new ji(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ze,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(f,p){var C=this;return p&&(this._popupRedirectResolver=Ue(p)),this._initializationPromise=this.queue((0,d.Z)(function*(){var T,N;if(!C._deleted&&(C.persistenceManager=yield Z.create(C,f),!C._deleted)){if(null!==(T=C._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(N=C.currentUser)||void 0===N?void 0:N.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,d.Z)(function*(){var C;const T=yield p.assertedPersistence.getCurrentUser();let N=T,Y=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Me=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,Qe=N?._redirectEventId,dt=yield p.tryRedirectSignIn(f);(!Me||Me===Qe)&&dt?.user&&(N=dt.user,Y=!0)}if(!N)return p.directlySetCurrentUser(null);if(!N._redirectEventId){if(Y)try{yield p.beforeStateQueue.runMiddleware(N)}catch(Me){N=T,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Me))}return N?p.reloadAndSetCurrentUserOrClear(N):p.directlySetCurrentUser(null)}return X(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===N._redirectEventId?p.directlySetCurrentUser(N):p.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var p=this;return(0,d.Z)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,d.Z)(function*(){try{yield nr(f)}catch(C){if("auth/network-request-failed"!==C?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Pe(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,d.Z)(function*(){const C=f?(0,B.m9)(f):null;return C&&X(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(f,p=!1){var C=this;return(0,d.Z)(function*(){if(!C._deleted)return f&&X(C.tenantId===f.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(f)),C.queue((0,d.Z)(function*(){yield C.directlySetCurrentUser(f),C.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,d.Z)(function*(){yield p.assertedPersistence.setPersistence(Ue(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,p,C){return this.registerStateListener(this.authStateSubscription,f,p,C)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,C){return this.registerStateListener(this.idTokenSubscription,f,p,C)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var C=this;return(0,d.Z)(function*(){const T=yield C.getOrInitRedirectPersistenceManager(p);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,d.Z)(function*(){if(!p.redirectPersistenceManager){const C=f&&Ue(f)||p._popupRedirectResolver;X(C,p,"argument-error"),p.redirectPersistenceManager=yield Z.create(p,[Ue(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,d.Z)(function*(){var C,T;return p._isInitialized&&(yield p.queue((0,d.Z)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===f?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,d.Z)(function*(){if(f===p.currentUser)return p.queue((0,d.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,C,T){if(this._deleted)return()=>{};const N="function"==typeof p?p:p.next.bind(p),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return X(Y,this,"internal-error"),Y.then(()=>N(this.currentUser)),"function"==typeof p?f.addObserver(p,C,T):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,d.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=nn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var p;const C={"X-Client-Version":f.clientVersion};f.app.options.appId&&(C["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return T&&(C["X-Firebase-Client"]=T),C})()}}function lt(_){return(0,B.m9)(_)}class Wi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(p=>this.observer=p)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gi(_,f,p){const C=lt(_);X(C._canInitEmulator,C,"emulator-config-failed"),X(/^https?:\/\//.test(f),C,"invalid-emulator-scheme");const T=!!p?.disableWarnings,N=na(f),{host:Y,port:Me}=function oi(_){const f=na(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(C);if(T){const N=T[1];return{host:N,port:Tn(C.substr(N.length+1))}}{const[N,Y]=C.split(":");return{host:N,port:Tn(Y)}}}(f);C.config.emulator={url:`${N}//${Y}${null===Me?"":`:${Me}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Y,port:Me,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function zi(){function _(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function na(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Tn(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class mr{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return se("not implemented")}_getIdTokenResponse(f){return se("not implemented")}_linkToIdToken(f,p){return se("not implemented")}_getReauthenticationResolver(f){return se("not implemented")}}function br(_,f){return An.apply(this,arguments)}function An(){return(An=(0,d.Z)(function*(_,f){return it(_,"POST","/v1/accounts:resetPassword",at(_,f))})).apply(this,arguments)}function Ja(_,f){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,d.Z)(function*(_,f){return it(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ic(_,f){return ro.apply(this,arguments)}function ro(){return(ro=(0,d.Z)(function*(_,f){return it(_,"POST","/v1/accounts:update",at(_,f))})).apply(this,arguments)}function Zi(){return(Zi=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:signInWithPassword",at(_,f))})).apply(this,arguments)}function ai(_,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,d.Z)(function*(_,f){return it(_,"POST","/v1/accounts:sendOobCode",at(_,f))})).apply(this,arguments)}function li(_,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,d.Z)(function*(_,f){return ai(_,f)})).apply(this,arguments)}function bc(_,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(_,f){return ai(_,f)})).apply(this,arguments)}function Tr(_,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,d.Z)(function*(_,f){return ai(_,f)})).apply(this,arguments)}function Xa(_,f){return so.apply(this,arguments)}function so(){return(so=(0,d.Z)(function*(_,f){return ai(_,f)})).apply(this,arguments)}function el(){return(el=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:signInWithEmailLink",at(_,f))})).apply(this,arguments)}function tl(){return(tl=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:signInWithEmailLink",at(_,f))})).apply(this,arguments)}class oo extends mr{constructor(f,p,C,T=null){super("password",C),this._email=f,this._password=p,this._tenantId=T}static _fromEmailAndPassword(f,p){return new oo(f,p,"password")}static _fromEmailAndCode(f,p,C=null){return new oo(f,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,d.Z)(function*(){switch(p.signInMethod){case"password":return function io(_,f){return Zi.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function _r(_,f){return el.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Ge(f,"internal-error")}})()}_linkToIdToken(f,p){var C=this;return(0,d.Z)(function*(){switch(C.signInMethod){case"password":return Ja(f,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function uh(_,f){return tl.apply(this,arguments)}(f,{idToken:p,email:C._email,oobCode:C._password});default:Ge(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ki(_,f){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:signInWithIdp",at(_,f))})).apply(this,arguments)}class ui extends mr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new ui(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Ge("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:T}=p,N=(0,re._T)(p,["providerId","signInMethod"]);if(!C||!T)return null;const Y=new ui(C,T);return Y.idToken=N.idToken||void 0,Y.accessToken=N.accessToken||void 0,Y.secret=N.secret,Y.nonce=N.nonce,Y.pendingToken=N.pendingToken||null,Y}_getIdTokenResponse(f){return Ki(f,this.buildRequest())}_linkToIdToken(f,p){const C=this.buildRequest();return C.idToken=p,Ki(f,C)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ki(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,B.xO)(p)}return f}}function dh(_,f){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,d.Z)(function*(_,f){return it(_,"POST","/v1/accounts:sendVerificationCode",at(_,f))})).apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:signInWithPhoneNumber",at(_,f))})).apply(this,arguments)}function eu(){return(eu=(0,d.Z)(function*(_,f){const p=yield Ht(_,"POST","/v1/accounts:signInWithPhoneNumber",at(_,f));if(p.temporaryProof)throw vn(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const hh={USER_NOT_FOUND:"user-not-found"};function tu(){return(tu=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:signInWithPhoneNumber",at(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),hh)})).apply(this,arguments)}class Cs extends mr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new Cs({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new Cs({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Xl(_,f){return ao.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function vs(_,f){return eu.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function fh(_,f){return tu.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:C,verificationCode:T}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:C,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:C,phoneNumber:T,temporaryProof:N}=f;return C||p||T||N?new Cs({verificationId:p,verificationCode:C,phoneNumber:T,temporaryProof:N}):null}}class Es{constructor(f){var p,C,T,N,Y,Me;const Qe=(0,B.zd)((0,B.pd)(f)),dt=null!==(p=Qe.apiKey)&&void 0!==p?p:null,Nt=null!==(C=Qe.oobCode)&&void 0!==C?C:null,Kt=function nu(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Qe.mode)&&void 0!==T?T:null);X(dt&&Nt&&Kt,"argument-error"),this.apiKey=dt,this.operation=Kt,this.code=Nt,this.continueUrl=null!==(N=Qe.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(Y=Qe.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(Me=Qe.tenantId)&&void 0!==Me?Me:null}static parseLink(f){const p=function ru(_){const f=(0,B.zd)((0,B.pd)(_)).link,p=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(_)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||p||f||_}(f);try{return new Es(p)}catch{return null}}}let ra=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,C){return oo._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const T=Es.parseLink(C);return X(T,"argument-error"),oo._fromEmailAndCode(p,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Jn{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ws extends Jn{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ei extends ws{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return X("providerId"in p&&"signInMethod"in p,"argument-error"),ui._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return X(f.idToken||f.accessToken,"argument-error"),ui._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ei.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ei.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:C,oauthTokenSecret:T,pendingToken:N,nonce:Y,providerId:Me}=f;if(!C&&!T&&!p&&!N||!Me)return null;try{return new Ei(Me)._credential({idToken:p,accessToken:C,nonce:Y,pendingToken:N})}catch{return null}}}let iu=(()=>{class _ extends ws{constructor(){super("facebook.com")}static credential(p){return ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ia=(()=>{class _ extends ws{constructor(){super("google.com"),this.addScope("profile")}static credential(p,C){return ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:C})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:C,oauthAccessToken:T}=p;if(!C&&!T)return null;try{return _.credential(C,T)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),nl=(()=>{class _ extends ws{constructor(){super("github.com")}static credential(p){return ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ds extends mr{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Ki(f,this.buildRequest())}_linkToIdToken(f,p){const C=this.buildRequest();return C.idToken=p,Ki(f,C)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ki(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:T,pendingToken:N}=p;return C&&T&&N&&C===T?new Ds(C,N):null}static _create(f,p){return new Ds(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Sr extends Jn{constructor(f){X(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Sr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Sr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Ds.fromJSON(f);return X(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:C}=f;if(!p||!C)return null;try{return Ds._create(C,p)}catch{return null}}}let ci=(()=>{class _ extends ws{constructor(){super("twitter.com")}static credential(p,C){return ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:C})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:C,oauthTokenSecret:T}=p;if(!C||!T)return null;try{return _.credential(C,T)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function yr(_,f){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:signUp",at(_,f))})).apply(this,arguments)}class Or{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,C,T=!1){return(0,d.Z)(function*(){const N=yield vt._fromIdTokenResponse(f,C,T),Y=lo(C);return new Or({user:N,providerId:Y,_tokenResponse:C,operationType:p})})()}static _forOperation(f,p,C){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(C,!0);const T=lo(C);return new Or({user:f,providerId:T,_tokenResponse:C,operationType:p})})()}}function lo(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function gh(_){return rl.apply(this,arguments)}function rl(){return(rl=(0,d.Z)(function*(_){var f;const p=lt(_);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new Or({user:p.currentUser,providerId:null,operationType:"signIn"});const C=yield yr(p,{returnSecureToken:!0}),T=yield Or._fromIdTokenResponse(p,"signIn",C,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class gn extends B.ZR{constructor(f,p,C,T){var N;super(p.code,p.message),this.operationType=C,this.user=T,Object.setPrototypeOf(this,gn.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(f,p,C,T){return new gn(f,p,C,T)}}function ou(_,f,p,C){return("reauthenticate"===f?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?gn._fromErrorAndOperation(_,N,f,C):N})}function Tc(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function xr(_,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(_,f){const p=(0,B.m9)(_);yield Gr(!0,p,f);const{providerUserInfo:C}=yield We(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),T=Tc(C||[]);return p.providerData=p.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function sa(_,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,d.Z)(function*(_,f,p=!1){const C=yield Et(_,f._linkToIdToken(_.auth,yield _.getIdToken()),p);return Or._forOperation(_,"link",C)})).apply(this,arguments)}function Gr(_,f,p){return $t.apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(_,f,p){yield nr(f);const T=!1===_?"provider-already-linked":"no-such-provider";X(Tc(f.providerData).has(p)===_,f.auth,T)})).apply(this,arguments)}function il(_,f){return wi.apply(this,arguments)}function wi(){return(wi=(0,d.Z)(function*(_,f,p=!1){const{auth:C}=_,T="reauthenticate";try{const N=yield Et(_,ou(C,T,f,_),p);X(N.idToken,C,"internal-error");const Y=st(N.idToken);X(Y,C,"internal-error");const{sub:Me}=Y;return X(_.uid===Me,C,"user-mismatch"),Or._forOperation(_,T,N)}catch(N){throw"auth/user-not-found"===N?.code&&Ge(C,"user-mismatch"),N}})).apply(this,arguments)}function sl(_,f){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,d.Z)(function*(_,f,p=!1){const C="signIn",T=yield ou(_,C,f),N=yield Or._fromIdTokenResponse(_,C,T);return p||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function uo(_,f){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,d.Z)(function*(_,f){return sl(lt(_),f)})).apply(this,arguments)}function It(_,f){return co.apply(this,arguments)}function co(){return(co=(0,d.Z)(function*(_,f){const p=(0,B.m9)(_);return yield Gr(!1,p,f.providerId),sa(p,f)})).apply(this,arguments)}function mh(_,f){return ho.apply(this,arguments)}function ho(){return(ho=(0,d.Z)(function*(_,f){return il((0,B.m9)(_),f)})).apply(this,arguments)}function au(_,f){return fo.apply(this,arguments)}function fo(){return(fo=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:signInWithCustomToken",at(_,f))})).apply(this,arguments)}function Qi(_,f){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(_,f){const p=lt(_),C=yield au(p,{token:f,returnSecureToken:!0}),T=yield Or._fromIdTokenResponse(p,"signIn",C);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class bs{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?be._fromServerResponse(f,p):Ge(f,"internal-error")}}class be extends bs{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new be(p)}}function Ot(_,f,p){var C;X((null===(C=p.url)||void 0===C?void 0:C.length)>0,_,"invalid-continue-uri"),X(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(X(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(X(p.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Ac(_,f,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,d.Z)(function*(_,f,p){const C=(0,B.m9)(_),T={requestType:"PASSWORD_RESET",email:f};p&&Ot(C,T,p),yield bc(C,T)})).apply(this,arguments)}function Fn(_,f,p){return As.apply(this,arguments)}function As(){return(As=(0,d.Z)(function*(_,f,p){yield br((0,B.m9)(_),{oobCode:f,newPassword:p})})).apply(this,arguments)}function oa(_,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(_,f){yield Ic((0,B.m9)(_),{oobCode:f})})).apply(this,arguments)}function aa(_,f){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,d.Z)(function*(_,f){const p=(0,B.m9)(_),C=yield br(p,{oobCode:f}),T=C.requestType;switch(X(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(C.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(C.mfaInfo,p,"internal-error");default:X(C.email,p,"internal-error")}let N=null;return C.mfaInfo&&(N=bs._fromServerResponse(lt(p),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function Sc(_,f){return go.apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(_,f){const{data:p}=yield aa((0,B.m9)(_),f);return p.email})).apply(this,arguments)}function _h(_,f,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,d.Z)(function*(_,f,p){const C=lt(_),T=yield yr(C,{returnSecureToken:!0,email:f,password:p}),N=yield Or._fromIdTokenResponse(C,"signIn",T);return yield C._updateCurrentUser(N.user),N})).apply(this,arguments)}function Ln(_,f,p){return uo((0,B.m9)(_),ra.credential(f,p))}function zr(_,f,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,d.Z)(function*(_,f,p){const C=(0,B.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};X(p.handleCodeInApp,C,"argument-error"),p&&Ot(C,T,p),yield Tr(C,T)})).apply(this,arguments)}function _o(_,f){return"EMAIL_SIGNIN"===Es.parseLink(f)?.operation}function di(_,f,p){return lu.apply(this,arguments)}function lu(){return(lu=(0,d.Z)(function*(_,f,p){const C=(0,B.m9)(_),T=ra.credentialWithLink(f,p||ie());return X(T._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),uo(C,T)})).apply(this,arguments)}function ol(_,f){return uu.apply(this,arguments)}function uu(){return(uu=(0,d.Z)(function*(_,f){return it(_,"POST","/v1/accounts:createAuthUri",at(_,f))})).apply(this,arguments)}function Mc(_,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,d.Z)(function*(_,f){const C={identifier:f,continueUri:ce()?ie():"http://localhost"},{signinMethods:T}=yield ol((0,B.m9)(_),C);return T||[]})).apply(this,arguments)}function al(_,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,d.Z)(function*(_,f){const p=(0,B.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Ot(p.auth,T,f);const{email:N}=yield li(p.auth,T);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function ll(_,f,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,d.Z)(function*(_,f,p){const C=(0,B.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};p&&Ot(C.auth,N,p);const{email:Y}=yield Xa(C.auth,N);Y!==_.email&&(yield _.reload())})).apply(this,arguments)}function cu(_,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,d.Z)(function*(_,f){return it(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Rc(_,f){return Co.apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(_,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const C=(0,B.m9)(_),N={idToken:yield C.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},Y=yield Et(C,cu(C.auth,N));C.displayName=Y.displayName||null,C.photoURL=Y.photoUrl||null;const Me=C.providerData.find(({providerId:Qe})=>"password"===Qe);Me&&(Me.displayName=C.displayName,Me.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Y)})).apply(this,arguments)}function Pc(_,f){return Di((0,B.m9)(_),f,null)}function du(_,f){return Di((0,B.m9)(_),null,f)}function Di(_,f,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,d.Z)(function*(_,f,p){const{auth:C}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),p&&(N.password=p);const Y=yield Et(_,Ja(C,N));yield _._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class pn{constructor(f,p,C={}){this.isNewUser=f,this.providerId=p,this.profile=C}}class hi extends pn{constructor(f,p,C,T){super(f,p,C),this.username=T}}class un extends pn{constructor(f,p){super(f,"facebook.com",p)}}class fu extends hi{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class ul extends pn{constructor(f,p){super(f,"google.com",p)}}class Nc extends hi{constructor(f,p,C){super(f,"twitter.com",p,C)}}function cl(_){const{user:f,_tokenResponse:p}=_;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function hu(_){var f,p;if(!_)return null;const{providerId:C}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!C&&_?.idToken){const Y=null===(p=null===(f=st(_.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(Y)return new pn(N,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!C)return null;switch(C){case"facebook.com":return new un(N,T);case"github.com":return new fu(N,T);case"google.com":return new ul(N,T);case"twitter.com":return new Nc(N,T,_.screenName||null);case"custom":case"anonymous":return new pn(N,null);default:return new pn(N,C,T)}}(p)}class Rr{constructor(f,p,C){this.type=f,this.credential=p,this.auth=C}static _fromIdtoken(f,p){return new Rr("enroll",f,p)}static _fromMfaPendingCredential(f){return new Rr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,C;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Rr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(C=f.multiFactorSession)&&void 0!==C&&C.idToken)return Rr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class fl{constructor(f,p,C){this.session=f,this.hints=p,this.signInResolver=C}static _fromError(f,p){const C=lt(f),T=p.customData._serverResponse,N=(T.mfaInfo||[]).map(Me=>bs._fromServerResponse(C,Me));X(T.mfaPendingCredential,C,"internal-error");const Y=Rr._fromMfaPendingCredential(T.mfaPendingCredential);return new fl(Y,N,function(){var Me=(0,d.Z)(function*(Qe){const dt=yield Qe._process(C,Y);delete T.mfaInfo,delete T.mfaPendingCredential;const Nt=Object.assign(Object.assign({},T),{idToken:dt.idToken,refreshToken:dt.refreshToken});switch(p.operationType){case"signIn":const Kt=yield Or._fromIdTokenResponse(C,p.operationType,Nt);return yield C._updateCurrentUser(Kt.user),Kt;case"reauthenticate":return X(p.user,C,"internal-error"),Or._forOperation(p.user,p.operationType,Nt);default:Ge(C,"internal-error")}});return function(Qe){return Me.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,d.Z)(function*(){return p.signInResolver(f)})()}}function mu(_,f){var p;const C=(0,B.m9)(_),T=f;return X(f.customData.operationType,C,"argument-error"),X(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,C,"argument-error"),fl._fromError(C,T)}function En(_,f){return it(_,"POST","/v2/accounts/mfaEnrollment:start",at(_,f))}class da{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(C=>bs._fromServerResponse(f.auth,C)))})}static _fromUser(f){return new da(f)}getSession(){var f=this;return(0,d.Z)(function*(){return Rr._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var C=this;return(0,d.Z)(function*(){const T=f,N=yield C.getSession(),Y=yield Et(C.user,T._process(C.user.auth,N,p));return yield C.user._updateTokensIfNecessary(Y),C.user.reload()})()}unenroll(f){var p=this;return(0,d.Z)(function*(){const C="string"==typeof f?f:f.uid,T=yield p.user.getIdToken(),N=yield Et(p.user,function ca(_,f){return it(_,"POST","/v2/accounts/mfaEnrollment:withdraw",at(_,f))}(p.user.auth,{idToken:T,mfaEnrollmentId:C}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Y})=>Y!==C),yield p.user._updateTokensIfNecessary(N);try{yield p.user.reload()}catch(Y){if("auth/user-token-expired"!==Y?.code)throw Y}})()}}const Oc=new WeakMap;function ha(_){const f=(0,B.m9)(_);return Oc.has(f)||Oc.set(f,da._fromUser(f)),Oc.get(f)}const fi="__sak";class Eo{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(fi,"1"),this.storage.removeItem(fi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vn=(()=>{class _ extends Eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pl(){const _=(0,B.z$)();return k(_)||Oe(_)}()&&function si(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const T=this.storage.getItem(C),N=this.localCache[C];T!==N&&p(C,N,T)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((Me,Qe,dt)=>{this.notifyListeners(Me,dt)});const T=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem(T);if(p.newValue!==Me)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!C)return}const N=()=>{const Me=this.storage.getItem(T);!C&&this.localCache[T]===Me||this.notifyListeners(T,Me)},Y=this.storage.getItem(T);!function Tt(){return(0,B.w1)()&&10===document.documentMode}()||Y===p.newValue||p.newValue===p.oldValue?N():setTimeout(N,10)}notifyListeners(p,C){this.localCache[p]=C;const T=this.listeners[p];if(T)for(const N of Array.from(T))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var T=()=>super._set,N=this;return(0,d.Z)(function*(){yield T().call(N,p,C),N.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,T=this;return(0,d.Z)(function*(){const N=yield C().call(T,p);return T.localCache[p]=JSON.stringify(N),N})()}_remove(p){var C=()=>super._remove,T=this;return(0,d.Z)(function*(){yield C().call(T,p),delete T.localCache[p]})()}}return _.type="LOCAL",_})(),bi=(()=>{class _ extends Eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return _.type="SESSION",_})();let Do=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(N=>N.isListeningto(p));if(C)return C;const T=new _(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,d.Z)(function*(){const T=p,{eventId:N,eventType:Y,data:Me}=T.data,Qe=C.handlersMap[Y];if(!Qe?.size)return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:Y});const dt=Array.from(Qe).map(function(){var Kt=(0,d.Z)(function*(Pr){return Pr(T.origin,Me)});return function(Pr){return Kt.apply(this,arguments)}}()),Nt=yield function gl(_){return Promise.all(_.map(function(){var f=(0,d.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return f.apply(this,arguments)}}()))}(dt);T.ports[0].postMessage({status:"done",eventId:N,eventType:Y,response:Nt})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function xs(_="",f=10){let p="";for(let C=0;C<f;C++)p+=Math.floor(10*Math.random());return _+p}class Fc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,C=50){var T=this;return(0,d.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let Y,Me;return new Promise((Qe,dt)=>{const Nt=xs("",20);N.port1.start();const Kt=setTimeout(()=>{dt(new Error("unsupported_event"))},C);Me={messageChannel:N,onMessage(Pr){const Lr=Pr;if(Lr.data.eventId===Nt)switch(Lr.data.status){case"ack":clearTimeout(Kt),Y=setTimeout(()=>{dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),Qe(Lr.data.response);break;default:clearTimeout(Kt),clearTimeout(Y),dt(new Error("invalid_response"))}}},T.handlers.add(Me),N.port1.addEventListener("message",Me.onMessage),T.target.postMessage({eventType:f,eventId:Nt,data:p},[N.port2])}).finally(()=>{Me&&T.removeMessageHandler(Me)})})()}}function wn(){return window}function vr(){return typeof wn().WorkerGlobalScope<"u"&&"function"==typeof wn().importScripts}function pi(){return(pi=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Io="firebaseLocalStorageDb",bo="firebaseLocalStorage",ks="fbase_key";class Fs{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ls(_,f){return _.transaction([bo],f?"readwrite":"readonly").objectStore(bo)}function pa(){const _=indexedDB.open(Io,1);return new Promise((f,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const C=_.result;try{C.createObjectStore(bo,{keyPath:ks})}catch(T){p(T)}}),_.addEventListener("success",(0,d.Z)(function*(){const C=_.result;C.objectStoreNames.contains(bo)?f(C):(C.close(),yield function Cu(){const _=indexedDB.deleteDatabase(Io);return new Fs(_).toPromise()}(),f(yield pa()))}))})}function To(_,f,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,d.Z)(function*(_,f,p){const C=Ls(_,!0).put({[ks]:f,value:p});return new Fs(C).toPromise()})).apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(_,f){const p=Ls(_,!1).get(f),C=yield new Fs(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function ga(_,f){const p=Ls(_,!0).delete(f);return new Fs(p).toPromise()}const Bs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,d.Z)(function*(){return p.db||(p.db=yield pa()),p.db})()}_withRetries(p){var C=this;return(0,d.Z)(function*(){let T=0;for(;;)try{const N=yield C._openDb();return yield p(N)}catch(N){if(T++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,d.Z)(function*(){return vr()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,d.Z)(function*(){p.receiver=Do._getInstance(function fa(){return vr()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,d.Z)(function*(T,N){return{keyProcessed:(yield p._poll()).includes(N.key)}});return function(T,N){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,d.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,d.Z)(function*(){var C,T;if(p.activeServiceWorker=yield function vu(){return pi.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Fc(p.activeServiceWorker);const N=yield p.sender._send("ping",{},800);!N||(null===(C=N[0])||void 0===C?void 0:C.fulfilled)&&(null===(T=N[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,d.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function ml(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const p=yield pa();return yield To(p,fi,"1"),yield ga(p,fi),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,d.Z)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var T=this;return(0,d.Z)(function*(){return T._withPendingWrite((0,d.Z)(function*(){return yield T._withRetries(N=>To(N,p,C)),T.localCache[p]=C,T.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,d.Z)(function*(){const T=yield C._withRetries(N=>function Lc(_,f){return Vs.apply(this,arguments)}(N,p));return C.localCache[p]=T,T})()}_remove(p){var C=this;return(0,d.Z)(function*(){return C._withPendingWrite((0,d.Z)(function*(){return yield C._withRetries(T=>ga(T,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,d.Z)(function*(){const C=yield p._withRetries(Y=>{const Me=Ls(Y,!1).getAll();return new Fs(Me).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:Y,value:Me}of C)N.add(Y),JSON.stringify(p.localCache[Y])!==JSON.stringify(Me)&&(p.notifyListeners(Y,Me),T.push(Y));for(const Y of Object.keys(p.localCache))p.localCache[Y]&&!N.has(Y)&&(p.notifyListeners(Y,null),T.push(Y));return T})()}notifyListeners(p,C){this.localCache[p]=C;const T=this.listeners[p];if(T)for(const N of Array.from(T))N(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Vc(_,f){return it(_,"POST","/v2/accounts/mfaSignIn:start",at(_,f))}function rr(){return(rr=(0,d.Z)(function*(_){return(yield it(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function es(_){return new Promise((f,p)=>{const C=document.createElement("script");C.setAttribute("src",_),C.onload=f,C.onerror=T=>{const N=De("internal-error");N.customData=T,p(N)},C.type="text/javascript",C.charset="UTF-8",function Hs(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(C)})}function js(_){return`__${_}${Math.floor(1e6*Math.random())}`}const qr=1e12;class Eu{constructor(f){this.auth=f,this.counter=qr,this._widgets=new Map}render(f,p){const C=this.counter;return this._widgets.set(C,new rn(f,this.auth.name,p||{})),this.counter++,C}reset(f){var p;const C=f||qr;null===(p=this._widgets.get(C))||void 0===p||p.delete(),this._widgets.delete(C)}getResponse(f){var p;return(null===(p=this._widgets.get(f||qr))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,d.Z)(function*(){var C;return null===(C=p._widgets.get(f||qr))||void 0===C||C.execute(),""})()}}class rn{constructor(f,p,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;X(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yh(_){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<_;C++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Uc=js("rcb"),R_=new _e(3e4,6e4);class dp{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=wn().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return X(function Bc(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(wn().grecaptcha):new Promise((C,T)=>{const N=wn().setTimeout(()=>{T(De(f,"network-request-failed"))},R_.get());wn()[Uc]=()=>{wn().clearTimeout(N),delete wn()[Uc];const Me=wn().grecaptcha;if(!Me)return void T(De(f,"internal-error"));const Qe=Me.render;Me.render=(dt,Nt)=>{const Kt=Qe(dt,Nt);return this.counter++,Kt},this.hostLanguage=p,C(Me)},es(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Uc,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(N),T(De(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=wn().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class P_{load(f){return(0,d.Z)(function*(){return new Eu(f)})()}clearedOneInstance(){}}const _a="recaptcha",N_={theme:"light",type:"image"};class hp{constructor(f,p=Object.assign({},N_),C){this.parameters=p,this.type=_a,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lt(C),this.isInvisible="invisible"===this.parameters.size,X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;X(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new P_:new dp,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),C=f.getAssertedRecaptcha();return C.getResponse(p)||new Promise(N=>{const Y=Me=>{!Me||(f.tokenChangeListeners.delete(Y),N(Me))};f.tokenChangeListeners.add(Y),f.isInvisible&&C.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(C=>C(p)),"function"==typeof f)f(p);else if("string"==typeof f){const C=wn()[f];"function"==typeof C&&C(p)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const C=document.createElement("div");p.appendChild(C),p=C}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){X(ce()&&!vr(),f.auth,"internal-error"),yield function qn(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function ma(_){return rr.apply(this,arguments)}(f.auth);X(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sn{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=Cs._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Kr(_,f,p){return nt.apply(this,arguments)}function nt(){return(nt=(0,d.Z)(function*(_,f,p){const C=lt(_),T=yield ir(C,f,(0,B.m9)(p));return new sn(T,N=>uo(C,N))})).apply(this,arguments)}function Yr(_,f,p){return on.apply(this,arguments)}function on(){return(on=(0,d.Z)(function*(_,f,p){const C=(0,B.m9)(_);yield Gr(!1,C,"phone");const T=yield ir(C.auth,f,(0,B.m9)(p));return new sn(T,N=>It(C,N))})).apply(this,arguments)}function gi(_,f,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,d.Z)(function*(_,f,p){const C=(0,B.m9)(_),T=yield ir(C.auth,f,(0,B.m9)(p));return new sn(T,N=>mh(C,N))})).apply(this,arguments)}function ir(_,f,p){return ns.apply(this,arguments)}function ns(){return(ns=(0,d.Z)(function*(_,f,p){var C;const T=yield p.verify();try{let N;if(X("string"==typeof T,_,"argument-error"),X(p.type===_a,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const Y=N.session;if("phoneNumber"in N)return X("enroll"===Y.type,_,"internal-error"),(yield En(_,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{X("signin"===Y.type,_,"internal-error");const Me=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return X(Me,_,"missing-multi-factor-info"),(yield Vc(_,{mfaPendingCredential:Y.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield dh(_,{phoneNumber:N.phoneNumber,recaptchaToken:T});return Y}}finally{p._reset()}})).apply(this,arguments)}function wu(_,f){return Du.apply(this,arguments)}function Du(){return(Du=(0,d.Z)(function*(_,f){yield sa((0,B.m9)(_),f)})).apply(this,arguments)}let $c=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=lt(p)}verifyPhoneNumber(p,C){return ir(this.auth,p,(0,B.m9)(C))}static credential(p,C){return Cs._fromVerification(p,C)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:C,temporaryProof:T}=p;return C&&T?Cs._fromTokenResponse(C,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ai(_,f){return f?Ue(f):(X(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Iu extends mr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ki(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Ki(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Ki(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Si(_){return sl(_.auth,new Iu(_),_.bypassAuthState)}function ct(_){const{auth:f,user:p}=_;return X(p,f,"internal-error"),il(p,new Iu(_),_.bypassAuthState)}function vl(_){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(_){const{auth:f,user:p}=_;return X(p,f,"internal-error"),sa(p,new Iu(_),_.bypassAuthState)})).apply(this,arguments)}class ya{constructor(f,p,C,T,N=!1){this.auth=f,this.resolver=C,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,d.Z)(function*(C,T){f.pendingPromise={resolve:C,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(C,T){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,d.Z)(function*(){const{urlResponse:C,sessionId:T,postBody:N,tenantId:Y,error:Me,type:Qe}=f;if(Me)return void p.reject(Me);const dt={auth:p.auth,requestUri:C,sessionId:T,tenantId:Y||void 0,postBody:N||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Qe)(dt))}catch(Nt){p.reject(Nt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Si;case"linkViaPopup":case"linkViaRedirect":return vl;case"reauthViaPopup":case"reauthViaRedirect":return ct;default:Ge(this.auth,"internal-error")}}resolve(f){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ao=new _e(2e3,1e4);function Mn(_,f,p){return So.apply(this,arguments)}function So(){return(So=(0,d.Z)(function*(_,f,p){const C=lt(_);ge(_,f,Jn);const T=Ai(C,p);return new Ca(C,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function va(_,f,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,d.Z)(function*(_,f,p){const C=(0,B.m9)(_);ge(C.auth,f,Jn);const T=Ai(C.auth,p);return new Ca(C.auth,"reauthViaPopup",f,T,C).executeNotNull()})).apply(this,arguments)}function Hc(_,f,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,d.Z)(function*(_,f,p){const C=(0,B.m9)(_);ge(C.auth,f,Jn);const T=Ai(C.auth,p);return new Ca(C.auth,"linkViaPopup",f,T,C).executeNotNull()})).apply(this,arguments)}let Ca=(()=>{class _ extends ya{constructor(p,C,T,N,Y){super(p,C,N,Y),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,d.Z)(function*(){const C=yield p.execute();return X(C,p.auth,"internal-error"),C})()}onExecution(){var p=this;return(0,d.Z)(function*(){he(1===p.filter.length,"Popup operations only handle one event");const C=xs();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],C),p.authWindow.associatedEvent=C,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(De(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var C,T;this.pollId=null!==(T=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Ao.get())};p()}}return _.currentPopupAction=null,_})();const Mi=new Map;class Fr extends ya{constructor(f,p,C=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,d.Z)(function*(){let C=Mi.get(p.auth._key());if(!C){try{const N=(yield function Ea(_,f){return Ri.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;C=()=>Promise.resolve(N)}catch(T){C=()=>Promise.reject(T)}Mi.set(p.auth._key(),C)}return p.bypassAuthState||Mi.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,C=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(C,f);if("unknown"!==f.type){if(f.eventId){const T=yield C.auth._redirectUserForId(f.eventId);if(T)return C.user=T,p().call(C,f);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Ri(){return(Ri=(0,d.Z)(function*(_,f){const p=ss(f),C=is(_);if(!(yield C._isAvailable()))return!1;const T="true"===(yield C._get(p));return yield C._remove(p),T})).apply(this,arguments)}function rs(_,f){return sr.apply(this,arguments)}function sr(){return(sr=(0,d.Z)(function*(_,f){return is(_)._set(ss(f),"true")})).apply(this,arguments)}function bu(){Mi.clear()}function cn(_,f){Mi.set(_._key(),f)}function is(_){return Ue(_._redirectPersistence)}function ss(_){return $("pendingRedirect",_.config.apiKey,_.name)}function Rn(_,f,p){return function dn(_,f,p){return wa.apply(this,arguments)}(_,f,p)}function wa(){return(wa=(0,d.Z)(function*(_,f,p){const C=lt(_);ge(_,f,Jn),yield C._initializationPromise;const T=Ai(C,p);return yield rs(T,C),T._openRedirect(C,f,"signInViaRedirect")})).apply(this,arguments)}function Jr(_,f,p){return function w(_,f,p){return D.apply(this,arguments)}(_,f,p)}function D(){return(D=(0,d.Z)(function*(_,f,p){const C=(0,B.m9)(_);ge(C.auth,f,Jn),yield C.auth._initializationPromise;const T=Ai(C.auth,p);yield rs(T,C.auth);const N=yield ut(C);return T._openRedirect(C.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function A(_,f,p){return function U(_,f,p){return q.apply(this,arguments)}(_,f,p)}function q(){return(q=(0,d.Z)(function*(_,f,p){const C=(0,B.m9)(_);ge(C.auth,f,Jn),yield C.auth._initializationPromise;const T=Ai(C.auth,p);yield Gr(!1,C,f.providerId),yield rs(T,C.auth);const N=yield ut(C);return T._openRedirect(C.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function ne(_,f){return pe.apply(this,arguments)}function pe(){return(pe=(0,d.Z)(function*(_,f){return yield lt(_)._initializationPromise,$e(_,f,!1)})).apply(this,arguments)}function $e(_,f){return Je.apply(this,arguments)}function Je(){return(Je=(0,d.Z)(function*(_,f,p=!1){const C=lt(_),T=Ai(C,f),Y=yield new Fr(C,T,p).execute();return Y&&!p&&(delete Y.user._redirectEventId,yield C._persistUserIfCurrent(Y.user),yield C._setRedirectUser(null,f)),Y})).apply(this,arguments)}function ut(_){return At.apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(_){const f=xs(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Xn{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(f,C)&&(p=!0,this.sendToConsumer(f,C),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function St(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return os(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var C;if(f.error&&!os(f)){const T=(null===(C=f.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(De(this.auth,T))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const C=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&C}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Un(f))}saveEventToCache(f){this.cachedEventUids.add(Un(f)),this.lastProcessedEventTime=Date.now()}}function Un(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function os({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function or(_){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,d.Z)(function*(_,f={}){return it(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Cr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jc=/^https?/;function Xr(){return(Xr=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield or(_);for(const p of f)try{if(fp(p))return}catch{}Ge(_,"unauthorized-domain")})).apply(this,arguments)}function fp(_){const f=ie(),{protocol:p,hostname:C}=new URL(f);if(_.startsWith("chrome-extension://")){const Y=new URL(_);return""===Y.hostname&&""===C?"chrome-extension:"===p&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&Y.hostname===C}if(!jc.test(p))return!1;if(Cr.test(_))return C===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(C)}const Ch=new _e(3e4,6e4);function Wc(){const _=wn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let Dn=null;function as(_){return Dn=Dn||function O_(_){return new Promise((f,p)=>{var C,T,N;function Y(){Wc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Wc(),p(De(_,"network-request-failed"))},timeout:Ch.get()})}if(null!==(T=null===(C=wn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(N=wn().gapi)||void 0===N||!N.load){const Me=js("iframefcb");return wn()[Me]=()=>{gapi.load?Y():p(De(_,"network-request-failed"))},es(`https://apis.google.com/js/api.js?onload=${Me}`).catch(Qe=>p(Qe))}Y()}}).catch(f=>{throw Dn=null,f})}(_),Dn}const Gc=new _e(5e3,15e3),zc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gp(_){const f=_.config;X(f.authDomain,_,"auth-domain-config-required");const p=f.emulator?tt(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,C={apiKey:f.apiKey,appName:_.name,v:P.SDK_VERSION},T=pp.get(_.config.apiHost);T&&(C.eid=T);const N=_._getFrameworks();return N.length&&(C.fw=N.join(",")),`${p}?${(0,B.xO)(C).slice(1)}`}function Cl(){return Cl=(0,d.Z)(function*(_){const f=yield as(_),p=wn().gapi;return X(p,_,"internal-error"),f.open({where:document.body,url:gp(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zc,dontclear:!0},C=>new Promise(function(){var T=(0,d.Z)(function*(N,Y){yield C.restyle({setHideOnLeave:!1});const Me=De(_,"network-request-failed"),Qe=wn().setTimeout(()=>{Y(Me)},Gc.get());function dt(){wn().clearTimeout(Qe),N(C)}C.ping(dt).then(dt,()=>{Y(Me)})});return function(N,Y){return T.apply(this,arguments)}}()))}),Cl.apply(this,arguments)}const mp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class El{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ro(_,f,p,C,T,N){X(_.config.authDomain,_,"auth-domain-config-required"),X(_.config.apiKey,_,"invalid-api-key");const Y={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:C,v:P.SDK_VERSION,eventId:T};if(f instanceof Jn){f.setDefaultLanguage(_.languageCode),Y.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(Y.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Qe,dt]of Object.entries(N||{}))Y[Qe]=dt}if(f instanceof ws){const Qe=f.getScopes().filter(dt=>""!==dt);Qe.length>0&&(Y.scopes=Qe.join(","))}_.tenantId&&(Y.tid=_.tenantId);const Me=Y;for(const Qe of Object.keys(Me))void 0===Me[Qe]&&delete Me[Qe];return`${function Dh({config:_}){return _.emulator?tt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,B.xO)(Me).slice(1)}`}const Po="webStorageSupport",ei=class Ta{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bi,this._completeRedirectFn=$e,this._overrideRedirectResult=cn}_openPopup(f,p,C,T){var N=this;return(0,d.Z)(function*(){var Y;he(null===(Y=N.eventManagers[f._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const Me=Ro(f,p,C,ie(),T);return function k_(_,f,p,C=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),Y=Math.max((window.screen.availWidth-C)/2,0).toString();let Me="";const Qe=Object.assign(Object.assign({},mp),{width:C.toString(),height:T.toString(),top:N,left:Y}),dt=(0,B.z$)().toLowerCase();p&&(Me=Q(dt)?"_blank":p),S(dt)&&(f=f||"http://localhost",Qe.scrollbars="yes");const Nt=Object.entries(Qe).reduce((Pr,[Lr,No])=>`${Pr}${Lr}=${No},`,"");if(function Gt(_=(0,B.z$)()){var f;return Oe(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(dt)&&"_self"!==Me)return function ba(_,f){const p=document.createElement("a");p.href=_,p.target=f;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(f||"",Me),new El(null);const Kt=window.open(f||"",Me,Nt);X(Kt,_,"popup-blocked");try{Kt.focus()}catch{}return new El(Kt)}(f,Me,xs())})()}_openRedirect(f,p,C,T){var N=this;return(0,d.Z)(function*(){return yield N._originValidation(f),function yu(_){wn().location.href=_}(Ro(f,p,C,ie(),T)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:T,promise:N}=this.eventManagers[p];return T?Promise.resolve(T):(he(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(f);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(f){var p=this;return(0,d.Z)(function*(){const C=yield function wh(_){return Cl.apply(this,arguments)}(f),T=new Xn(f);return C.register("authEvent",N=>(X(N?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:T},p.iframes[f._key()]=C,T})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Po,{type:Po},T=>{var N;const Y=null===(N=T?.[0])||void 0===N?void 0:N[Po];void 0!==Y&&p(!!Y),Ge(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function vh(_){return Xr.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return zt()||k()||Oe()}};class qc extends class Tu{constructor(f){this.factorId=f}_process(f,p,C){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,C);case"signin":return this._finalizeSignIn(f,p.credential);default:return se("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new qc(f)}_finalizeEnroll(f,p,C){return function ua(_,f){return it(_,"POST","/v2/accounts/mfaEnrollment:finalize",at(_,f))}(f,{idToken:p,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function $s(_,f){return it(_,"POST","/v2/accounts/mfaSignIn:finalize",at(_,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kc=(()=>{class _{constructor(){}static assertion(p){return qc._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var Aa="@firebase/auth";class Ih{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,d.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(C=>{f(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Au=(0,B.Pz)("authIdTokenMaxAge")||300;let Th=null;const Er=_=>function(){var f=(0,d.Z)(function*(p){const C=p&&(yield p.getIdTokenResult()),T=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(T&&T>Au)return;const N=C?.token;Th!==N&&(Th=N,yield fetch(_,{method:N?"POST":"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}}))});return function(p){return f.apply(this,arguments)}}();function Yc(_=(0,P.getApp)()){const f=(0,P._getProvider)(_,"auth");if(f.isInitialized())return f.getImmediate();const p=function yt(_,f){const p=(0,P._getProvider)(_,"auth");if(p.isInitialized()){const T=p.getImmediate(),N=p.getOptions();if((0,B.vZ)(N,f??{}))return T;Ge(T,"already-initialized")}return p.initialize({options:f})}(_,{popupRedirectResolver:ei,persistence:[Bs,Vn,bi]}),C=(0,B.Pz)("authTokenSyncURL");if(C){const N=Er(C);(function la(_,f,p){(0,B.m9)(_).beforeAuthStateChanged(f,p)})(p,N,()=>N(p.currentUser)),function hl(_,f,p,C){(0,B.m9)(_).onIdTokenChanged(f,p,C)}(p,Y=>N(Y))}const T=(0,B.q4)("auth");return T&&Gi(p,`http://${T}`),p}!function Cp(_){(0,P._registerComponent)(new ue.wA("auth",(f,{options:p})=>{const C=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:N,authDomain:Y}=C.options;return((Me,Qe)=>{X(N&&!N.includes(":"),"invalid-api-key",{appName:Me.name}),X(!Y?.includes(":"),"argument-error",{appName:Me.name});const dt={apiKey:N,authDomain:Y,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nn(_)},Nt=new _s(Me,Qe,dt);return function je(_,f){const p=f?.persistence||[],C=(Array.isArray(p)?p:[p]).map(Ue);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(C,f?.popupRedirectResolver)}(Nt,p),Nt})(C,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,C)=>{f.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ue.wA("auth-internal",f=>{const p=lt(f.getProvider("auth").getImmediate());return new Ih(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Aa,"0.21.1",function vp(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,P.registerVersion)(Aa,"0.21.1","esm2017")}("Browser")},2090:(rt,we,O)=>{O.d(we,{$s:()=>qe,BH:()=>Ie,DV:()=>vn,Dv:()=>dr,GJ:()=>Qn,L:()=>oe,LL:()=>jt,P0:()=>He,Pz:()=>De,Sg:()=>ge,UG:()=>se,UI:()=>Wr,US:()=>ue,Wj:()=>gt,Wl:()=>xt,Yr:()=>ce,ZB:()=>W,ZR:()=>Ct,aH:()=>Ge,b$:()=>Ue,cI:()=>it,dS:()=>bt,eu:()=>Pe,g5:()=>P,gK:()=>bn,gQ:()=>en,h$:()=>ae,hl:()=>Se,hu:()=>B,jU:()=>he,lb:()=>nr,m9:()=>Bt,ne:()=>tn,p$:()=>G,pd:()=>Hi,q4:()=>le,r3:()=>cr,ru:()=>Ve,tV:()=>de,uI:()=>X,ug:()=>gr,vZ:()=>We,w1:()=>je,w9:()=>$n,xO:()=>Xt,xb:()=>Nr,z$:()=>Fe,zI:()=>_e,zd:()=>zn});const B=function(j,$){if(!j)throw P($)},P=function(j){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+j)},te=function(j){const $=[];let Z=0;for(let L=0;L<j.length;L++){let S=j.charCodeAt(L);S<128?$[Z++]=S:S<2048?($[Z++]=S>>6|192,$[Z++]=63&S|128):55296==(64512&S)&&L+1<j.length&&56320==(64512&j.charCodeAt(L+1))?(S=65536+((1023&S)<<10)+(1023&j.charCodeAt(++L)),$[Z++]=S>>18|240,$[Z++]=S>>12&63|128,$[Z++]=S>>6&63|128,$[Z++]=63&S|128):($[Z++]=S>>12|224,$[Z++]=S>>6&63|128,$[Z++]=63&S|128)}return $},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,$){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let S=0;S<j.length;S+=3){const k=j[S],Q=S+1<j.length,Ne=Q?j[S+1]:0,Ye=S+2<j.length,Xe=Ye?j[S+2]:0;let wt=(15&Ne)<<2|Xe>>6,Gt=63&Xe;Ye||(Gt=64,Q||(wt=64)),L.push(Z[k>>2],Z[(3&k)<<4|Ne>>4],Z[wt],Z[Gt])}return L.join("")},encodeString(j,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(j):this.encodeByteArray(te(j),$)},decodeString(j,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(j):function(j){const $=[];let Z=0,L=0;for(;Z<j.length;){const S=j[Z++];if(S<128)$[L++]=String.fromCharCode(S);else if(S>191&&S<224){const k=j[Z++];$[L++]=String.fromCharCode((31&S)<<6|63&k)}else if(S>239&&S<365){const Ye=((7&S)<<18|(63&j[Z++])<<12|(63&j[Z++])<<6|63&j[Z++])-65536;$[L++]=String.fromCharCode(55296+(Ye>>10)),$[L++]=String.fromCharCode(56320+(1023&Ye))}else{const k=j[Z++],Q=j[Z++];$[L++]=String.fromCharCode((15&S)<<12|(63&k)<<6|63&Q)}}return $.join("")}(this.decodeStringToByteArray(j,$))},decodeStringToByteArray(j,$){this.init_();const Z=$?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let S=0;S<j.length;){const k=Z[j.charAt(S++)],Ne=S<j.length?Z[j.charAt(S)]:0;++S;const Xe=S<j.length?Z[j.charAt(S)]:64;++S;const Oe=S<j.length?Z[j.charAt(S)]:64;if(++S,null==k||null==Ne||null==Xe||null==Oe)throw Error();L.push(k<<2|Ne>>4),64!==Xe&&(L.push(Ne<<4&240|Xe>>2),64!==Oe&&L.push(Xe<<6&192|Oe))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ae=function(j){const $=te(j);return ue.encodeByteArray($,!0)},oe=function(j){return ae(j).replace(/\./g,"")},de=function(j){try{return ue.decodeString(j,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function G(j){return W(void 0,j)}function W(j,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return $}for(const Z in $)!$.hasOwnProperty(Z)||!K(Z)||(j[Z]=W(j[Z],$[Z]));return j}function K(j){return"__proto__"!==j}const fe=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=j&&de(j[1]);return $&&JSON.parse($)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},le=j=>{var $,Z;return null===(Z=null===($=fe())||void 0===$?void 0:$.emulatorHosts)||void 0===Z?void 0:Z[j]},He=j=>{const $=le(j);if(!$)return;const Z=$.lastIndexOf(":");if(Z<=0||Z+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const L=parseInt($.substring(Z+1),10);return"["===$[0]?[$.substring(1,Z-1),L]:[$.substring(0,Z),L]},Ge=()=>{var j;return null===(j=fe())||void 0===j?void 0:j.config},De=j=>{var $;return null===($=fe())||void 0===$?void 0:$[`_${j}`]};class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,Z)=>{this.resolve=$,this.reject=Z})}wrapCallback($){return(Z,L)=>{Z?this.reject(Z):this.resolve(L),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(Z):$(Z,L))}}}function ge(j,$){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=$||"demo-project",S=j.iat||0,k=j.sub||j.user_id;if(!k)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Q=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:S,exp:S+3600,auth_time:S,sub:k,user_id:k,firebase:{sign_in_provider:"custom",identities:{}}},j);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(Q)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function se(){var j;const $=null===(j=fe())||void 0===j?void 0:j.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function he(){return"object"==typeof self&&self.self===self}function Ve(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function je(){const j=Fe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function ce(){return!1}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function Pe(){return new Promise((j,$)=>{try{let Z=!0;const L="validate-browser-context-for-indexeddb-analytics-module",S=self.indexedDB.open(L);S.onsuccess=()=>{S.result.close(),Z||self.indexedDB.deleteDatabase(L),j(!0)},S.onupgradeneeded=()=>{Z=!1},S.onerror=()=>{var k;$((null===(k=S.error)||void 0===k?void 0:k.message)||"")}}catch(Z){$(Z)}})}function _e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ct extends Error{constructor($,Z,L){super(Z),this.code=$,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,Ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jt.prototype.create)}}class jt{constructor($,Z,L){this.service=$,this.serviceName=Z,this.errors=L}create($,...Z){const L=Z[0]||{},S=`${this.service}/${$}`,k=this.errors[$],Q=k?function Ke(j,$){return j.replace(at,(Z,L)=>{const S=$[L];return null!=S?String(S):`<${L}?>`})}(k,L):"Error";return new Ct(S,`${this.serviceName}: ${Q} (${S}).`,L)}}const at=/\{\$([^}]+)}/g;function it(j){return JSON.parse(j)}function xt(j){return JSON.stringify(j)}const yn=function(j){let $={},Z={},L={},S="";try{const k=j.split(".");$=it(de(k[0])||""),Z=it(de(k[1])||""),S=k[2],L=Z.d||{},delete Z.d}catch{}return{header:$,claims:Z,data:L,signature:S}},$n=function(j){const Z=yn(j).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},Qn=function(j){const $=yn(j).claims;return"object"==typeof $&&!0===$.admin};function cr(j,$){return Object.prototype.hasOwnProperty.call(j,$)}function vn(j,$){if(Object.prototype.hasOwnProperty.call(j,$))return j[$]}function Nr(j){for(const $ in j)if(Object.prototype.hasOwnProperty.call(j,$))return!1;return!0}function Wr(j,$,Z){const L={};for(const S in j)Object.prototype.hasOwnProperty.call(j,S)&&(L[S]=$.call(Z,j[S],S,j));return L}function We(j,$){if(j===$)return!0;const Z=Object.keys(j),L=Object.keys($);for(const S of Z){if(!L.includes(S))return!1;const k=j[S],Q=$[S];if(xn(k)&&xn(Q)){if(!We(k,Q))return!1}else if(k!==Q)return!1}for(const S of L)if(!Z.includes(S))return!1;return!0}function xn(j){return null!==j&&"object"==typeof j}function Xt(j){const $=[];for(const[Z,L]of Object.entries(j))Array.isArray(L)?L.forEach(S=>{$.push(encodeURIComponent(Z)+"="+encodeURIComponent(S))}):$.push(encodeURIComponent(Z)+"="+encodeURIComponent(L));return $.length?"&"+$.join("&"):""}function zn(j){const $={};return j.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[S,k]=L.split("=");$[decodeURIComponent(S)]=decodeURIComponent(k)}}),$}function Hi(j){const $=j.indexOf("?");if(!$)return"";const Z=j.indexOf("#",$);return j.substring($,Z>0?Z:void 0)}class en{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,Z){Z||(Z=0);const L=this.W_;if("string"==typeof $)for(let Oe=0;Oe<16;Oe++)L[Oe]=$.charCodeAt(Z)<<24|$.charCodeAt(Z+1)<<16|$.charCodeAt(Z+2)<<8|$.charCodeAt(Z+3),Z+=4;else for(let Oe=0;Oe<16;Oe++)L[Oe]=$[Z]<<24|$[Z+1]<<16|$[Z+2]<<8|$[Z+3],Z+=4;for(let Oe=16;Oe<80;Oe++){const wt=L[Oe-3]^L[Oe-8]^L[Oe-14]^L[Oe-16];L[Oe]=4294967295&(wt<<1|wt>>>31)}let Xe,Ee,S=this.chain_[0],k=this.chain_[1],Q=this.chain_[2],Ne=this.chain_[3],Ye=this.chain_[4];for(let Oe=0;Oe<80;Oe++){Oe<40?Oe<20?(Xe=Ne^k&(Q^Ne),Ee=1518500249):(Xe=k^Q^Ne,Ee=1859775393):Oe<60?(Xe=k&Q|Ne&(k|Q),Ee=2400959708):(Xe=k^Q^Ne,Ee=3395469782);const wt=(S<<5|S>>>27)+Xe+Ye+Ee+L[Oe]&4294967295;Ye=Ne,Ne=Q,Q=4294967295&(k<<30|k>>>2),k=S,S=wt}this.chain_[0]=this.chain_[0]+S&4294967295,this.chain_[1]=this.chain_[1]+k&4294967295,this.chain_[2]=this.chain_[2]+Q&4294967295,this.chain_[3]=this.chain_[3]+Ne&4294967295,this.chain_[4]=this.chain_[4]+Ye&4294967295}update($,Z){if(null==$)return;void 0===Z&&(Z=$.length);const L=Z-this.blockSize;let S=0;const k=this.buf_;let Q=this.inbuf_;for(;S<Z;){if(0===Q)for(;S<=L;)this.compress_($,S),S+=this.blockSize;if("string"==typeof $){for(;S<Z;)if(k[Q]=$.charCodeAt(S),++Q,++S,Q===this.blockSize){this.compress_(k),Q=0;break}}else for(;S<Z;)if(k[Q]=$[S],++Q,++S,Q===this.blockSize){this.compress_(k),Q=0;break}}this.inbuf_=Q,this.total_+=Z}digest(){const $=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let S=this.blockSize-1;S>=56;S--)this.buf_[S]=255&Z,Z/=256;this.compress_(this.buf_);let L=0;for(let S=0;S<5;S++)for(let k=24;k>=0;k-=8)$[L]=this.chain_[S]>>k&255,++L;return $}}function tn(j,$){const Z=new qt(j,$);return Z.subscribe.bind(Z)}class qt{constructor($,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{$(this)}).catch(L=>{this.error(L)})}next($){this.forEachObserver(Z=>{Z.next($)})}error($){this.forEachObserver(Z=>{Z.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,Z,L){let S;if(void 0===$&&void 0===Z&&void 0===L)throw new Error("Missing Observer.");S=function ot(j,$){if("object"!=typeof j||null===j)return!1;for(const Z of $)if(Z in j&&"function"==typeof j[Z])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:Z,complete:L},void 0===S.next&&(S.next=Et),void 0===S.error&&(S.error=Et),void 0===S.complete&&(S.complete=Et);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?S.error(this.finalError):S.complete()}catch{}}),this.observers.push(S),k}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,$)}sendOne($,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{Z(this.observers[$])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Et(){}const dr=function(j,$,Z,L){let S;if(L<$?S="at least "+$:L>Z&&(S=0===Z?"none":"no more than "+Z),S)throw new Error(j+" failed: Was called with "+L+(1===L?" argument.":" arguments.")+" Expects "+S+".")};function bn(j,$){return`${j} failed: ${$} argument `}function gt(j,$,Z,L){if((!L||Z)&&"function"!=typeof Z)throw new Error(bn(j,$)+"must be a valid function.")}function nr(j,$,Z,L){if((!L||Z)&&("object"!=typeof Z||null===Z))throw new Error(bn(j,$)+"must be a valid context object.")}const bt=function(j){const $=[];let Z=0;for(let L=0;L<j.length;L++){let S=j.charCodeAt(L);if(S>=55296&&S<=56319){const k=S-55296;L++,B(L<j.length,"Surrogate pair missing trail surrogate."),S=65536+(k<<10)+(j.charCodeAt(L)-56320)}S<128?$[Z++]=S:S<2048?($[Z++]=S>>6|192,$[Z++]=63&S|128):S<65536?($[Z++]=S>>12|224,$[Z++]=S>>6&63|128,$[Z++]=63&S|128):($[Z++]=S>>18|240,$[Z++]=S>>12&63|128,$[Z++]=S>>6&63|128,$[Z++]=63&S|128)}return $},gr=function(j){let $=0;for(let Z=0;Z<j.length;Z++){const L=j.charCodeAt(Z);L<128?$++:L<2048?$+=2:L>=55296&&L<=56319?($+=4,Z++):$+=3}return $};function qe(j,$=1e3,Z=2){const L=$*Math.pow(Z,j),S=Math.round(.5*L*(Math.random()-.5)*2);return Math.min(144e5,L+S)}function Bt(j){return j&&j._delegate?j._delegate:j}},2957:(rt,we,O)=>{var d=O(4650);let B=null;function P(){return B}const ae=new d.OlP("DocumentToken");let oe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function de(){return(0,d.LFG)(W)}()},providedIn:"platform"}),n})();const G=new d.OlP("Location Initialized");let W=(()=>{class n extends oe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){K()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){K()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ke(){return new W((0,d.LFG)(ae))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Ae(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ve(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ze(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(He)},providedIn:"root"}),n})();const le=new d.OlP("appBaseHref");let He=(()=>{class n extends fe{constructor(e,s){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ae(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+ze(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,c){const g=this.prepareExternalUrl(a+ze(c));this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,c){const g=this.prepareExternalUrl(a+ze(c));this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oe),d.LFG(le,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ge=(()=>{class n extends fe{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=Ae(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,c){let g=this.prepareExternalUrl(a+ze(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,c){let g=this.prepareExternalUrl(a+ze(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oe),d.LFG(le,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n{constructor(e){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const s=this._locationStrategy.getBaseHref();this._baseHref=ve(Fe(s)),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+ze(s))}normalize(e){return n.stripTrailingSlash(function ge(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Fe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._locationStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ze(s)),a)}replaceState(e,s="",a=null){this._locationStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ze(s)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return n.normalizeQueryParams=ze,n.joinWithSlash=Ae,n.stripTrailingSlash=ve,n.\u0275fac=function(e){return new(e||n)(d.LFG(fe))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ie(){return new De((0,d.LFG)(fe))}()},providedIn:"root"}),n})();function Fe(n){return n.replace(/\/index.html$/,"")}class Zi{constructor(t,e,s,a){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ai=(()=>{class n{constructor(e,s,a){this._viewContainer=e,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((a,c,g)=>{if(null==a.previousIndex)s.createEmbeddedView(this._template,new Zi(a.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)s.remove(null===c?void 0:c);else if(null!==c){const y=s.get(c);s.move(y,g),qi(y,a)}});for(let a=0,c=s.length;a<c;a++){const y=s.get(a).context;y.index=a,y.count=c,y.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{qi(s.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function qi(n,t){n.context.$implicit=t.item}let Sn=(()=>{class n{constructor(e,s){this._viewContainer=e,this._context=new bc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){kn("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){kn("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class bc{constructor(){this.$implicit=null,this.ngIf=null}}function kn(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(t)}'.`)}class ch{createSubscription(t,e){return t.subscribe({next:e,error:s=>{throw s}})}dispose(t){t.unsubscribe()}}class ui{createSubscription(t,e){return t.then(e,s=>{throw s})}dispose(t){}}const dh=new ui,Jl=new ch;let Xl=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,s=>this._updateLatestValue(e,s))}_selectStrategy(e){if((0,d.QGY)(e))return dh;if((0,d.F4k)(e))return Jl;throw function Ar(n,t){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,s){e===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),ph=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();let ou=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Tc((0,d.LFG)(ae),window)}),n})();class Tc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Zn(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const c=a.shadowRoot;if(c){const g=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(g)return g}a=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(s-c[0],a-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=xr(this.window.history)||xr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Di extends class du extends class ue{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){B||(B=n)}(new Di)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function hu(){return Ii=Ii||document.querySelector("base"),Ii?Ii.getAttribute("href"):null}();return null==e?null:function hi(n){pn=pn||document.createElement("a"),pn.setAttribute("href",n);const t=pn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ii=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Ja(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[a,c]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let pn,Ii=null;const un=new d.OlP("TRANSITION_ID"),ul=[{provide:d.ip1,useFactory:function fu(n,t,e){return()=>{e.get(d.CZH).donePromise.then(()=>{const s=P(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)s.remove(a[c])})}},deps:[un,ae,d.zs3],multi:!0}];let cl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const dl=new d.OlP("EventManagerPlugins");let hl=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let c=0;c<a.length;c++){const g=a[c];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(dl),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class la{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const a=P().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let Ps=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ns=(()=>{class n extends Ps{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(c=>{const g=this._doc.createElement("style");g.textContent=c,a.push(s.appendChild(g))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(pu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(pu))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function pu(n){P().remove(n)}const Os={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gu=/%COMP%/g;function ca(n,t,e){for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?ca(n,a,e):(a=a.replace(gu,n),e.push(a))}return e}function da(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ha=(()=>{class n{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new fi(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case d.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new _u(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case d.ifc.ShadowDom:return new xc(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=ca(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(hl),d.LFG(Ns),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class fi{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Os[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(wo(t)?t.content:t).appendChild(e)}insertBefore(t,e,s){t&&(wo(t)?t.content:t).insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,a){if(a){e=a+":"+e;const c=Os[a];c?t.setAttributeNS(c,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const a=Os[s];a?t.removeAttributeNS(a,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,a){a&(d.JOm.DashCase|d.JOm.Important)?t.style.setProperty(e,s,a&d.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&d.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,da(s)):this.eventManager.addEventListener(t,e,da(s))}}function wo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _u extends fi{constructor(t,e,s,a){super(t),this.component=s;const c=ca(a+"-"+s.id,s.styles,[]);e.addStyles(c),this.contentAttr=function En(n){return"_ngcontent-%COMP%".replace(gu,n)}(a+"-"+s.id),this.hostAttr=function ua(n){return"_nghost-%COMP%".replace(gu,n)}(a+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class xc extends fi{constructor(t,e,s,a){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=ca(a.id,a.styles,[]);for(let g=0;g<c.length;g++){const y=document.createElement("style");y.textContent=c[g],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Vn=(()=>{class n extends la{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const kc=["alt","control","meta","shift"],bi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Do=(()=>{class n extends la{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,a){const c=n.parseEventName(s),g=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,c.domEventName,g))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(s.pop());let g="",y=s.indexOf("code");if(y>-1&&(s.splice(y,1),g="code."),kc.forEach(M=>{const H=s.indexOf(M);H>-1&&(s.splice(H,1),g+=M+".")}),g+=c,0!=s.length||0===c.length)return null;const I={};return I.domEventName=a,I.fullKey=g,I}static matchEventFullKeyCode(e,s){let a=bi[e.key]||e.key,c="";return s.indexOf("code.")>-1&&(a=e.code,c="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),kc.forEach(g=>{g!==a&&(0,gl[g])(e)&&(c+=g+".")}),c+=a,c===s)}static eventCallback(e,s,a){return c=>{n.matchEventFullKeyCode(c,e)&&a.runGuarded(()=>s(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Io=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function vu(){Di.makeCurrent()},multi:!0},{provide:ae,useFactory:function ml(){return(0,d.RDi)(document),document},deps:[]}]),Xi=new d.OlP(""),bo=[{provide:d.rWj,useClass:class Nc{addToWindow(t){d.dqk.getAngularTestability=(s,a=!0)=>{const c=t.findTestabilityInTree(s,a);if(null==c)throw new Error("Could not find testability for element.");return c},d.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(s=>{const a=d.dqk.getAllAngularTestabilities();let c=a.length,g=!1;const y=function(I){g=g||I,c--,0==c&&s(g)};a.forEach(function(I){I.whenStable(y)})})}findTestabilityInTree(t,e,s){return null==e?null:t.getTestability(e)??(s?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],ks=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function pi(){return new d.qLn},deps:[]},{provide:dl,useClass:Vn,multi:!0,deps:[ae,d.R0b,d.Lbi]},{provide:dl,useClass:Do,multi:!0,deps:[ae]},{provide:ha,useClass:ha,deps:[hl,Ns,d.AFp]},{provide:d.FYo,useExisting:ha},{provide:Ps,useExisting:Ns},{provide:Ns,useClass:Ns,deps:[ae]},{provide:hl,useClass:hl,deps:[dl,d.R0b]},{provide:class Is{},useClass:cl,deps:[]},[]];let Fs=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:d.AFp,useValue:e.appId},{provide:un,useExisting:d.AFp},ul]}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Xi,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...ks,...bo],imports:[ph,d.hGG]}),n})(),Zr=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:function(e){let s=null;return s=e?new e:function To(){return new Zr((0,d.LFG)(ae))}(),s},providedIn:"root"}),n})();typeof window<"u"&&window;var sn=O(8996),Kr=O(7669);function nt(...n){const t=(0,Kr.yG)(n);return(0,sn.D)(n,t)}var Yr=O(7579);class on extends Yr.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:s}=this;if(t)throw e;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}const ts=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ir=O(9751);const{isArray:ns}=Array,{getPrototypeOf:wu,prototype:Du,keys:$c}=Object;function Ai(n){if(1===n.length){const t=n[0];if(ns(t))return{args:t,keys:null};if(function Iu(n){return n&&"object"==typeof n&&wu(n)===Du}(t)){const e=$c(t);return{args:e.map(s=>t[s]),keys:e}}}return{args:n,keys:null}}var Si=O(4671),ct=O(4004);const{isArray:vl}=Array;function ya(n){return(0,ct.U)(t=>function Qr(n,t){return vl(t)?n(...t):n(t)}(n,t))}function Ao(n,t){return n.reduce((e,s,a)=>(e[s]=t[a],e),{})}var Mn=O(5403),So=O(9672);function va(...n){const t=(0,Kr.yG)(n),e=(0,Kr.jO)(n),{args:s,keys:a}=Ai(n);if(0===s.length)return(0,sn.D)([],t);const c=new ir.y(function Mo(n,t,e=Si.y){return s=>{Hc(t,()=>{const{length:a}=n,c=new Array(a);let g=a,y=a;for(let I=0;I<a;I++)Hc(t,()=>{const M=(0,sn.D)(n[I],t);let H=!1;M.subscribe((0,Mn.x)(s,V=>{c[I]=V,H||(H=!0,y--),y||s.next(e(c.slice()))},()=>{--g||s.complete()}))},s)},s)}}(s,t,a?g=>Ao(a,g):Si.y));return e?c.pipe(ya(e)):c}function Hc(n,t,e){n?(0,So.f)(e,n,t):t()}var Gs=O(8189);function zs(...n){return function Ca(){return(0,Gs.J)(1)}()((0,sn.D)(n,(0,Kr.yG)(n)))}var Mi=O(8421);function Fr(n){return new ir.y(t=>{(0,Mi.Xf)(n()).subscribe(t)})}var Ea=O(9635),Ri=O(576);function rs(n,t){const e=(0,Ri.m)(n)?n:()=>n,s=a=>a.error(e());return new ir.y(t?a=>t.schedule(s,0,a):s)}var sr=O(515),bu=O(727),cn=O(4482);function is(){return(0,cn.e)((n,t)=>{let e=null;n._refCount++;const s=(0,Mn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,c=e;e=null,a&&(!c||a===c)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class ss extends ir.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,cn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new bu.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Mn.x)(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=bu.w0.EMPTY)}return t}refCount(){return is()(this)}}function Rn(n,t){return(0,cn.e)((e,s)=>{let a=null,c=0,g=!1;const y=()=>g&&!a&&s.complete();e.subscribe((0,Mn.x)(s,I=>{a?.unsubscribe();let M=0;const H=c++;(0,Mi.Xf)(n(I,H)).subscribe(a=(0,Mn.x)(s,V=>s.next(t?t(I,V,H,M++):V),()=>{a=null,y()}))},()=>{g=!0,y()}))})}function dn(n){return n<=0?()=>sr.E:(0,cn.e)((t,e)=>{let s=0;t.subscribe((0,Mn.x)(e,a=>{++s<=n&&(e.next(a),n<=s&&e.complete())}))})}function Jr(n,t){return(0,cn.e)((e,s)=>{let a=0;e.subscribe((0,Mn.x)(s,c=>n.call(t,c,a++)&&s.next(c)))})}var w=O(5577);function D(n){return(0,cn.e)((t,e)=>{let s=!1;t.subscribe((0,Mn.x)(e,a=>{s=!0,e.next(a)},()=>{s||e.next(n),e.complete()}))})}function A(n=U){return(0,cn.e)((t,e)=>{let s=!1;t.subscribe((0,Mn.x)(e,a=>{s=!0,e.next(a)},()=>s?e.complete():e.error(n())))})}function U(){return new ts}function q(n,t){const e=arguments.length>=2;return s=>s.pipe(n?Jr((a,c)=>n(a,c,s)):Si.y,dn(1),e?D(t):A(()=>new ts))}function ne(n,t){return(0,Ri.m)(t)?(0,w.z)(n,t,1):(0,w.z)(n,1)}var pe=O(8505);function $e(n){return(0,cn.e)((t,e)=>{let c,s=null,a=!1;s=t.subscribe((0,Mn.x)(e,void 0,void 0,g=>{c=(0,Mi.Xf)(n(g,$e(n)(t))),s?(s.unsubscribe(),s=null,c.subscribe(e)):a=!0})),a&&(s.unsubscribe(),s=null,c.subscribe(e))})}function Je(n,t,e,s,a){return(c,g)=>{let y=e,I=t,M=0;c.subscribe((0,Mn.x)(g,H=>{const V=M++;I=y?n(I,H,V):(y=!0,H),s&&g.next(I)},a&&(()=>{y&&g.next(I),g.complete()})))}}function ut(n,t){return(0,cn.e)(Je(n,t,arguments.length>=2,!0))}function At(n){return n<=0?()=>sr.E:(0,cn.e)((t,e)=>{let s=[];t.subscribe((0,Mn.x)(e,a=>{s.push(a),n<s.length&&s.shift()},()=>{for(const a of s)e.next(a);e.complete()},void 0,()=>{s=null}))})}function ft(n,t){const e=arguments.length>=2;return s=>s.pipe(n?Jr((a,c)=>n(a,c,s)):Si.y,At(1),e?D(t):A(()=>new ts))}function os(n){return(0,cn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const St="primary",or=Symbol("RouteTitle");class Kn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Cr(n){return new Kn(n)}function jc(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const a={};for(let c=0;c<s.length;c++){const g=s[c],y=n[c];if(g.startsWith(":"))a[g.substring(1)]=y;else if(g!==y.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Xr(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!fp(n[a],t[a]))return!1;return!0}function fp(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((a,c)=>s[c]===a)}return n===t}function Ch(n){return Array.prototype.concat.apply([],n)}function Wc(n){return n.length>0?n[n.length-1]:null}function Dn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function as(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,sn.D)(Promise.resolve(n)):nt(n)}const x_={exact:function wh(n,t,e){if(!ba(n.segments,t.segments)||!Da(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!wh(n.children[s],t.children[s],e))return!1;return!0},subset:mp},zc={exact:function gp(n,t){return Xr(n,t)},subset:function Cl(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>fp(n[e],t[e]))},ignored:()=>!0};function pp(n,t,e){return x_[e.paths](n.root,t.root,e.matrixParams)&&zc[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function mp(n,t,e){return _p(n,t,t.segments,e)}function _p(n,t,e,s){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!ba(a,e)||t.hasChildren()||!Da(a,e,s))}if(n.segments.length===e.length){if(!ba(n.segments,e)||!Da(n.segments,e,s))return!1;for(const a in t.children)if(!n.children[a]||!mp(n.children[a],t.children[a],s))return!1;return!0}{const a=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(ba(n.segments,a)&&Da(n.segments,a,s)&&n.children[St])&&_p(n.children[St],t,c,s)}}function Da(n,t,e){return t.every((s,a)=>zc[e](n[a].parameters,s.parameters))}class Ia{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cr(this.queryParams)),this._queryParamMap}toString(){return Dh.serialize(this)}}class Lt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Dn(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Po(this)}}class El{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Cr(this.parameters)),this._parameterMap}toString(){return Ih(this)}}function ba(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}let Zc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new Ro},providedIn:"root"}),n})();class Ro{parse(t){const e=new f(t);return new Ia(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ta(t.root,!0)}`,s=function Cp(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(a=>`${Tu(e)}=${Tu(a)}`).join("&"):`${Tu(e)}=${Tu(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${s}${"string"==typeof t.fragment?`#${function qc(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Dh=new Ro;function Po(n){return n.segments.map(t=>Ih(t)).join("/")}function Ta(n,t){if(!n.hasChildren())return Po(n);if(t){const e=n.children[St]?Ta(n.children[St],!1):"",s=[];return Dn(n.children,(a,c)=>{c!==St&&s.push(`${c}:${Ta(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function yp(n,t){let e=[];return Dn(n.children,(s,a)=>{a===St&&(e=e.concat(t(s,a)))}),Dn(n.children,(s,a)=>{a!==St&&(e=e.concat(t(s,a)))}),e}(n,(s,a)=>a===St?[Ta(n.children[St],!1)]:[`${a}:${Ta(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${Po(n)}/${e[0]}`:`${Po(n)}/(${e.join("//")})`}}function ei(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tu(n){return ei(n).replace(/%3B/gi,";")}function Kc(n){return ei(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Aa(n){return decodeURIComponent(n)}function wl(n){return Aa(n.replace(/\+/g,"%20"))}function Ih(n){return`${Kc(n.path)}${function vp(n){return Object.keys(n).map(t=>`;${Kc(t)}=${Kc(n[t])}`).join("")}(n.parameters)}`}const bh=/^[^\/()?;=#]+/;function Au(n){const t=n.match(bh);return t?t[0]:""}const Th=/^[^=?&#]+/,Yc=/^[^&#]+/;class f{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[St]=new Lt(t,e)),s}parseSegment(){const t=Au(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(t),new El(Aa(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Au(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=Au(this.remaining);a&&(s=a,this.capture(s))}t[Aa(e)]=Aa(s)}parseQueryParam(t){const e=function Er(n){const t=n.match(Th);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const g=function _(n){const t=n.match(Yc);return t?t[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const a=wl(e),c=wl(s);if(t.hasOwnProperty(a)){let g=t[a];Array.isArray(g)||(g=[g],t[a]=g),g.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Au(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new d.vHH(4010,!1);let c;s.indexOf(":")>-1?(c=s.slice(0,s.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=St);const g=this.parseChildren();e[c]=1===Object.keys(g).length?g[St]:new Lt([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new d.vHH(4011,!1)}}function p(n){return n.segments.length>0?new Lt([],{[St]:n}):n}function C(n){const t={};for(const s of Object.keys(n.children)){const c=C(n.children[s]);(c.segments.length>0||c.hasChildren())&&(t[s]=c)}return function T(n){if(1===n.numberOfChildren&&n.children[St]){const t=n.children[St];return new Lt(n.segments.concat(t.segments),t.children)}return n}(new Lt(n.segments,t))}function N(n){return n instanceof Ia}const Y=!1;function Nt(n,t,e,s,a){if(0===e.length)return Lr(t.root,t.root,t.root,s,a);const c=function Su(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Dl(!0,0,n);let t=0,e=!1;const s=n.reduce((a,c,g)=>{if("object"==typeof c&&null!=c){if(c.outlets){const y={};return Dn(c.outlets,(I,M)=>{y[M]="string"==typeof I?I.split("/"):I}),[...a,{outlets:y}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===g?(c.split("/").forEach((y,I)=>{0==I&&"."===y||(0==I&&""===y?e=!0:".."===y?t++:""!=y&&a.push(y))}),a):[...a,c]},[]);return new Dl(e,t,s)}(e);return c.toRoot()?Lr(t.root,t.root,new Lt([],{}),s,a):function g(I){const M=function Oo(n,t,e,s){if(n.isAbsolute)return new Zs(t.root,!0,0);if(-1===s)return new Zs(e,e===t.root,0);return function Qc(n,t,e){let s=n,a=t,c=e;for(;c>a;){if(c-=a,s=s.parent,!s)throw new d.vHH(4005,Y);a=s.segments.length}return new Zs(s,!1,a-c)}(e,s+(Kt(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,t,n.snapshot?._urlSegment,I),H=M.processChildren?qs(M.segmentGroup,M.index,c.commands):xo(M.segmentGroup,M.index,c.commands);return Lr(t.root,M.segmentGroup,H,s,a)}(n.snapshot?._lastPathIndex)}function Kt(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Pr(n){return"object"==typeof n&&null!=n&&n.outlets}function Lr(n,t,e,s,a){let g,c={};s&&Dn(s,(I,M)=>{c[M]=Array.isArray(I)?I.map(H=>`${H}`):`${I}`}),g=n===t?e:No(n,t,e);const y=p(C(g));return new Ia(y,c,a)}function No(n,t,e){const s={};return Dn(n.children,(a,c)=>{s[c]=a===t?e:No(a,t,e)}),new Lt(n.segments,s)}class Dl{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&Kt(s[0]))throw new d.vHH(4003,Y);const a=s.find(Pr);if(a&&a!==Wc(s))throw new d.vHH(4004,Y)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zs{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function xo(n,t,e){if(n||(n=new Lt([],{})),0===n.segments.length&&n.hasChildren())return qs(n,t,e);const s=function Mh(n,t,e){let s=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=e.length)return c;const g=n.segments[a],y=e[s];if(Pr(y))break;const I=`${y}`,M=s<e.length-1?e[s+1]:null;if(a>0&&void 0===I)break;if(I&&M&&"object"==typeof M&&void 0===M.outlets){if(!Ep(I,M,g))return c;s+=2}else{if(!Ep(I,{},g))return c;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,t,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const c=new Lt(n.segments.slice(0,s.pathIndex),{});return c.children[St]=new Lt(n.segments.slice(s.pathIndex),n.children),qs(c,0,a)}return s.match&&0===a.length?new Lt(n.segments,{}):s.match&&!n.hasChildren()?Mu(n,t,e):s.match?qs(n,0,a):Mu(n,t,e)}function qs(n,t,e){if(0===e.length)return new Lt(n.segments,{});{const s=function Sh(n){return Pr(n[0])?n[0].outlets:{[St]:n}}(e),a={};return Dn(s,(c,g)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[g]=xo(n.children[g],t,c))}),Dn(n.children,(c,g)=>{void 0===s[g]&&(a[g]=c)}),new Lt(n.segments,a)}}function Mu(n,t,e){const s=n.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(Pr(c)){const I=Sa(c.outlets);return new Lt(s,I)}if(0===a&&Kt(e[0])){s.push(new El(n.segments[t].path,Rh(e[0]))),a++;continue}const g=Pr(c)?c.outlets[St]:`${c}`,y=a<e.length-1?e[a+1]:null;g&&y&&Kt(y)?(s.push(new El(g,Rh(y))),a+=2):(s.push(new El(g,{})),a++)}return new Lt(s,{})}function Sa(n){const t={};return Dn(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=Mu(new Lt([],{}),0,e))}),t}function Rh(n){const t={};return Dn(n,(e,s)=>t[s]=`${e}`),t}function Ep(n,t,e){return n==e.path&&Xr(t,e.parameters)}class ko{constructor(t,e){this.id=t,this.url=e}}class Jc extends ko{constructor(t,e,s="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Il extends ko{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ph extends ko{constructor(t,e,s,a){super(t,e),this.reason=s,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class F_ extends ko{constructor(t,e,s,a){super(t,e),this.error=s,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cE extends ko{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dE extends ko{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hE extends ko{constructor(t,e,s,a,c){super(t,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class L_ extends ko{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wp extends ko{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V_{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dp{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fE{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pE{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U_{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B_{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ma{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ip{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=bp(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=bp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=H_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return H_(t,this._root).map(e=>e.value)}}function bp(n,t){if(n===t.value)return t;for(const e of t.children){const s=bp(n,e);if(s)return s}return null}function H_(n,t){if(n===t.value)return[t];for(const e of t.children){const s=H_(n,e);if(s.length)return s.unshift(t),s}return[]}class Pi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ru(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Tp extends Ip{constructor(t,e){super(t),this.snapshot=e,Xc(this,t)}toString(){return this.snapshot.toString()}}function Ap(n,t){const e=function j_(n,t){const g=new bl([],{},{},"",{},St,t,null,n.root,-1,{});return new Mp("",new Pi(g,[]))}(n,t),s=new on([new El("",{})]),a=new on({}),c=new on({}),g=new on({}),y=new on(""),I=new Fo(s,a,g,y,c,St,t,e.root);return I.snapshot=e.root,new Tp(new Pi(I,[]),e)}class Fo{constructor(t,e,s,a,c,g,y,I){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=c,this.outlet=g,this.component=y,this.title=this.data?.pipe((0,ct.U)(M=>M[or]))??nt(void 0),this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(t=>Cr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(t=>Cr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sp(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const a=e[s],c=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(c.component)break;s--}}return function Nh(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(s))}class bl{constructor(t,e,s,a,c,g,y,I,M,H,V,J){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=c,this.outlet=g,this.component=y,this.title=this.data?.[or],this.routeConfig=I,this._urlSegment=M,this._lastPathIndex=H,this._correctedLastPathIndex=J??H,this._resolve=V}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mp extends Ip{constructor(t,e){super(e),this.url=t,Xc(this,e)}toString(){return Oh(this._root)}}function Xc(n,t){t.value._routerState=n,t.children.forEach(e=>Xc(n,e))}function Oh(n){const t=n.children.length>0?` { ${n.children.map(Oh).join(", ")} } `:"";return`${n.value}${t}`}function ed(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Xr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Xr(t.params,e.params)||n.params.next(e.params),function vh(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Xr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Xr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Tl(n,t){const e=Xr(n.params,t.params)&&function k_(n,t){return ba(n,t)&&n.every((e,s)=>Xr(e.parameters,t[s].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Tl(n.parent,t.parent))}function Pu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const a=function mE(n,t,e){return t.children.map(s=>{for(const a of e.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Pu(n,s,a);return Pu(n,s)})}(n,t,e);return new Pi(s,a)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const g=c.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(y=>Pu(n,y)),g}}const s=function _E(n){return new Fo(new on(n.url),new on(n.params),new on(n.queryParams),new on(n.fragment),new on(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(c=>Pu(n,c));return new Pi(s,a)}}const xh="ngNavigationCancelingError";function kh(n,t){const{redirectTo:e,navigationBehaviorOptions:s}=N(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=td(!1,0,t);return a.url=e,a.navigationBehaviorOptions=s,a}function td(n,t,e){const s=new Error("NavigationCancelingError: "+(n||""));return s[xh]=!0,s.cancellationCode=t,e&&(s.url=e),s}function Fh(n){return Ra(n)&&N(n.url)}function Ra(n){return n&&n[xh]}class yE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new nd,this.attachRef=null}}let nd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){const a=this.getOrCreateContext(e);a.outlet=s,this.contexts.set(e,a)}onChildOutletDestroyed(e){const s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new yE,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rp=!1;let Pp=(()=>{class n{constructor(e,s,a,c,g){this.parentContexts=e,this.location=s,this.changeDetector=c,this.environmentInjector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=a||St,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,Rp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,Rp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,Rp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new d.vHH(4013,Rp);this._activatedRoute=e;const a=this.location,g=e._futureSnapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,I=new Np(e,y,a.injector);if(s&&function vE(n){return!!n.resolveComponentFactory}(s)){const M=s.resolveComponentFactory(g);this.activated=a.createComponent(M,a.length,I)}else this.activated=a.createComponent(g,{index:a.length,injector:I,environmentInjector:s??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(nd),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Np{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===Fo?this.route:t===nd?this.childContexts:this.parent.get(t,e)}}let Lh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(e,s){1&e&&d._UZ(0,"router-outlet")},dependencies:[Pp],encapsulation:2}),n})();function rd(n,t){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Op(n){const t=n.children&&n.children.map(Op),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==St&&(e.component=Lh),e}function Ni(n){return n.outlet||St}function Lo(n,t){const e=n.filter(s=>Ni(s)===t);return e.push(...n.filter(s=>Ni(s)!==t)),e}function Vo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class oI{constructor(t,e,s,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),ed(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const a=Ru(e);t.children.forEach(c=>{const g=c.value.outlet;this.deactivateRoutes(c,a[g],s),delete a[g]}),Dn(a,(c,g)=>{this.deactivateRouteAndItsChildren(c,s)})}deactivateRoutes(t,e,s){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const g=s.getContext(a.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,s);else c&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,c=Ru(t);for(const g of Object.keys(c))this.deactivateRouteAndItsChildren(c[g],a);if(s&&s.outlet){const g=s.outlet.detach(),y=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:y})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,c=Ru(t);for(const g of Object.keys(c))this.deactivateRouteAndItsChildren(c[g],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const a=Ru(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],s),this.forwardEvent(new B_(c.value.snapshot))}),t.children.length&&this.forwardEvent(new pE(t.value.snapshot))}activateRoutes(t,e,s){const a=t.value,c=e?e.value:null;if(ed(a),a===c)if(a.component){const g=s.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,s);else if(a.component){const g=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(y.contexts),g.attachRef=y.componentRef,g.route=y.route.value,g.outlet&&g.outlet.attach(y.componentRef,y.route.value),ed(y.route.value),this.activateChildRoutes(t,null,g.children)}else{const y=Vo(a.snapshot),I=y?.get(d._Vd)??null;g.attachRef=null,g.route=a,g.resolver=I,g.injector=y,g.outlet&&g.outlet.activateWith(a,g.injector),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,s)}}class AE{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xp{constructor(t,e){this.component=t,this.route=e}}function aI(n,t,e){const s=n._root;return id(s,t?t._root:null,e,[s.value])}function Al(n,t){const e=Symbol(),s=t.get(n,e);return s===e?"function"!=typeof n||(0,d.Z0I)(n)?t.get(n):n:s}function id(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=Ru(t);return n.children.forEach(g=>{(function SE(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,g=t?t.value:null,y=e?e.getContext(n.value.outlet):null;if(g&&c.routeConfig===g.routeConfig){const I=function ME(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ba(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ba(n.url,t.url)||!Xr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tl(n,t)||!Xr(n.queryParams,t.queryParams);default:return!Tl(n,t)}}(g,c,c.routeConfig.runGuardsAndResolvers);I?a.canActivateChecks.push(new AE(s)):(c.data=g.data,c._resolvedData=g._resolvedData),id(n,t,c.component?y?y.children:null:e,s,a),I&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new xp(y.outlet.component,g))}else g&&sd(t,y,a),a.canActivateChecks.push(new AE(s)),id(n,null,c.component?y?y.children:null:e,s,a)})(g,c[g.value.outlet],e,s.concat([g.value]),a),delete c[g.value.outlet]}),Dn(c,(g,y)=>sd(g,e.getContext(y),a)),a}function sd(n,t,e){const s=Ru(n),a=n.value;Dn(s,(c,g)=>{sd(c,a.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new xp(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function Sl(n){return"function"==typeof n}function ad(n){return n instanceof ts||"EmptyError"===n?.name}const Nu=Symbol("INITIAL_VALUE");function ld(){return Rn(n=>va(n.map(t=>t.pipe(dn(1),function wa(...n){const t=(0,Kr.yG)(n);return(0,cn.e)((e,s)=>{(t?zs(n,e,t):zs(n,e)).subscribe(s)})}(Nu)))).pipe((0,ct.U)(t=>{for(const e of t)if(!0!==e){if(e===Nu)return Nu;if(!1===e||e instanceof Ia)return e}return!0}),Jr(t=>t!==Nu),dn(1)))}function Bh(n){return(0,Ea.z)((0,pe.b)(t=>{if(N(t))throw kh(0,t)}),(0,ct.U)(t=>!0===t))}const jn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Y_(n,t,e,s,a){const c=kp(n,t,e);return c.matched?function kE(n,t,e,s){const a=t.canMatch;return a&&0!==a.length?nt(a.map(g=>{const y=Al(g,n);return as(function uI(n){return n&&Sl(n.canMatch)}(y)?y.canMatch(t,e):n.runInContext(()=>y(t,e)))})).pipe(ld(),Bh()):nt(!0)}(s=rd(t,s),t,e).pipe((0,ct.U)(g=>!0===g?c:{...jn})):nt(c)}function kp(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...jn}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||jc)(e,n,t);if(!a)return{...jn};const c={};Dn(a.posParams,(y,I)=>{c[I]=y.path});const g=a.consumed.length>0?{...c,...a.consumed[a.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:g,positionalParamSegments:a.posParams??{}}}function Ou(n,t,e,s,a="corrected"){if(e.length>0&&function LE(n,t,e){return e.some(s=>$h(n,t,s)&&Ni(s)!==St)}(n,e,s)){const g=new Lt(t,function FE(n,t,e,s){const a={};a[St]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&Ni(c)!==St){const g=new Lt([],{});g._sourceSegment=n,g._segmentIndexShift=t.length,a[Ni(c)]=g}return a}(n,t,s,new Lt(e,n.children)));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function VE(n,t,e){return e.some(s=>$h(n,t,s))}(n,e,s)){const g=new Lt(n.segments,function Q_(n,t,e,s,a,c){const g={};for(const y of s)if($h(n,e,y)&&!a[Ni(y)]){const I=new Lt([],{});I._sourceSegment=n,I._segmentIndexShift="legacy"===c?n.segments.length:t.length,g[Ni(y)]=I}return{...a,...g}}(n,t,e,s,n.children,a));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const c=new Lt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function $h(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function J_(n,t,e,s){return!!(Ni(n)===s||s!==St&&$h(t,e,n))&&("**"===n.path||kp(t,n,e).matched)}function UE(n,t,e){return 0===t.length&&!n.children[e]}const Fp=!1;class Pa{constructor(t){this.segmentGroup=t||null}}class Hh{constructor(t){this.urlTree=t}}function xu(n){return rs(new Pa(n))}function Lp(n){return rs(new Hh(n))}class ty{constructor(t,e,s,a,c){this.injector=t,this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=c,this.allowRedirects=!0}apply(){const t=Ou(this.urlTree.root,[],[],this.config).segmentGroup,e=new Lt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,St).pipe((0,ct.U)(c=>this.createUrlTree(C(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe($e(c=>{if(c instanceof Hh)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Pa?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,St).pipe((0,ct.U)(a=>this.createUrlTree(C(a),t.queryParams,t.fragment))).pipe($e(a=>{throw a instanceof Pa?this.noMatchError(a):a}))}noMatchError(t){return new d.vHH(4002,Fp)}createUrlTree(t,e,s){const a=p(t);return new Ia(a,e,s)}expandSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,ct.U)(c=>new Lt([],c))):this.expandSegment(t,s,e,s.segments,a,!0)}expandChildren(t,e,s){const a=[];for(const c of Object.keys(s.children))"primary"===c?a.unshift(c):a.push(c);return(0,sn.D)(a).pipe(ne(c=>{const g=s.children[c],y=Lo(e,c);return this.expandSegmentGroup(t,y,g,c).pipe((0,ct.U)(I=>({segment:I,outlet:c})))}),ut((c,g)=>(c[g.outlet]=g.segment,c),{}),ft())}expandSegment(t,e,s,a,c,g){return(0,sn.D)(s).pipe(ne(y=>this.expandSegmentAgainstRoute(t,e,s,y,a,c,g).pipe($e(M=>{if(M instanceof Pa)return nt(null);throw M}))),q(y=>!!y),$e((y,I)=>{if(ad(y))return UE(e,a,c)?nt(new Lt([],{})):xu(e);throw y}))}expandSegmentAgainstRoute(t,e,s,a,c,g,y){return J_(a,e,c,g)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,c,g):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,a,c,g):xu(e):xu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,a,c,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,c,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,a){const c=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Lp(c):this.lineralizeSegments(s,c).pipe((0,w.z)(g=>{const y=new Lt(g,{});return this.expandSegment(t,y,e,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,c,g){const{matched:y,consumedSegments:I,remainingSegments:M,positionalParamSegments:H}=kp(e,a,c);if(!y)return xu(e);const V=this.applyRedirectCommands(I,a.redirectTo,H);return a.redirectTo.startsWith("/")?Lp(V):this.lineralizeSegments(a,V).pipe((0,w.z)(J=>this.expandSegment(t,e,s,J.concat(M),g,!1)))}matchSegmentAgainstRoute(t,e,s,a,c){return"**"===s.path?(t=rd(s,t),s.loadChildren?(s._loadedRoutes?nt({routes:s._loadedRoutes,injector:s._loadedInjector}):this.configLoader.loadChildren(t,s)).pipe((0,ct.U)(y=>(s._loadedRoutes=y.routes,s._loadedInjector=y.injector,new Lt(a,{})))):nt(new Lt(a,{}))):Y_(e,s,a,t).pipe(Rn(({matched:g,consumedSegments:y,remainingSegments:I})=>g?this.getChildConfig(t=s._injector??t,s,a).pipe((0,w.z)(H=>{const V=H.injector??t,J=H.routes,{segmentGroup:Te,slicedSegments:Le}=Ou(e,y,I,J),_t=new Lt(Te.segments,Te.children);if(0===Le.length&&_t.hasChildren())return this.expandChildren(V,J,_t).pipe((0,ct.U)(jr=>new Lt(y,jr)));if(0===J.length&&0===Le.length)return nt(new Lt(y,{}));const Mt=Ni(s)===c;return this.expandSegment(V,_t,J,Le,Mt?St:c,!0).pipe((0,ct.U)(_n=>new Lt(y.concat(_n.segments),_n.children)))})):xu(e)))}getChildConfig(t,e,s){return e.children?nt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?nt({routes:e._loadedRoutes,injector:e._loadedInjector}):function xE(n,t,e,s){const a=t.canLoad;return void 0===a||0===a.length?nt(!0):nt(a.map(g=>{const y=Al(g,n);return as(function od(n){return n&&Sl(n.canLoad)}(y)?y.canLoad(t,e):n.runInContext(()=>y(t,e)))})).pipe(ld(),Bh())}(t,e,s).pipe((0,w.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,pe.b)(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function BE(n){return rs(td(Fp,3))}())):nt({routes:[],injector:t})}lineralizeSegments(t,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return nt(s);if(a.numberOfChildren>1||!a.children[St])return rs(new d.vHH(4e3,Fp));a=a.children[St]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreateUrlTree(t,e,s,a){const c=this.createSegmentGroup(t,e.root,s,a);return new Ia(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return Dn(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);s[c]=e[y]}else s[c]=a}),s}createSegmentGroup(t,e,s,a){const c=this.createSegments(t,e.segments,s,a);let g={};return Dn(e.children,(y,I)=>{g[I]=this.createSegmentGroup(t,y,s,a)}),new Lt(c,g)}createSegments(t,e,s,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,s))}findPosParam(t,e,s){const a=s[e.path.substring(1)];if(!a)throw new d.vHH(4001,Fp);return a}findOrReturn(t,e){let s=0;for(const a of e){if(a.path===t.path)return e.splice(s),a;s++}return t}}class $E{}class ry{constructor(t,e,s,a,c,g,y,I){this.injector=t,this.rootComponentType=e,this.config=s,this.urlTree=a,this.url=c,this.paramsInheritanceStrategy=g,this.relativeLinkResolution=y,this.urlSerializer=I}recognize(){const t=Ou(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,St).pipe((0,ct.U)(e=>{if(null===e)return null;const s=new bl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Pi(s,e),c=new Mp(this.url,a);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(t){const e=t.value,s=Sp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.processChildren(t,e,s):this.processSegment(t,e,s,s.segments,a)}processChildren(t,e,s){return(0,sn.D)(Object.keys(s.children)).pipe(ne(a=>{const c=s.children[a],g=Lo(e,a);return this.processSegmentGroup(t,g,c,a)}),ut((a,c)=>a&&c?(a.push(...c),a):null),function Xn(n,t=!1){return(0,cn.e)((e,s)=>{let a=0;e.subscribe((0,Mn.x)(s,c=>{const g=n(c,a++);(g||t)&&s.next(c),!g&&s.complete()}))})}(a=>null!==a),D(null),ft(),(0,ct.U)(a=>{if(null===a)return null;const c=ud(a);return function Ml(n){n.sort((t,e)=>t.value.outlet===St?-1:e.value.outlet===St?1:t.value.outlet.localeCompare(e.value.outlet))}(c),c}))}processSegment(t,e,s,a,c){return(0,sn.D)(e).pipe(ne(g=>this.processSegmentAgainstRoute(g._injector??t,g,s,a,c)),q(g=>!!g),$e(g=>{if(ad(g))return UE(s,a,c)?nt([]):nt(null);throw g}))}processSegmentAgainstRoute(t,e,s,a,c){if(e.redirectTo||!J_(e,s,a,c))return nt(null);let g;if("**"===e.path){const y=a.length>0?Wc(a).parameters:{},I=cd(s)+a.length;g=nt({snapshot:new bl(a,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hp(e),Ni(e),e.component??e._loadedComponent??null,e,jh(s),I,Wh(e),I),consumedSegments:[],remainingSegments:[]})}else g=Y_(s,e,a,t).pipe((0,ct.U)(({matched:y,consumedSegments:I,remainingSegments:M,parameters:H})=>{if(!y)return null;const V=cd(s)+I.length;return{snapshot:new bl(I,H,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hp(e),Ni(e),e.component??e._loadedComponent??null,e,jh(s),V,Wh(e),V),consumedSegments:I,remainingSegments:M}}));return g.pipe(Rn(y=>{if(null===y)return nt(null);const{snapshot:I,consumedSegments:M,remainingSegments:H}=y;t=e._injector??t;const V=e._loadedInjector??t,J=function HE(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Te,slicedSegments:Le}=Ou(s,M,H,J.filter(Mt=>void 0===Mt.redirectTo),this.relativeLinkResolution);if(0===Le.length&&Te.hasChildren())return this.processChildren(V,J,Te).pipe((0,ct.U)(Mt=>null===Mt?null:[new Pi(I,Mt)]));if(0===J.length&&0===Le.length)return nt([new Pi(I,[])]);const _t=Ni(e)===c;return this.processSegment(V,J,Te,Le,_t?St:c).pipe((0,ct.U)(Mt=>null===Mt?null:[new Pi(I,Mt)]))}))}}function $p(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function ud(n){const t=[],e=new Set;for(const s of n){if(!$p(s)){t.push(s);continue}const a=t.find(c=>s.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):t.push(s)}for(const s of e){const a=ud(s.children);t.push(new Pi(s.value,a))}return t.filter(s=>!e.has(s))}function jh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function cd(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Hp(n){return n.data||{}}function Wh(n){return n.resolve||{}}function sy(n){return"string"==typeof n.title||null===n.title}function jp(n){return Rn(t=>{const e=n(t);return e?(0,sn.D)(e).pipe((0,ct.U)(()=>t)):nt(t)})}let Gh=(()=>{class n{buildTitle(e){let s,a=e.root;for(;void 0!==a;)s=this.getResolvedTitleForRoute(a)??s,a=a.children.find(c=>c.outlet===St);return s}getResolvedTitleForRoute(e){return e.data[or]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(oy)},providedIn:"root"}),n})(),oy=(()=>{class n extends Gh{constructor(e){super(),this.title=e}updateTitle(e){const s=this.buildTitle(e);void 0!==s&&this.title.setTitle(s)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Zr))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KE{}class hI extends class ay{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Oa=new d.OlP("",{providedIn:"root",factory:()=>({})}),xa=new d.OlP("ROUTES");let Rl=(()=>{class n{constructor(e,s){this.injector=e,this.compiler=s,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return nt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const s=as(e.loadComponent()).pipe((0,pe.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),os(()=>{this.componentLoaders.delete(e)})),a=new ss(s,()=>new Yr.x).pipe(is());return this.componentLoaders.set(e,a),a}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return nt({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const c=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe((0,ct.U)(y=>{this.onLoadEndListener&&this.onLoadEndListener(s);let I,M,H=!1;Array.isArray(y)?M=y:(I=y.create(e).injector,M=Ch(I.get(xa,[],d.XFs.Self|d.XFs.Optional)));return{routes:M.map(Op),injector:I}}),os(()=>{this.childrenLoaders.delete(s)})),g=new ss(c,()=>new Yr.x).pipe(is());return this.childrenLoaders.set(s,g),g}loadModuleFactoryOrRoutes(e){return as(e()).pipe((0,w.z)(s=>s instanceof d.YKP||Array.isArray(s)?nt(s):(0,sn.D)(this.compiler.compileModuleAsync(s))))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.zs3),d.LFG(d.Sil))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class QE{}class fI{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function JE(n){throw n}function XE(n,t,e){return t.parse("/")}const e0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function zh(){const n=(0,d.f3M)(Zc),t=(0,d.f3M)(nd),e=(0,d.f3M)(De),s=(0,d.f3M)(d.zs3),a=(0,d.f3M)(d.Sil),c=(0,d.f3M)(xa,{optional:!0})??[],g=(0,d.f3M)(Oa,{optional:!0})??{},y=(0,d.f3M)(oy),I=(0,d.f3M)(Gh,{optional:!0}),M=(0,d.f3M)(QE,{optional:!0}),H=(0,d.f3M)(KE,{optional:!0}),V=new Yn(null,n,t,e,s,a,Ch(c));return M&&(V.urlHandlingStrategy=M),H&&(V.routeReuseStrategy=H),V.titleStrategy=I??y,function cy(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(g,V),V}let Yn=(()=>{class n{constructor(e,s,a,c,g,y,I){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=c,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Yr.x,this.errorHandler=JE,this.malformedUriErrorHandler=XE,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>nt(void 0),this.urlHandlingStrategy=new fI,this.routeReuseStrategy=new hI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=g.get(Rl),this.configLoader.onLoadEndListener=J=>this.triggerEvent(new Dp(J)),this.configLoader.onLoadStartListener=J=>this.triggerEvent(new V_(J)),this.ngModule=g.get(d.h0i),this.console=g.get(d.c2e);const V=g.get(d.R0b);this.isNgZoneEnabled=V instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=function Eh(){return new Ia(new Lt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ap(this.currentUrlTree,this.rootComponentType),this.transitions=new on({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(Jr(a=>0!==a.id),(0,ct.U)(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Rn(a=>{let c=!1,g=!1;return nt(a).pipe((0,pe.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Rn(y=>{const I=this.browserUrlTree.toString(),M=!this.navigated||y.extractedUrl.toString()!==I||I!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||M)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Zh(y.source)&&(this.browserUrlTree=y.extractedUrl),nt(y).pipe(Rn(V=>{const J=this.transitions.getValue();return s.next(new Jc(V.id,this.serializeUrl(V.extractedUrl),V.source,V.restoredState)),J!==this.transitions.getValue()?sr.E:Promise.resolve(V)}),function Vp(n,t,e,s){return Rn(a=>function ey(n,t,e,s,a){return new ty(n,t,e,s,a).apply()}(n,t,e,a.extractedUrl,s).pipe((0,ct.U)(c=>({...a,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pe.b)(V=>{this.currentNavigation={...this.currentNavigation,finalUrl:V.urlAfterRedirects},a.urlAfterRedirects=V.urlAfterRedirects}),function WE(n,t,e,s,a,c){return(0,w.z)(g=>function ny(n,t,e,s,a,c,g="emptyOnly",y="legacy"){return new ry(n,t,e,s,a,g,y,c).recognize().pipe(Rn(I=>null===I?function Bp(n){return new ir.y(t=>t.error(n))}(new $E):nt(I)))}(n,t,e,g.urlAfterRedirects,s.serialize(g.urlAfterRedirects),s,a,c).pipe((0,ct.U)(y=>({...g,targetSnapshot:y}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pe.b)(V=>{if(a.targetSnapshot=V.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!V.extras.skipLocationChange){const Te=this.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl);this.setBrowserUrl(Te,V)}this.browserUrlTree=V.urlAfterRedirects}const J=new cE(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(V.urlAfterRedirects),V.targetSnapshot);s.next(J)}));if(M&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:J,extractedUrl:Te,source:Le,restoredState:_t,extras:Mt}=y,On=new Jc(J,this.serializeUrl(Te),Le,_t);s.next(On);const _n=Ap(Te,this.rootComponentType).snapshot;return nt(a={...y,targetSnapshot:_n,urlAfterRedirects:Te,extras:{...Mt,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=y.rawUrl,y.resolve(null),sr.E}),(0,pe.b)(y=>{const I=new dE(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(I)}),(0,ct.U)(y=>a={...y,guards:aI(y.targetSnapshot,y.currentSnapshot,this.rootContexts)}),function dI(n,t){return(0,w.z)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:g}}=e;return 0===g.length&&0===c.length?nt({...e,guardsResult:!0}):function q_(n,t,e,s){return(0,sn.D)(n).pipe((0,w.z)(a=>function Uh(n,t,e,s,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?nt(c.map(y=>{const I=Vo(t)??a,M=Al(y,I);return as(function Z_(n){return n&&Sl(n.canDeactivate)}(M)?M.canDeactivate(n,t,e,s):I.runInContext(()=>M(n,t,e,s))).pipe(q())})).pipe(ld()):nt(!0)}(a.component,a.route,e,t,s)),q(a=>!0!==a,!0))}(g,s,a,n).pipe((0,w.z)(y=>y&&function Uo(n){return"boolean"==typeof n}(y)?function RE(n,t,e,s){return(0,sn.D)(t).pipe(ne(a=>zs(function NE(n,t){return null!==n&&t&&t(new fE(n)),nt(!0)}(a.route.parent,s),function PE(n,t){return null!==n&&t&&t(new U_(n)),nt(!0)}(a.route,s),function K_(n,t,e){const s=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(g=>function lI(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>Fr(()=>nt(g.guards.map(I=>{const M=Vo(g.node)??e,H=Al(I,M);return as(function z_(n){return n&&Sl(n.canActivateChild)}(H)?H.canActivateChild(s,n):M.runInContext(()=>H(s,n))).pipe(q())})).pipe(ld())));return nt(c).pipe(ld())}(n,a.path,e),function OE(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return nt(!0);const a=s.map(c=>Fr(()=>{const g=Vo(t)??e,y=Al(c,g);return as(function G_(n){return n&&Sl(n.canActivate)}(y)?y.canActivate(t,n):g.runInContext(()=>y(t,n))).pipe(q())}));return nt(a).pipe(ld())}(n,a.route,e))),q(a=>!0!==a,!0))}(s,c,n,t):nt(y)),(0,ct.U)(y=>({...e,guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,pe.b)(y=>{if(a.guardsResult=y.guardsResult,N(y.guardsResult))throw kh(0,y.guardsResult);const I=new hE(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(I)}),Jr(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",3),!1)),jp(y=>{if(y.guards.canActivateChecks.length)return nt(y).pipe((0,pe.b)(I=>{const M=new L_(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(M)}),Rn(I=>{let M=!1;return nt(I).pipe(function GE(n,t){return(0,w.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return nt(e);let c=0;return(0,sn.D)(a).pipe(ne(g=>function iy(n,t,e,s){const a=n.routeConfig,c=n._resolve;return void 0!==a?.title&&!sy(a)&&(c[or]=a.title),function ku(n,t,e,s){const a=function zE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return nt({});const c={};return(0,sn.D)(a).pipe((0,w.z)(g=>function ZE(n,t,e,s){const a=Vo(t)??s,c=Al(n,a);return as(c.resolve?c.resolve(t,e):a.runInContext(()=>c(t,e)))}(n[g],t,e,s).pipe(q(),(0,pe.b)(y=>{c[g]=y}))),At(1),function Un(n){return(0,ct.U)(()=>n)}(c),$e(g=>ad(g)?sr.E:rs(g)))}(c,n,t,s).pipe((0,ct.U)(g=>(n._resolvedData=g,n.data=Sp(n,e).resolve,a&&sy(a)&&(n.data[or]=a.title),null)))}(g.route,s,n,t)),(0,pe.b)(()=>c++),At(1),(0,w.z)(g=>c===a.length?nt(e):sr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pe.b)({next:()=>M=!0,complete:()=>{M||(this.restoreHistory(I),this.cancelNavigationTransition(I,"",2))}}))}),(0,pe.b)(I=>{const M=new wp(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(M)}))}),jp(y=>{const I=M=>{const H=[];M.routeConfig?.loadComponent&&!M.routeConfig._loadedComponent&&H.push(this.configLoader.loadComponent(M.routeConfig).pipe((0,pe.b)(V=>{M.component=V}),(0,ct.U)(()=>{})));for(const V of M.children)H.push(...I(V));return H};return va(I(y.targetSnapshot.root)).pipe(D(),dn(1))}),jp(()=>this.afterPreactivation()),(0,ct.U)(y=>{const I=function gE(n,t,e){const s=Pu(n,t._root,e?e._root:void 0);return new Tp(s,t)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return a={...y,targetRouterState:I}}),(0,pe.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,t,e)=>(0,ct.U)(s=>(new oI(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,pe.b)({next(){c=!0},complete(){c=!0}}),os(()=>{c||g||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),$e(y=>{if(g=!0,Ra(y)){Fh(y)||(this.navigated=!0,this.restoreHistory(a,!0));const I=new Ph(a.id,this.serializeUrl(a.extractedUrl),y.message,y.cancellationCode);if(s.next(I),Fh(y)){const M=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),H={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zh(a.source)};this.scheduleNavigation(M,"imperative",null,H,{resolve:a.resolve,reject:a.reject,promise:a.promise})}else a.resolve(!1)}else{this.restoreHistory(a,!0);const I=new F_(a.id,this.serializeUrl(a.extractedUrl),y,a.targetSnapshot??void 0);s.next(I);try{a.resolve(this.errorHandler(y))}catch(M){a.reject(M)}}return sr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{const a={replaceUrl:!0},c=e.state?.navigationId?e.state:null;if(c){const y={...c};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const g=this.parseUrl(e.url);this.scheduleNavigation(g,s,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Op),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:c,fragment:g,queryParamsHandling:y,preserveFragment:I}=s,M=a||this.routerState.root,H=I?this.currentUrlTree.fragment:g;let V=null;switch(y){case"merge":V={...this.currentUrlTree.queryParams,...c};break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=c||null}return null!==V&&(V=this.removeEmptyProps(V)),Nt(M,this.currentUrlTree,e,V,H??null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=N(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function t0(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new d.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?{...e0}:!1===s?{...uy}:s,N(e))return pp(this.currentUrlTree,e,a);const c=this.parseUrl(e);return pp(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const c=e[a];return null!=c&&(s[a]=c),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Il(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,a,c,g){if(this.disposed)return Promise.resolve(!1);let y,I,M;g?(y=g.resolve,I=g.reject,M=g.promise):M=new Promise((J,Te)=>{y=J,I=Te});const H=++this.navigationId;let V;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),V=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):V=0,this.setTransition({id:H,targetPageId:V,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:y,reject:I,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(J=>Promise.reject(J))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),c={...s.extras.state,...this.generateNgRouterState(s.id,s.targetPageId)};this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,s=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===a?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s,a){const c=new Ph(e.id,this.serializeUrl(e.extractedUrl),s,a);this.triggerEvent(c),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:function(){return zh()},providedIn:"root"}),n})();function Zh(n){return"imperative"!==n}let ls=(()=>{class n{constructor(e,s,a,c,g){this.router=e,this.route=s,this.tabIndexAttribute=a,this.renderer=c,this.el=g,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Yr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,d.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,d.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,d.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const s=this.renderer,a=this.el.nativeElement;null!==e?s.setAttribute(a,"tabindex",e):s.removeAttribute(a,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Yn),d.Y36(Fo),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,s){1&e&&d.NdJ("click",function(){return s.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})();class dy{}let s0=(()=>{class n{constructor(e,s,a,c,g){this.router=e,this.injector=a,this.preloadingStrategy=c,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(Jr(e=>e instanceof Il),ne(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const c of s){c.providers&&!c._injector&&(c._injector=(0,d.MMx)(c.providers,e,`Route: ${c.path}`));const g=c._injector??e,y=c._loadedInjector??g;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?a.push(this.preloadConfig(g,c)):(c.children||c._loadedRoutes)&&a.push(this.processRoutes(y,c.children??c._loadedRoutes))}return(0,sn.D)(a).pipe((0,Gs.J)())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let a;a=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(e,s):nt(null);const c=a.pipe((0,w.z)(g=>null===g?nt(void 0):(s._loadedRoutes=g.routes,s._loadedInjector=g.injector,this.processRoutes(g.injector??e,g.routes))));if(s.loadComponent&&!s._loadedComponent){const g=this.loader.loadComponent(s);return(0,sn.D)([c,g]).pipe((0,Gs.J)())}return c})}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Yn),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(dy),d.LFG(Rl))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ka=new d.OlP("");let Ks=(()=>{class n{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Jc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Il&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ma&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new Ma(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function hd(n,t){return{\u0275kind:n,\u0275providers:t}}function Kh(n){return[{provide:xa,multi:!0,useValue:n}]}function Gp(){const n=(0,d.f3M)(d.zs3);return t=>{const e=n.get(d.z2F);if(t!==e.components[0])return;const s=n.get(Yn),a=n.get(a0);1===n.get(Yh)&&s.initialNavigation(),n.get(fy,null,d.XFs.Optional)?.setUpPreloading(),n.get(ka,null,d.XFs.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.unsubscribe())}}const a0=new d.OlP("",{factory:()=>new Yr.x}),Yh=new d.OlP("",{providedIn:"root",factory:()=>1});const fy=new d.OlP("");function us(n){return hd(0,[{provide:fy,useExisting:s0},{provide:dy,useExisting:n}])}const py=new d.OlP("ROUTER_FORROOT_GUARD"),c0=[De,{provide:Zc,useClass:Ro},{provide:Yn,useFactory:zh},nd,{provide:Fo,useFactory:function o0(n){return n.routerState.root},deps:[Yn]},Rl];function d0(){return new d.PXZ("Router",Yn)}let zp=(()=>{class n{constructor(e){}static forRoot(e,s){return{ngModule:n,providers:[c0,[],Kh(e),{provide:py,useFactory:Rt,deps:[[Yn,new d.FiY,new d.tp0]]},{provide:Oa,useValue:s||{}},s?.useHash?{provide:fe,useClass:Ge}:{provide:fe,useClass:He},{provide:ka,useFactory:()=>{const n=(0,d.f3M)(Yn),t=(0,d.f3M)(ou),e=(0,d.f3M)(Oa);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Ks(n,t,e)}},s?.preloadingStrategy?us(s.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:d0},s?.initialNavigation?gy(s):[],[{provide:Zp,useFactory:Gp},{provide:d.tb,multi:!0,useExisting:Zp}]]}}static forChild(e){return{ngModule:n,providers:[Kh(e)]}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(py,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Lh]}),n})();function Rt(n){return"guarded"}function gy(n){return["disabled"===n.initialNavigation?hd(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const t=(0,d.f3M)(Yn);return()=>{t.setUpLocationChangeListener()}}},{provide:Yh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?hd(2,[{provide:Yh,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:t=>{const e=t.get(G,Promise.resolve());let s=!1;return()=>e.then(()=>new Promise(c=>{const g=t.get(Yn),y=t.get(a0);(function a(c){t.get(Yn).events.pipe(Jr(y=>y instanceof Il||y instanceof Ph||y instanceof F_),(0,ct.U)(y=>y instanceof Il||y instanceof Ph&&(0===y.code||1===y.code)&&null),Jr(y=>null!==y),dn(1)).subscribe(()=>{c()})})(()=>{c(!0),s=!0}),g.afterPreactivation=()=>(c(!0),s||y.closed?nt(void 0):y),g.initialNavigation()}))}}]).\u0275providers:[]]}const Zp=new d.OlP("");var Yt=O(2122),Bo=O(259);class Fu{constructor(t){return t}}class Qh{constructor(){return(0,Bo.C6)()}}const _y=new d.OlP("angularfire2._apps"),yy={provide:Fu,useFactory:function g0(n){return n&&1===n.length?n[0]:new Fu((0,Bo.Mq)())},deps:[[new d.FiY,_y]]},vy={provide:Qh,deps:[[new d.FiY,_y]]};function Pl(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new Fu(s)}}let m0=(()=>{class n{constructor(e){(0,Bo.KN)("angularfire",Yt.q4.full,"core"),(0,Bo.KN)("angularfire",Yt.q4.full,"app"),(0,Bo.KN)("angular",d.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[yy,vy]}),n})();function qp(n,...t){return{ngModule:m0,providers:[{provide:_y,useFactory:Pl(n),multi:!0,deps:[d.R0b,d.zs3,Yt.HU,...t]}]}}const wI=(0,Yt.u3)(Bo.ZF,!0);var Lu=O(5861),$o=O(9681),Oi=O(4859),F=O(2090),pd=O(1877);const Vu=new Map,Ey={activated:!1,tokenObservers:[]},wy={initialized:!1,enabled:!1};function wr(n){return Vu.get(n)||Object.assign({},Ey)}function Jh(){return wy}class Qp{constructor(t,e,s,a,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Lu.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function II(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Vr=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Nl(n){if(!wr(n).activated)throw Vr.create("use-before-activation",{appName:n.name})}function Uu(n,t){return mi.apply(this,arguments)}function mi(){return(mi=(0,Lu.Z)(function*({url:n,body:t},e){const s={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const V=yield a.getHeartbeatsHeader();V&&(s["X-Firebase-Client"]=V)}const c={method:"POST",body:JSON.stringify(t),headers:s};let g,y;try{g=yield fetch(n,c)}catch(V){throw Vr.create("fetch-network-error",{originalErrorMessage:V?.message})}if(200!==g.status)throw Vr.create("fetch-status-error",{httpStatus:g.status});try{y=yield g.json()}catch(V){throw Vr.create("fetch-parse-error",{originalErrorMessage:V?.message})}const I=y.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const M=1e3*Number(I[1]),H=Date.now();return{token:y.token,expireTimeMillis:H+M,issuedAtTimeMillis:H}})).apply(this,arguments)}function eg(n,t){const{projectId:e,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const Bu="firebase-app-check-store";let ng=null;function rg(){return ng||(ng=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{var a;t(Vr.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(Bu,{keyPath:"compositeKey"})}}catch(e){t(Vr.create("storage-open",{originalErrorMessage:e?.message}))}}),ng)}function md(){return(md=(0,Lu.Z)(function*(n,t){const s=(yield rg()).transaction(Bu,"readwrite"),c=s.objectStore(Bu).put({compositeKey:n,value:t});return new Promise((g,y)=>{c.onsuccess=I=>{g()},s.onerror=I=>{var M;y(Vr.create("storage-set",{originalErrorMessage:null===(M=I.target.error)||void 0===M?void 0:M.message}))}})})).apply(this,arguments)}const _d=new pd.Yd("@firebase/app-check");function Ay(n,t){return(0,F.hl)()?function tf(n,t){return function rf(n,t){return md.apply(this,arguments)}(function Ty(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{_d.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function og(){return Jh().enabled}function ag(){return lg.apply(this,arguments)}function lg(){return(lg=(0,Lu.Z)(function*(){const n=Jh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const TI={error:"UNKNOWN_ERROR"};function AI(n){return F.US.encodeString(JSON.stringify(n),!1)}function cg(n){return My.apply(this,arguments)}function My(){return(My=(0,Lu.Z)(function*(n,t=!1){const e=n.app;Nl(e);const s=wr(e);let c,a=s.token;if(a&&!yd(a)&&(s.token=void 0,a=void 0),!a){const I=yield s.cachedTokenPromise;I&&(yd(I)?a=I:yield Ay(e,void 0))}if(!t&&a&&yd(a))return{token:a.token};let y,g=!1;if(og()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Uu(eg(e,yield ag()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),g=!0);const I=yield s.exchangeTokenPromise;return yield Ay(e,I),s.token=I,{token:I.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),g=!0),a=yield wr(e).exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?_d.warn(I.message):_d.error(I),c=I}return a?c?y=yd(a)?{token:a.token,internalError:c}:jo(c):(y={token:a.token},s.token=a,yield Ay(e,a)):y=jo(c),g&&T0(e,y),y})).apply(this,arguments)}function Py(n,t){const e=wr(n),s=e.tokenObservers.filter(a=>a.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=s}function b0(n){const{app:t}=n,e=wr(t);let s=e.tokenRefresher;s||(s=function SI(n){const{app:t}=n;return new Qp((0,Lu.Z)(function*(){let s;if(s=wr(t).token?yield cg(n,!0):yield cg(n),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const e=wr(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=s),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function T0(n,t){const e=wr(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch{}}function yd(n){return n.expireTimeMillis-Date.now()>0}function jo(n){return{token:AI(TI),error:n}}class dg{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=wr(this.app);for(const e of t)Py(this.app,e.next);return Promise.resolve()}}const Ly="app-check-internal";!function Vy(){(0,$o._registerComponent)(new Oi.wA("app-check",n=>function A0(n,t){return new dg(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Ly).initialize()})),(0,$o._registerComponent)(new Oi.wA(Ly,n=>function Ny(n){return{getToken:t=>cg(n,t),addTokenListener:t=>function Ry(n,t,e,s){const{app:a}=n,c=wr(a);if(c.tokenObservers=[...c.tokenObservers,{next:e,error:s,type:t}],c.token&&yd(c.token)){const y=c.token;Promise.resolve().then(()=>{e({token:y.token}),b0(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>b0(n))}(n,"INTERNAL",t),removeTokenListener:t=>Py(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$o.registerVersion)("@firebase/app-check","0.6.1")}();class Hu{constructor(){return(0,Yt.vb)("app-check")}}typeof window<"u"&&window;var U0=O(1808);class hf{constructor(t){return t}}class By{constructor(){return(0,Yt.vb)("auth")}}const Ed=new d.OlP("angularfire2.auth-instances");function $0(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new hf(s)}}const FI={provide:By,deps:[[new d.FiY,Ed]]},$y={provide:hf,useFactory:function B0(n,t){const e=(0,Yt.JM)("auth",n,t);return e&&new hf(e)},deps:[[new d.FiY,Ed],Fu]};let H0=(()=>{class n{constructor(){(0,Bo.KN)("angularfire",Yt.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[$y,FI]}),n})();function j0(n,...t){return{ngModule:H0,providers:[{provide:Ed,useFactory:$0(n),multi:!0,deps:[d.R0b,d.zs3,Yt.HU,Qh,[new d.FiY,Hu],...t]}]}}const Gy=(0,Yt.u3)(U0.n,!0),wd="@firebase/database";let Dd="";function xl(n){Dd=n}class Gu{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class zu{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const kl=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Gu(t)}}catch{}return new zu},xi=kl("localStorage"),Va=kl("sessionStorage"),cs=new pd.Yd("@firebase/database"),Fl=function(){let n=1;return function(){return n++}}(),Ll=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const s=e.digest();return F.US.encodeByteArray(s)},Zu=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=Zu.apply(null,s):t+="object"==typeof s?(0,F.Wl)(s):s,t+=" "}return t};let Ua=null,bg=!0;const Tg=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(cs.logLevel=pd.in.VERBOSE,Ua=cs.log.bind(cs),t&&Va.set("logging_enabled",!0)):"function"==typeof n?Ua=n:(Ua=null,Va.remove("logging_enabled"))},ar=function(...n){if(!0===bg&&(bg=!1,null===Ua&&!0===Va.get("logging_enabled")&&Tg(!0)),Ua){const t=Zu.apply(null,n);Ua(t)}},qu=function(n){return function(...t){ar(n,...t)}},_f=function(...n){const t="FIREBASE INTERNAL ERROR: "+Zu(...n);cs.error(t)},ds=function(...n){const t=`FIREBASE FATAL ERROR: ${Zu(...n)}`;throw cs.error(t),new Error(t)},Dr=function(...n){const t="FIREBASE WARNING: "+Zu(...n);cs.warn(t)},yf=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ba="[MIN_NAME]",Ys="[MAX_NAME]",zo=function(n,t){if(n===t)return 0;if(n===Ba||t===Ys)return-1;if(t===Ba||n===Ys)return 1;{const e=Pg(n),s=Pg(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},Ag=function(n,t){return n===t?0:n<t?-1:1},Id=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(t))},Ku=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,F.Wl)(t[s]),e+=":",e+=Ku(n[t[s]]);return e+="}",e},bd=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let a=0;a<e;a+=t)s.push(n.substring(a,a+t>e?e:a+t));return s};function er(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Jy=function(n){(0,F.hu)(!yf(n),"Invalid JSON number");const s=1023;let a,c,g,y,I;0===n?(c=0,g=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(y=Math.min(Math.floor(Math.log(n)/Math.LN2),s),c=y+s,g=Math.round(n*Math.pow(2,52-y)-Math.pow(2,52))):(c=0,g=Math.round(n/Math.pow(2,-1074))));const M=[];for(I=52;I;I-=1)M.push(g%2?1:0),g=Math.floor(g/2);for(I=11;I;I-=1)M.push(c%2?1:0),c=Math.floor(c/2);M.push(a?1:0),M.reverse();const H=M.join("");let V="";for(I=0;I<64;I+=8){let J=parseInt(H.substr(I,8),2).toString(16);1===J.length&&(J="0"+J),V+=J}return V.toLowerCase()},ev=new RegExp("^-?(0*)\\d{1,10}$"),Pg=function(n){if(ev.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},$a=function(n){try{n()}catch(t){setTimeout(()=>{throw Dr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Td=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class rv{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){Dr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class iv{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ar("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dr(t)}}let Yu=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const vf=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kg="websocket",Fg="long_polling";class Ef{constructor(t,e,s,a,c=!1,g="",y=!1){this.secure=e,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=g,this.includeNamespaceInQueryParams=y,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xi.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&xi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Lg(n,t,e){let s;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===kg)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Fg)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function lv(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return er(e,(c,g)=>{a.push(c+"="+g)}),s+a.join("&")}class ib{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const Vg={},Ug={};function wf(n){const t=n.toString();return Vg[t]||(Vg[t]=new ib),Vg[t]}class lr{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&$a(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ha{constructor(t,e,s,a,c,g,y){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=a,this.authToken=c,this.transportSessionId=g,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qu(t),this.stats_=wf(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),Lg(e,Fg,I))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new lr(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Gg((...c)=>{const[g,y,I,M,H]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=y,this.password=I;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[g,y]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(g,y)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&vf.test(location.hostname)&&(s.r="f");const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ha.forceAllow_=!0}static forceDisallow(){Ha.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Ha.forceAllow_&&(Ha.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,F.h$)(e),a=bd(s,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Gg{constructor(t,e,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Fl(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Gg.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(y){ar("frame writing exception"),y.stack&&ar(y.stack),ar(y)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ar("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const g=this.pendingSegs.shift();s=s+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),s()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||"loaded"===a||"complete"===a)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{ar("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let ti=null;typeof MozWebSocket<"u"?ti=MozWebSocket:typeof WebSocket<"u"&&(ti=WebSocket);let Vl=(()=>{class n{constructor(e,s,a,c,g,y,I){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qu(this.connId),this.stats_=wf(s),this.connURL=n.connectionURL_(s,y,I,c,a),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,a,c,g){const y={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&vf.test(location.hostname)&&(y.r="f"),s&&(y.s=s),a&&(y.ls=a),c&&(y.ac=c),g&&(y.p=g),Lg(e,kg,y)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xi.set("previous_websocket_failure",!0);try{let a;if((0,F.Yr)()){a={headers:{"User-Agent":`Firebase/5/${Dd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,y=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;y&&(a.proxy={origin:y})}this.mySock=new ti(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==ti&&!n.forceDisallow_}static previouslyFailed(){return xi.isInMemoryStorage||!0===xi.get("previous_websocket_failure")}markConnectionHealthy(){xi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=(0,F.cI)(s);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const s=(0,F.Wl)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=bd(s,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),zg=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ha,Vl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=Vl&&Vl.isAvailable();let a=s&&!Vl.previouslyFailed();if(e.webSocketOnly&&(s||Dr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Vl];else{const c=this.transports_=[];for(const g of n.ALL_TRANSPORTS)g&&g.isAvailable()&&c.push(g);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Yg{constructor(t,e,s,a,c,g,y,I,M,H){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=g,this.onReady_=y,this.onDisconnect_=I,this.onKill_=M,this.lastSessionId=H,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qu("c:"+this.id+":"),this.transportManager_=new zg(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Td(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Id("t",t),s=Id("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Id("t",t),s=Id("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Id("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?_f("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_f("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&Dr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),Td(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Td(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Df{put(t,e,s,a){}merge(t,e,s,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class Rd{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const a=this.getInitialEvent(t);a&&e.apply(s,a)}off(t,e,s){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!s||s===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Pd extends Rd{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Pd}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Qt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Wt(){return new Qt("")}function Ft(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Zo(n){return n.pieces_.length-n.pieceNum_}function hn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Qt(n.pieces_,t)}function Xg(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Nd(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function gv(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Qt(t,0)}function Pn(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof Qt)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&e.push(s[a])}return new Qt(e,0)}function Vt(n){return n.pieceNum_>=n.pieces_.length}function $r(n,t){const e=Ft(n),s=Ft(t);if(null===e)return t;if(e===s)return $r(hn(n),hn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function cw(n,t){const e=Nd(n,0),s=Nd(t,0);for(let a=0;a<e.length&&a<s.length;a++){const c=zo(e[a],s[a]);if(0!==c)return c}return e.length===s.length?0:e.length<s.length?-1:1}function em(n,t){if(Zo(n)!==Zo(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function ki(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(Zo(n)>Zo(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class dw{constructor(t,e){this.errorPrefix_=e,this.parts_=Nd(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,F.ug)(this.parts_[s]);mv(this)}}function mv(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ul(n))}function Ul(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class tm extends Rd{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new tm}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Od=1e3;let kd,ja=(()=>{class n extends Df{constructor(e,s,a,c,g,y,I,M){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=g,this.authTokenProvider_=y,this.appCheckTokenProvider_=I,this.authOverride_=M,this.id=n.nextPersistentConnectionId_++,this.log_=qu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Od,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,M&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tm.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Pd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,a){const c=++this.requestNumber_,g={r:c,a:e,b:s};this.log_((0,F.Wl)(g)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const s=new F.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:y=>{const I=y.d;"ok"===y.s?s.resolve(I):s.reject(I)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,a,c){this.initConnection_();const g=e._queryIdentifier,y=e._path.toString();this.log_("Listen called for "+y+" "+g),this.listens.has(y)||this.listens.set(y,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(y).has(g),"listen() called twice for same path/queryId.");const I={onComplete:c,hashFn:s,query:e,tag:a};this.listens.get(y).set(g,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(e){const s=e.query,a=s._path.toString(),c=s._queryIdentifier;this.log_("Listen on "+a+" for "+c);const g={p:a};e.tag&&(g.q=s._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,I=>{const M=I.d,H=I.s;n.warnOnListenWarnings_(M,s),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",I),"ok"!==H&&this.removeListen_(a,c),e.onComplete&&e.onComplete(H,M))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const a=(0,F.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+s._queryParams.getIndex().toString()+'"',g=s._path.toString();Dr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,F.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(s,a,c=>{const g=c.s,y=c.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,a=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(e,s){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,s)}sendUnlisten_(e,s,a,c){this.log_("Unlisten on "+e+" for "+s);const g={p:e};c&&(g.q=a,g.t=c),this.sendRequest("n",g)}onDisconnectPut(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:a})}onDisconnectMerge(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:a})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,a,c){const g={p:s,d:a};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,y=>{c&&setTimeout(()=>{c(y.s,y.d)},Math.floor(0))})}put(e,s,a,c){this.putInternal("p",e,s,a,c)}merge(e,s,a,c){this.putInternal("m",e,s,a,c)}putInternal(e,s,a,c,g){this.initConnection_();const y={p:s,d:a};void 0!==g&&(y.h=g),this.outstandingPuts_.push({action:e,request:y,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,a,g=>{this.log_(s+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(g.s,g.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Wl)(e));const s=e.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):_f("Unrecognized action received from server: "+(0,F.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Od,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Od,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Od),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Lu.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,y=e.lastSessionId;let I=!1,M=null;const H=function(){M?M.close():(I=!0,c())};e.realtime_={close:H,sendRequest:function(Te){(0,F.hu)(M,"sendRequest call when we're not connected not allowed."),M.sendRequest(Te)}};const J=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Te,Le]=yield Promise.all([e.authTokenProvider_.getToken(J),e.appCheckTokenProvider_.getToken(J)]);I?ar("getToken() completed but was canceled"):(ar("getToken() completed. Creating connection."),e.authToken_=Te&&Te.accessToken,e.appCheckToken_=Le&&Le.token,M=new Yg(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,a,c,_t=>{Dr(_t+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},y))}catch(Te){e.log_("Failed to get token: "+Te),I||(e.repoInfo_.nodeAdmin&&Dr(Te),H())}}})()}interrupt(e){ar("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ar("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Od,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let a;a=s?s.map(g=>Ku(g)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,s){const a=new Qt(e).toString();let c;if(this.listens.has(a)){const g=this.listens.get(a);c=g.get(s),g.delete(s),0===g.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,s){ar("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){ar("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,F.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+Dd.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pd.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ut{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Ut(t,e)}}class xd{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new Ut(Ba,t),a=new Ut(Ba,e);return 0!==this.compare(s,a)}minPost(){return Ut.MIN}}class im extends xd{static get __EMPTY_NODE(){return kd}static set __EMPTY_NODE(t){kd=t}compare(t,e){return zo(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Ut.MIN}maxPost(){return new Ut(Ys,kd)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ut(t,kd)}toString(){return".key"}}const fs=new im;class Xs{constructor(t,e,s,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(g=e?s(t.key,e):1,a&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Cv,ps=(()=>{class n{constructor(e,s,a,c,g){this.key=e,this.value=s,this.color=a??n.RED,this.left=c??ur.EMPTY_NODE,this.right=g??ur.EMPTY_NODE}copy(e,s,a,c,g){return new n(e??this.key,s??this.value,a??this.color,c??this.left,g??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let c=this;const g=a(e,c.key);return c=g<0?c.copy(null,null,null,c.left.insert(e,s,a),null):0===g?c.copy(null,s,null,null,null):c.copy(null,null,null,null,c.right.insert(e,s,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return ur.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let a,c;if(a=this,s(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===s(e,a.key)){if(a.right.isEmpty())return ur.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ur{constructor(t,e=ur.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ur(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ps.BLACK,null,null))}remove(t){return new ur(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ps.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,a=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(a=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Xs(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Xs(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Xs(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Xs(this.root_,null,this.comparator_,!0,t)}}function sb(n,t){return zo(n.name,t.name)}function Fd(n,t){return zo(n,t)}ur.EMPTY_NODE=new class gw{copy(t,e,s,a,c){return this}insert(t,e,s){return new ps(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sm=function(n){return"number"==typeof n?"number:"+Jy(n):"string:"+n},mw=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===Cv||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===Cv||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let mt,wv,Dv,Xu=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),mw(this.priorityNode_)}static set __childrenNodeConstructor(e){mt=e}static get __childrenNodeConstructor(){return mt}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Vt(e)?this:".priority"===Ft(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const a=Ft(e);return null===a?s:s.isEmpty()&&".priority"!==a?this:((0,F.hu)(".priority"!==a||1===Zo(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(hn(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sm(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?Jy(this.value_):this.value_,this.lazyHash_=Ll(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(s),g=n.VALUE_TYPE_ORDER.indexOf(a);return(0,F.hu)(c>=0,"Unknown leaf type: "+s),(0,F.hu)(g>=0,"Unknown leaf type: "+a),c===g?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const an=new class If extends xd{compare(t,e){const s=t.node.getPriority(),a=e.node.getPriority(),c=s.compareTo(a);return 0===c?zo(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Ut.MIN}maxPost(){return new Ut(Ys,new Xu("[PRIORITY-POST]",Dv))}makePost(t,e){const s=wv(t);return new Ut(e,new Xu("[PRIORITY-POST]",s))}toString(){return".priority"}},Wn=Math.log(2);class ob{constructor(t){this.count=parseInt(Math.log(t+1)/Wn,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ld=function(n,t,e,s){n.sort(t);const a=function(I,M){const H=M-I;let V,J;if(0===H)return null;if(1===H)return V=n[I],J=e?e(V):V,new ps(J,V.node,ps.BLACK,null,null);{const Te=parseInt(H/2,10)+I,Le=a(I,Te),_t=a(Te+1,M);return V=n[Te],J=e?e(V):V,new ps(J,V.node,ps.BLACK,Le,_t)}},y=function(I){let M=null,H=null,V=n.length;const J=function(Le,_t){const Mt=V-Le,On=V;V-=Le;const _n=a(Mt+1,On),jr=n[Mt],Gn=e?e(jr):jr;Te(new ps(Gn,jr.node,_t,null,_n))},Te=function(Le){M?(M.left=Le,M=Le):(H=Le,M=Le)};for(let Le=0;Le<I.count;++Le){const _t=I.nextBitIsOne(),Mt=Math.pow(2,I.count-(Le+1));_t?J(Mt,ps.BLACK):(J(Mt,ps.BLACK),J(Mt,ps.RED))}return H}(new ob(n.length));return new ur(s||t,y)};let bf;const tc={};class eo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(tc&&an,"ChildrenNode.ts has not been loaded"),bf=bf||new eo({".priority":tc},{".priority":an}),bf}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ur?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==fs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const c=e.getIterator(Ut.Wrap);let y,g=c.getNext();for(;g;)a=a||t.isDefinedOn(g.node),s.push(g),g=c.getNext();y=a?Ld(s,t.getCompare()):tc;const I=t.toString(),M=Object.assign({},this.indexSet_);M[I]=t;const H=Object.assign({},this.indexes_);return H[I]=y,new eo(H,M)}addToIndexes(t,e){const s=(0,F.UI)(this.indexes_,(a,c)=>{const g=(0,F.DV)(this.indexSet_,c);if((0,F.hu)(g,"Missing index implementation for "+c),a===tc){if(g.isDefinedOn(t.node)){const y=[],I=e.getIterator(Ut.Wrap);let M=I.getNext();for(;M;)M.name!==t.name&&y.push(M),M=I.getNext();return y.push(t),Ld(y,g.getCompare())}return tc}{const y=e.get(t.name);let I=a;return y&&(I=I.remove(new Ut(t.name,y))),I.insert(t,t.node)}});return new eo(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,F.UI)(this.indexes_,a=>{if(a===tc)return a;{const c=e.get(t.name);return c?a.remove(new Ut(t.name,c)):a}});return new eo(s,this.indexSet_)}}let nc,Pt=(()=>{class n{constructor(e,s,a){this.children_=e,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&mw(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return nc||(nc=new n(new ur(Fd),null,eo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nc}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?nc:s}}getChild(e){const s=Ft(e);return null===s?this:this.getImmediateChild(s).getChild(hn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,F.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const a=new Ut(e,s);let c,g;s.isEmpty()?(c=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,s),g=this.indexMap_.addToIndexes(a,this.children_));const y=c.isEmpty()?nc:this.priorityNode_;return new n(c,y,g)}}updateChild(e,s){const a=Ft(e);if(null===a)return s;{(0,F.hu)(".priority"!==Ft(e)||1===Zo(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(hn(e),s);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let a=0,c=0,g=!0;if(this.forEachChild(an,(y,I)=>{s[y]=I.val(e),a++,g&&n.INTEGER_REGEXP_.test(y)?c=Math.max(c,Number(y)):g=!1}),!e&&g&&c<2*a){const y=[];for(const I in s)y[I]=s[I];return y}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+sm(this.getPriority().val())+":"),this.forEachChild(an,(s,a)=>{const c=a.hash();""!==c&&(e+=":"+s+":"+c)}),this.lazyHash_=""===e?"":Ll(e)}return this.lazyHash_}getPredecessorChildName(e,s,a){const c=this.resolveIndex_(a);if(c){const g=c.getPredecessorKey(new Ut(e,s));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new Ut(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new Ut(s,this.children_.get(s)):null}forEachChild(e,s){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>s(c.name,c.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Ut.Wrap);let g=c.peek();for(;null!=g&&s.compare(g,e)<0;)c.getNext(),g=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Ut.Wrap);let g=c.peek();for(;null!=g&&s.compare(g,e)>0;)c.getNext(),g=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Vd?-1:0}withIndex(e){if(e===fs||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===fs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const a=this.getIterator(an),c=s.getIterator(an);let g=a.getNext(),y=c.getNext();for(;g&&y;){if(g.name!==y.name||!g.node.equals(y.node))return!1;g=a.getNext(),y=c.getNext()}return null===g&&null===y}return!1}return!1}}resolveIndex_(e){return e===fs?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Vd=new class Iv extends Pt{constructor(){super(new ur(Fd),Pt.EMPTY_NODE,eo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Pt.EMPTY_NODE}isEmpty(){return!1}};function Bn(n,t=null){if(null===n)return Pt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Xu(n,Bn(t));if(n instanceof Array){let e=Pt.EMPTY_NODE;return er(n,(s,a)=>{if((0,F.r3)(n,s)&&"."!==s.substring(0,1)){const c=Bn(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(s,c))}}),e.updatePriority(Bn(t))}{const e=[];let s=!1;if(er(n,(g,y)=>{if("."!==g.substring(0,1)){const I=Bn(y);I.isEmpty()||(s=s||!I.getPriority().isEmpty(),e.push(new Ut(g,I)))}}),0===e.length)return Pt.EMPTY_NODE;const c=Ld(e,sb,g=>g.name,Fd);if(s){const g=Ld(e,an.getCompare());return new Pt(c,Bn(t),new eo({".priority":g},{".priority":an}))}return new Pt(c,Bn(t),eo.Default)}}Object.defineProperties(Ut,{MIN:{value:new Ut(Ba,Pt.EMPTY_NODE)},MAX:{value:new Ut(Ys,Vd)}}),im.__EMPTY_NODE=Pt.EMPTY_NODE,Xu.__childrenNodeConstructor=Pt,function Ev(n){Cv=n}(Vd),function _w(n){Dv=n}(Vd),function ec(n){wv=n}(Bn);class Bl extends xd{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!Vt(t)&&".priority"!==Ft(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),a=this.extractChild(e.node),c=s.compareTo(a);return 0===c?zo(t.name,e.name):c}makePost(t,e){const s=Bn(t),a=Pt.EMPTY_NODE.updateChild(this.indexPath_,s);return new Ut(e,a)}maxPost(){const t=Pt.EMPTY_NODE.updateChild(this.indexPath_,Vd);return new Ut(Ys,t)}toString(){return Nd(this.indexPath_,0).join("/")}}const om=new class vw extends xd{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?zo(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Ut.MIN}maxPost(){return Ut.MAX}makePost(t,e){const s=Bn(t);return new Ut(e,s)}toString(){return".value"}};function bv(n){return{type:"value",snapshotNode:n}}function qo(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function rc(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function ic(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class am{constructor(t){this.index_=t}updateChild(t,e,s,a,c,g){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=t.getImmediateChild(e);return y.getChild(a).equals(s.getChild(a))&&y.isEmpty()===s.isEmpty()||(null!=g&&(s.isEmpty()?t.hasChild(e)?g.trackChildChange(rc(e,y)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?g.trackChildChange(qo(e,s)):g.trackChildChange(ic(e,s,y))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(an,(a,c)=>{e.hasChild(a)||s.trackChildChange(rc(a,c))}),e.isLeafNode()||e.forEachChild(an,(a,c)=>{if(t.hasChild(a)){const g=t.getImmediateChild(a);g.equals(c)||s.trackChildChange(ic(a,c,g))}else s.trackChildChange(qo(a,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Pt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ko{constructor(t){this.indexedFilter_=new am(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ko.getStartPost_(t),this.endPost_=Ko.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,s=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&s}updateChild(t,e,s,a,c,g){return this.matches(new Ut(e,s))||(s=Pt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,a,c,g)}updateFullNode(t,e,s){e.isLeafNode()&&(e=Pt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(Pt.EMPTY_NODE);const c=this;return e.forEachChild(an,(g,y)=>{c.matches(new Ut(g,y))||(a=a.updateImmediateChild(g,Pt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Ud{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=e=>{const s=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Ko(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,s,a,c,g){return this.rangedFilter_.matches(new Ut(e,s))||(s=Pt.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,a,c,g):this.fullLimitUpdateChild_(t,e,s,c,g)}updateFullNode(t,e,s){let a;if(e.isLeafNode()||e.isEmpty())a=Pt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=Pt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;c.hasNext()&&g<this.limit_;){const y=c.getNext();if(this.withinDirectionalStart(y)){if(!this.withinDirectionalEnd(y))break;a=a.updateImmediateChild(y.name,y.node),g++}}}else{let c;a=e.withIndex(this.index_),a=a.updatePriority(Pt.EMPTY_NODE),c=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let g=0;for(;c.hasNext();){const y=c.getNext();g<this.limit_&&this.withinDirectionalStart(y)&&this.withinDirectionalEnd(y)?g++:a=a.updateImmediateChild(y.name,Pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,a,c){let g;if(this.reverse_){const V=this.index_.getCompare();g=(J,Te)=>V(Te,J)}else g=this.index_.getCompare();const y=t;(0,F.hu)(y.numChildren()===this.limit_,"");const I=new Ut(e,s),M=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),H=this.rangedFilter_.matches(I);if(y.hasChild(e)){const V=y.getImmediateChild(e);let J=a.getChildAfterChild(this.index_,M,this.reverse_);for(;null!=J&&(J.name===e||y.hasChild(J.name));)J=a.getChildAfterChild(this.index_,J,this.reverse_);const Te=null==J?1:g(J,I);if(H&&!s.isEmpty()&&Te>=0)return c?.trackChildChange(ic(e,s,V)),y.updateImmediateChild(e,s);{c?.trackChildChange(rc(e,V));const _t=y.updateImmediateChild(e,Pt.EMPTY_NODE);return null!=J&&this.rangedFilter_.matches(J)?(c?.trackChildChange(qo(J.name,J.node)),_t.updateImmediateChild(J.name,J.node)):_t}}return s.isEmpty()?t:H&&g(M,I)>=0?(null!=c&&(c.trackChildChange(rc(M.name,M.node)),c.trackChildChange(qo(e,s))),y.updateImmediateChild(e,s).updateImmediateChild(M.name,Pt.EMPTY_NODE)):t}}class Tf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=an}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ba}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ys}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===an}copy(){const t=new Tf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Af(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function lm(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function Sf(n,t){const e=n.copy();return e.index_=t,e}function Rv(n){const t={};if(n.isDefault())return t;let e;if(n.index_===an?e="$priority":n.index_===om?e="$value":n.index_===fs?e="$key":((0,F.hu)(n.index_ instanceof Bl,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Wl)(e),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";t[s]=(0,F.Wl)(n.indexStartValue_),n.startNameSet_&&(t[s]+=","+(0,F.Wl)(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";t[s]=(0,F.Wl)(n.indexEndValue_),n.endNameSet_&&(t[s]+=","+(0,F.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function ww(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==an&&(t.i=n.index_.toString()),t}class um extends Df{constructor(t,e,s,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=qu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const g=um.getListenId_(t,s),y={};this.listens_[g]=y;const I=Rv(t._queryParams);this.restRequest_(c+".json",I,(M,H)=>{let V=H;if(404===M&&(V=null,M=null),null===M&&this.onDataUpdate_(c,V,!1,s),(0,F.DV)(this.listens_,g)===y){let J;J=M?401===M?"permission_denied":"rest_error:"+M:"ok",a(J,null)}})}unlisten(t,e){const s=um.getListenId_(t,e);delete this.listens_[s]}get(t){const e=Rv(t._queryParams),s=t._path.toString(),a=new F.BH;return this.restRequest_(s+".json",e,(c,g)=>{let y=g;404===c&&(y=null,c=null),null===c?(this.onDataUpdate_(s,y,!1,null),a.resolve(y)):a.reject(new Error(y))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+g);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(s&&4===y.readyState){this.log_("REST Response for "+g+" received. status:",y.status,"response:",y.responseText);let I=null;if(y.status>=200&&y.status<300){try{I=(0,F.cI)(y.responseText)}catch{Dr("Failed to parse JSON response for "+g+": "+y.responseText)}s(null,I)}else 401!==y.status&&404!==y.status&&Dr("Got unsuccessful REST response for "+g+" Status: "+y.status),s(y.status);s=null}},y.open("GET",g,!0),y.send()})}}class ab{constructor(){this.rootNode_=Pt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function cm(){return{value:null,children:new Map}}function $l(n,t,e){if(Vt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=Ft(t);n.children.has(s)||n.children.set(s,cm()),$l(n.children.get(s),t=hn(t),e)}}function sc(n,t){if(Vt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(an,(s,a)=>{$l(n,new Qt(s),a)}),sc(n,t)}}if(n.children.size>0){const e=Ft(t);return t=hn(t),n.children.has(e)&&sc(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function dm(n,t,e){null!==n.value?e(t,n.value):function Dw(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,a)=>{dm(a,new Qt(t.toString()+"/"+s),e)})}class Pv{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&er(this.last_,(s,a)=>{e[s]=e[s]-a}),this.last_=t,e}}class Tw{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Pv(t);const s=1e4+2e4*Math.random();Td(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;er(t,(a,c)=>{c>0&&(0,F.r3)(this.statsToReport_,a)&&(e[a]=c,s=!0)}),s&&this.server_.reportStats(e),Td(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fi=(()=>{return(n=Fi||(Fi={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Fi;var n})();function fm(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Rf{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=Fi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Vt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Qt(t));return new Rf(Wt(),e,this.revert)}}return(0,F.hu)(Ft(this.path)===t,"operationForChild called for unrelated child."),new Rf(hn(this.path),this.affectedTree,this.revert)}}class Yo{constructor(t,e){this.source=t,this.path=e,this.type=Fi.LISTEN_COMPLETE}operationForChild(t){return Vt(this.path)?new Yo(this.source,Wt()):new Yo(this.source,hn(this.path))}}class Hl{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=Fi.OVERWRITE}operationForChild(t){return Vt(this.path)?new Hl(this.source,Wt(),this.snap.getImmediateChild(t)):new Hl(this.source,hn(this.path),this.snap)}}class jl{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=Fi.MERGE}operationForChild(t){if(Vt(this.path)){const e=this.children.subtree(new Qt(t));return e.isEmpty()?null:e.value?new Hl(this.source,Wt(),e.value):new jl(this.source,Wt(),e)}return(0,F.hu)(Ft(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new jl(this.source,hn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Wa{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Vt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Ft(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Nv{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ac(n,t,e,s,a,c){const g=s.filter(y=>y.type===e);g.sort((y,I)=>function pm(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const s=new Ut(t.childName,t.snapshotNode),a=new Ut(e.childName,e.snapshotNode);return n.index_.compare(s,a)}(n,y,I)),g.forEach(y=>{const I=function Sw(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,y,c);a.forEach(M=>{M.respondsTo(y.type)&&t.push(M.createEvent(I,n.query_))})})}function Pf(n,t){return{eventCache:n,serverCache:t}}function lc(n,t,e,s){return Pf(new Wa(t,e,s),n.serverCache)}function gm(n,t,e,s){return Pf(n.eventCache,new Wa(t,e,s))}function Nf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Wl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let mm;class mn{constructor(t,e=(()=>(mm||(mm=new ur(Ag)),mm))()){this.value=t,this.children=e}static fromObject(t){let e=new mn(null);return er(t,(s,a)=>{e=e.set(new Qt(s),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Wt(),value:this.value};if(Vt(t))return null;{const s=Ft(t),a=this.children.get(s);if(null!==a){const c=a.findRootMostMatchingPathAndValue(hn(t),e);return null!=c?{path:Pn(new Qt(s),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Vt(t))return this;{const e=Ft(t),s=this.children.get(e);return null!==s?s.subtree(hn(t)):new mn(null)}}set(t,e){if(Vt(t))return new mn(e,this.children);{const s=Ft(t),c=(this.children.get(s)||new mn(null)).set(hn(t),e),g=this.children.insert(s,c);return new mn(this.value,g)}}remove(t){if(Vt(t))return this.children.isEmpty()?new mn(null):new mn(null,this.children);{const e=Ft(t),s=this.children.get(e);if(s){const a=s.remove(hn(t));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new mn(null):new mn(this.value,c)}return this}}get(t){if(Vt(t))return this.value;{const e=Ft(t),s=this.children.get(e);return s?s.get(hn(t)):null}}setTree(t,e){if(Vt(t))return e;{const s=Ft(t),c=(this.children.get(s)||new mn(null)).setTree(hn(t),e);let g;return g=c.isEmpty()?this.children.remove(s):this.children.insert(s,c),new mn(this.value,g)}}fold(t){return this.fold_(Wt(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((a,c)=>{s[a]=c.fold_(Pn(t,a),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,Wt(),e)}findOnPath_(t,e,s){const a=!!this.value&&s(e,this.value);if(a)return a;if(Vt(t))return null;{const c=Ft(t),g=this.children.get(c);return g?g.findOnPath_(hn(t),Pn(e,c),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Wt(),e)}foreachOnPath_(t,e,s){if(Vt(t))return this;{this.value&&s(e,this.value);const a=Ft(t),c=this.children.get(a);return c?c.foreachOnPath_(hn(t),Pn(e,a),s):new mn(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,e){this.children.inorderTraversal((s,a)=>{a.foreach_(Pn(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class Li{constructor(t){this.writeTree_=t}static empty(){return new Li(new mn(null))}}function Bd(n,t,e){if(Vt(t))return new Li(new mn(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const a=s.path;let c=s.value;const g=$r(a,t);return c=c.updateChild(g,e),new Li(n.writeTree_.set(a,c))}{const a=new mn(e),c=n.writeTree_.setTree(t,a);return new Li(c)}}}function ym(n,t,e){let s=n;return er(e,(a,c)=>{s=Bd(s,Pn(t,a),c)}),s}function Ov(n,t){if(Vt(t))return Li.empty();{const e=n.writeTree_.setTree(t,new mn(null));return new Li(e)}}function vm(n,t){return null!=Gl(n,t)}function Gl(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild($r(e.path,t)):null}function xv(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(an,(s,a)=>{t.push(new Ut(s,a))}):n.writeTree_.children.inorderTraversal((s,a)=>{null!=a.value&&t.push(new Ut(s,a.value))}),t}function Ga(n,t){if(Vt(t))return n;{const e=Gl(n,t);return new Li(null!=e?new mn(e):n.writeTree_.subtree(t))}}function Cm(n){return n.writeTree_.isEmpty()}function zl(n,t){return Em(Wt(),n.writeTree_,t)}function Em(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,F.hu)(null!==c.value,"Priority writes must always be leaf nodes"),s=c.value):e=Em(Pn(n,a),c,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(Pn(n,".priority"),s)),e}}function Of(n,t){return Lv(t,n)}function Nw(n,t){if(n.snap)return ki(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ki(Pn(n.path,e),t))return!0;return!1}function Dm(n){return n.visible}function Im(n,t,e){let s=Li.empty();for(let a=0;a<n.length;++a){const c=n[a];if(t(c)){const g=c.path;let y;if(c.snap)ki(e,g)?(y=$r(e,g),s=Bd(s,y,c.snap)):ki(g,e)&&(y=$r(g,e),s=Bd(s,Wt(),c.snap.getChild(y)));else{if(!c.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(ki(e,g))y=$r(e,g),s=ym(s,y,c.children);else if(ki(g,e))if(y=$r(g,e),Vt(y))s=ym(s,Wt(),c.children);else{const I=(0,F.DV)(c.children,Ft(y));if(I){const M=I.getChild(hn(y));s=Bd(s,Wt(),M)}}}}}return s}function xf(n,t,e,s,a){if(s||a){const c=Ga(n.visibleWrites,t);return!a&&Cm(c)?e:a||null!=e||vm(c,Wt())?zl(Im(n.allWrites,function(M){return(M.visible||a)&&(!s||!~s.indexOf(M.writeId))&&(ki(M.path,t)||ki(t,M.path))},t),e||Pt.EMPTY_NODE):null}{const c=Gl(n.visibleWrites,t);if(null!=c)return c;{const g=Ga(n.visibleWrites,t);return Cm(g)?e:null!=e||vm(g,Wt())?zl(g,e||Pt.EMPTY_NODE):null}}}function $d(n,t,e,s){return xf(n.writeTree,n.treePath,t,e,s)}function Tm(n,t){return function Ow(n,t,e){let s=Pt.EMPTY_NODE;const a=Gl(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(an,(c,g)=>{s=s.updateImmediateChild(c,g)}),s;if(e){const c=Ga(n.visibleWrites,t);return e.forEachChild(an,(g,y)=>{const I=zl(Ga(c,new Qt(g)),y);s=s.updateImmediateChild(g,I)}),xv(c).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}return xv(Ga(n.visibleWrites,t)).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}(n.writeTree,n.treePath,t)}function Fw(n,t,e,s){return function xw(n,t,e,s,a){(0,F.hu)(s||a,"Either existingEventSnap or existingServerSnap must exist");const c=Pn(t,e);if(vm(n.visibleWrites,c))return null;{const g=Ga(n.visibleWrites,c);return Cm(g)?a.getChild(e):zl(g,a.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function Hd(n,t){return function kw(n,t){return Gl(n.visibleWrites,t)}(n.writeTree,Pn(n.treePath,t))}function Sm(n,t,e){return function bm(n,t,e,s){const a=Pn(t,e),c=Gl(n.visibleWrites,a);return null!=c?c:s.isCompleteForChild(e)?zl(Ga(n.visibleWrites,a),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function kf(n,t){return Lv(Pn(n.treePath,t),n.writeTree)}function Lv(n,t){return{treePath:n,writeTree:t}}class Vv{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(s,ic(s,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(s,rc(s,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(s,qo(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(s,ic(s,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const Rm=new class Mm{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class Ff{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new Wa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sm(this.writes_,t,s)}}getChildAfterChild(t,e,s){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wl(this.viewCache_),c=function Am(n,t,e,s,a,c){return function Fv(n,t,e,s,a,c,g){let y;const I=Ga(n.visibleWrites,t),M=Gl(I,Wt());if(null!=M)y=M;else{if(null==e)return[];y=zl(I,e)}if(y=y.withIndex(g),y.isEmpty()||y.isLeafNode())return[];{const H=[],V=g.getCompare(),J=c?y.getReverseIteratorFrom(s,g):y.getIteratorFrom(s,g);let Te=J.getNext();for(;Te&&H.length<a;)0!==V(Te,s)&&H.push(Te),Te=J.getNext();return H}}(n.writeTree,n.treePath,t,e,s,a,c)}(this.writes_,a,e,1,s,t);return 0===c.length?null:c[0]}}function $v(n,t,e,s,a,c){const g=t.eventCache;if(null!=Hd(s,e))return t;{let y,I;if(Vt(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const M=Wl(t),V=Tm(s,M instanceof Pt?M:Pt.EMPTY_NODE);y=n.filter.updateFullNode(t.eventCache.getNode(),V,c)}else{const M=$d(s,Wl(t));y=n.filter.updateFullNode(t.eventCache.getNode(),M,c)}else{const M=Ft(e);if(".priority"===M){(0,F.hu)(1===Zo(e),"Can't have a priority with additional path components");const H=g.getNode();I=t.serverCache.getNode();const V=Fw(s,e,H,I);y=null!=V?n.filter.updatePriority(H,V):g.getNode()}else{const H=hn(e);let V;if(g.isCompleteForChild(M)){I=t.serverCache.getNode();const J=Fw(s,e,g.getNode(),I);V=null!=J?g.getNode().getImmediateChild(M).updateChild(H,J):g.getNode().getImmediateChild(M)}else V=Sm(s,M,t.serverCache);y=null!=V?n.filter.updateChild(g.getNode(),M,V,H,a,c):g.getNode()}}return lc(t,y,g.isFullyInitialized()||Vt(e),n.filter.filtersNodes())}}function Lf(n,t,e,s,a,c,g,y){const I=t.serverCache;let M;const H=g?n.filter:n.filter.getIndexedFilter();if(Vt(e))M=H.updateFullNode(I.getNode(),s,null);else if(H.filtersNodes()&&!I.isFiltered()){const Te=I.getNode().updateChild(e,s);M=H.updateFullNode(I.getNode(),Te,null)}else{const Te=Ft(e);if(!I.isCompleteForPath(e)&&Zo(e)>1)return t;const Le=hn(e),Mt=I.getNode().getImmediateChild(Te).updateChild(Le,s);M=".priority"===Te?H.updatePriority(I.getNode(),Mt):H.updateChild(I.getNode(),Te,Mt,Le,Rm,null)}const V=gm(t,M,I.isFullyInitialized()||Vt(e),H.filtersNodes());return $v(n,V,e,a,new Ff(a,V,c),y)}function Vf(n,t,e,s,a,c,g){const y=t.eventCache;let I,M;const H=new Ff(a,t,c);if(Vt(e))M=n.filter.updateFullNode(t.eventCache.getNode(),s,g),I=lc(t,M,!0,n.filter.filtersNodes());else{const V=Ft(e);if(".priority"===V)M=n.filter.updatePriority(t.eventCache.getNode(),s),I=lc(t,M,y.isFullyInitialized(),y.isFiltered());else{const J=hn(e),Te=y.getNode().getImmediateChild(V);let Le;if(Vt(J))Le=s;else{const _t=H.getCompleteChild(V);Le=null!=_t?".priority"===Xg(J)&&_t.getChild(gv(J)).isEmpty()?_t:_t.updateChild(J,s):Pt.EMPTY_NODE}I=Te.equals(Le)?t:lc(t,n.filter.updateChild(y.getNode(),V,Le,J,H,g),y.isFullyInitialized(),n.filter.filtersNodes())}}return I}function Uw(n,t){return n.eventCache.isCompleteForChild(t)}function jv(n,t,e){return e.foreach((s,a)=>{t=t.updateChild(s,a)}),t}function Pm(n,t,e,s,a,c,g,y){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let M,I=t;M=Vt(e)?s:new mn(null).setTree(e,s);const H=t.serverCache.getNode();return M.children.inorderTraversal((V,J)=>{if(H.hasChild(V)){const Le=jv(0,t.serverCache.getNode().getImmediateChild(V),J);I=Lf(n,I,new Qt(V),Le,a,c,g,y)}}),M.children.inorderTraversal((V,J)=>{const Te=!t.serverCache.isCompleteForChild(V)&&null===J.value;if(!H.hasChild(V)&&!Te){const _t=jv(0,t.serverCache.getNode().getImmediateChild(V),J);I=Lf(n,I,new Qt(V),_t,a,c,g,y)}}),I}class $w{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new am(s.getIndex()),c=function Cw(n){return n.loadsAllData()?new am(n.getIndex()):n.hasLimit()?new Ud(n):new Ko(n)}(s);this.processor_=function Uv(n){return{filter:n}}(c);const g=e.serverCache,y=e.eventCache,I=a.updateFullNode(Pt.EMPTY_NODE,g.getNode(),null),M=c.updateFullNode(Pt.EMPTY_NODE,y.getNode(),null),H=new Wa(I,g.isFullyInitialized(),a.filtersNodes()),V=new Wa(M,y.isFullyInitialized(),c.filtersNodes());this.viewCache_=Pf(V,H),this.eventGenerator_=new Nv(this.query_)}get query(){return this.query_}}function Ww(n,t){const e=Wl(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Vt(t)&&!e.getImmediateChild(Ft(t)).isEmpty())?e.getChild(t):null}function Wv(n){return 0===n.eventRegistrations_.length}function Gv(n,t,e){const s=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const g=c.createCancelEvent(e,a);g&&s.push(g)})}if(t){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const g=n.eventRegistrations_[c];if(g.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(g)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return s}function zv(n,t,e,s){t.type===Fi.MERGE&&null!==t.source.queryId&&((0,F.hu)(Wl(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(Nf(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function Lw(n,t,e,s,a){const c=new Vv;let g,y;if(e.type===Fi.OVERWRITE){const M=e;M.source.fromUser?g=Vf(n,t,M.path,M.snap,s,a,c):((0,F.hu)(M.source.fromServer,"Unknown source."),y=M.source.tagged||t.serverCache.isFiltered()&&!Vt(M.path),g=Lf(n,t,M.path,M.snap,s,a,y,c))}else if(e.type===Fi.MERGE){const M=e;M.source.fromUser?g=function Hv(n,t,e,s,a,c,g){let y=t;return s.foreach((I,M)=>{const H=Pn(e,I);Uw(t,Ft(H))&&(y=Vf(n,y,H,M,a,c,g))}),s.foreach((I,M)=>{const H=Pn(e,I);Uw(t,Ft(H))||(y=Vf(n,y,H,M,a,c,g))}),y}(n,t,M.path,M.children,s,a,c):((0,F.hu)(M.source.fromServer,"Unknown source."),y=M.source.tagged||t.serverCache.isFiltered(),g=Pm(n,t,M.path,M.children,s,a,y,c))}else if(e.type===Fi.ACK_USER_WRITE){const M=e;g=M.revert?function Bw(n,t,e,s,a,c){let g;if(null!=Hd(s,e))return t;{const y=new Ff(s,t,a),I=t.eventCache.getNode();let M;if(Vt(e)||".priority"===Ft(e)){let H;if(t.serverCache.isFullyInitialized())H=$d(s,Wl(t));else{const V=t.serverCache.getNode();(0,F.hu)(V instanceof Pt,"serverChildren would be complete if leaf node"),H=Tm(s,V)}M=n.filter.updateFullNode(I,H,c)}else{const H=Ft(e);let V=Sm(s,H,t.serverCache);null==V&&t.serverCache.isCompleteForChild(H)&&(V=I.getImmediateChild(H)),M=null!=V?n.filter.updateChild(I,H,V,hn(e),y,c):t.eventCache.getNode().hasChild(H)?n.filter.updateChild(I,H,Pt.EMPTY_NODE,hn(e),y,c):I,M.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=$d(s,Wl(t)),g.isLeafNode()&&(M=n.filter.updateFullNode(M,g,c)))}return g=t.serverCache.isFullyInitialized()||null!=Hd(s,Wt()),lc(t,M,g,n.filter.filtersNodes())}}(n,t,M.path,s,a,c):function lb(n,t,e,s,a,c,g){if(null!=Hd(a,e))return t;const y=t.serverCache.isFiltered(),I=t.serverCache;if(null!=s.value){if(Vt(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return Lf(n,t,e,I.getNode().getChild(e),a,c,y,g);if(Vt(e)){let M=new mn(null);return I.getNode().forEachChild(fs,(H,V)=>{M=M.set(new Qt(H),V)}),Pm(n,t,e,M,a,c,y,g)}return t}{let M=new mn(null);return s.foreach((H,V)=>{const J=Pn(e,H);I.isCompleteForPath(J)&&(M=M.set(H,I.getNode().getChild(J)))}),Pm(n,t,e,M,a,c,y,g)}}(n,t,M.path,M.affectedTree,s,a,c)}else{if(e.type!==Fi.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);g=function ub(n,t,e,s,a){const c=t.serverCache;return $v(n,gm(t,c.getNode(),c.isFullyInitialized()||Vt(e),c.isFiltered()),e,s,Rm,a)}(n,t,e.path,s,c)}const I=c.getChanges();return function Vw(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),c=Nf(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!s.getNode().equals(c)||!s.getNode().getPriority().equals(c.getPriority()))&&e.push(bv(Nf(t)))}}(t,g,I),{viewCache:g,changes:I}}(n.processor_,a,t,e,s);return function Bv(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,F.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,Zv(n,c.changes,c.viewCache.eventCache.getNode(),null)}function Zv(n,t,e,s){return function Aw(n,t,e,s){const a=[],c=[];return t.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&c.push(function Tv(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(g.childName,g.snapshotNode))}),ac(n,a,"child_removed",t,s,e),ac(n,a,"child_added",t,s,e),ac(n,a,"child_moved",c,s,e),ac(n,a,"child_changed",t,s,e),ac(n,a,"value",t,s,e),a}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let Uf,Za;class cc{constructor(){this.views=new Map}}function Bf(n,t,e,s){const a=t.source.queryId;if(null!==a){const c=n.views.get(a);return(0,F.hu)(null!=c,"SyncTree gave us an op for an invalid query."),zv(c,t,e,s)}{let c=[];for(const g of n.views.values())c=c.concat(zv(g,t,e,s));return c}}function Nm(n,t,e,s,a){const g=n.views.get(t._queryIdentifier);if(!g){let y=$d(e,a?s:null),I=!1;y?I=!0:s instanceof Pt?(y=Tm(e,s),I=!1):(y=Pt.EMPTY_NODE,I=!1);const M=Pf(new Wa(y,I,!1),new Wa(s,a,!1));return new $w(t,M)}return g}function qw(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Qo(n,t){let e=null;for(const s of n.views.values())e=e||Ww(s,t);return e}function Jv(n,t){return t._queryParams.loadsAllData()?$f(n):n.views.get(t._queryIdentifier)}function Xv(n,t){return null!=Jv(n,t)}function za(n){return null!=$f(n)}function $f(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let to=1;class eC{constructor(t){this.listenProvider_=t,this.syncPointTree_=new mn(null),this.pendingWriteTree_=function uc(){return{visibleWrites:Li.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jd(n,t,e,s,a){return function Mw(n,t,e,s,a){(0,F.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:a}),a&&(n.visibleWrites=Bd(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,a),a?hc(n,new Hl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function qa(n,t,e=!1){const s=function Rw(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function Pw(n,t){const e=n.allWrites.findIndex(y=>y.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let a=s.visible,c=!1,g=n.allWrites.length-1;for(;a&&g>=0;){const y=n.allWrites[g];y.visible&&(g>=e&&Nw(y,s.path)?a=!1:ki(s.path,y.path)&&(c=!0)),g--}return!!a&&(c?(function wm(n){n.visibleWrites=Im(n.allWrites,Dm,Wt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=Ov(n.visibleWrites,s.path):er(s.children,I=>{n.visibleWrites=Ov(n.visibleWrites,Pn(s.path,I))}),!0))}(n.pendingWriteTree_,t)){let c=new mn(null);return null!=s.snap?c=c.set(Wt(),!0):er(s.children,g=>{c=c.set(new Qt(g),!0)}),hc(n,new Rf(s.path,c,e))}return[]}function Gd(n,t,e){return hc(n,new Hl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Wf(n,t,e,s,a=!1){const c=t._path,g=n.syncPointTree_.get(c);let y=[];if(g&&("default"===t._queryIdentifier||Xv(g,t))){const I=function Zw(n,t,e,s){const a=t._queryIdentifier,c=[];let g=[];const y=za(n);if("default"===a)for(const[I,M]of n.views.entries())g=g.concat(Gv(M,e,s)),Wv(M)&&(n.views.delete(I),M.query._queryParams.loadsAllData()||c.push(M.query));else{const I=n.views.get(a);I&&(g=g.concat(Gv(I,e,s)),Wv(I)&&(n.views.delete(a),I.query._queryParams.loadsAllData()||c.push(I.query)))}return y&&!za(n)&&c.push(new(function Kv(){return(0,F.hu)(Uf,"Reference.ts has not been loaded"),Uf}())(t._repo,t._path)),{removed:c,events:g}}(g,t,e,s);(function Yv(n){return 0===n.views.size})(g)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const M=I.removed;if(y=I.events,!a){const H=-1!==M.findIndex(J=>J._queryParams.loadsAllData()),V=n.syncPointTree_.findOnPath(c,(J,Te)=>za(Te));if(H&&!V){const J=n.syncPointTree_.subtree(c);if(!J.isEmpty()){const Te=function Jw(n){return n.fold((t,e,s)=>{if(e&&za(e))return[$f(e)];{let a=[];return e&&(a=qw(e)),er(s,(c,g)=>{a=a.concat(g)}),a}})}(J);for(let Le=0;Le<Te.length;++Le){const _t=Te[Le],Mt=_t.query,On=zf(n,_t);n.listenProvider_.startListening(Kd(Mt),Zl(n,Mt),On.hashFn,On.onComplete)}}}!V&&M.length>0&&!s&&(H?n.listenProvider_.stopListening(Kd(t),null):M.forEach(J=>{const Te=n.queryToTagMap.get(zd(J));n.listenProvider_.stopListening(Kd(J),Te)}))}!function Xw(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const a=zd(s),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,M)}return y}function tC(n,t,e,s){const a=Zd(n,s);if(null!=a){const c=qd(a),g=c.path,y=c.queryId,I=$r(g,t);return xm(n,g,new Hl(fm(y),I,e))}return[]}function Gf(n,t,e,s=!1){const a=t._path;let c=null,g=!1;n.syncPointTree_.foreachOnPath(a,(J,Te)=>{const Le=$r(J,a);c=c||Qo(Te,Le),g=g||za(Te)});let I,y=n.syncPointTree_.get(a);y?(g=g||za(y),c=c||Qo(y,Wt())):(y=new cc,n.syncPointTree_=n.syncPointTree_.set(a,y)),null!=c?I=!0:(I=!1,c=Pt.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((Te,Le)=>{const _t=Qo(Le,Wt());_t&&(c=c.updateImmediateChild(Te,_t))}));const M=Xv(y,t);if(!M&&!t._queryParams.loadsAllData()){const J=zd(t);(0,F.hu)(!n.queryToTagMap.has(J),"View does not exist, but we have a tag");const Te=function sC(){return to++}();n.queryToTagMap.set(J,Te),n.tagToQueryMap.set(Te,J)}let V=function Qv(n,t,e,s,a,c){const g=Nm(n,t,s,a,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,g),function Gw(n,t){n.eventRegistrations_.push(t)}(g,e),function zw(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(an,(c,g)=>{s.push(qo(c,g))}),e.isFullyInitialized()&&s.push(bv(e.getNode())),Zv(n,s,e.getNode(),t)}(g,e)}(y,t,e,Of(n.pendingWriteTree_,a),c,I);if(!M&&!g&&!s){const J=Jv(y,t);V=V.concat(function km(n,t,e){const s=t._path,a=Zl(n,t),c=zf(n,e),g=n.listenProvider_.startListening(Kd(t),a,c.hashFn,c.onComplete),y=n.syncPointTree_.subtree(s);if(a)(0,F.hu)(!za(y.value),"If we're adding a query, it shouldn't be shadowed");else{const I=y.fold((M,H,V)=>{if(!Vt(M)&&H&&za(H))return[$f(H).query];{let J=[];return H&&(J=J.concat(qw(H).map(Te=>Te.query))),er(V,(Te,Le)=>{J=J.concat(Le)}),J}});for(let M=0;M<I.length;++M){const H=I[M];n.listenProvider_.stopListening(Kd(H),Zl(n,H))}}return g}(n,t,J))}return V}function dc(n,t,e){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(g,y)=>{const M=Qo(y,$r(g,t));if(M)return M});return xf(a,t,c,e,!0)}function hc(n,t){return iC(t,n.syncPointTree_,null,Of(n.pendingWriteTree_,Wt()))}function iC(n,t,e,s){if(Vt(n.path))return Qw(n,t,e,s);{const a=t.get(Wt());null==e&&null!=a&&(e=Qo(a,Wt()));let c=[];const g=Ft(n.path),y=n.operationForChild(g),I=t.children.get(g);if(I&&y){const M=e?e.getImmediateChild(g):null,H=kf(s,g);c=c.concat(iC(y,I,M,H))}return a&&(c=c.concat(Bf(a,n,s,e))),c}}function Qw(n,t,e,s){const a=t.get(Wt());null==e&&null!=a&&(e=Qo(a,Wt()));let c=[];return t.children.inorderTraversal((g,y)=>{const I=e?e.getImmediateChild(g):null,M=kf(s,g),H=n.operationForChild(g);H&&(c=c.concat(Qw(H,y,I,M)))}),a&&(c=c.concat(Bf(a,n,s,e))),c}function zf(n,t){const e=t.query,s=Zl(n,e);return{hashFn:()=>(function Hw(n){return n.viewCache_.serverCache.getNode()}(t)||Pt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return s?function jf(n,t,e){const s=Zd(n,e);if(s){const a=qd(s),c=a.path,g=a.queryId,y=$r(c,t);return xm(n,c,new Yo(fm(g),y))}return[]}(n,e._path,s):function Hf(n,t){return hc(n,new Yo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function Xy(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(a,e);return Wf(n,e,null,c)}}}}function Zl(n,t){const e=zd(t);return n.queryToTagMap.get(e)}function zd(n){return n._path.toString()+"$"+n._queryIdentifier}function Zd(n,t){return n.tagToQueryMap.get(t)}function qd(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Qt(n.substr(0,t))}}function xm(n,t,e){const s=n.syncPointTree_.get(t);return(0,F.hu)(s,"Missing sync point for query tag that we're tracking"),Bf(s,e,Of(n.pendingWriteTree_,t),null)}function Kd(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Om(){return(0,F.hu)(Za,"Reference.ts has not been loaded"),Za}())(n._repo,n._path):n}class Zf{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Zf(e)}node(){return this.node_}}class Fm{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Pn(this.path_,t);return new Fm(this.syncTree_,e)}node(){return dc(this.syncTree_,this.path_)}}const Lm=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?eD(n[".sv"],t,e):"object"==typeof n[".sv"]?aC(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},eD=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},aC=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,F.hu)(!1,"Unexpected increment value: "+s);const a=t.node();if((0,F.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const g=a.getValue();return"number"!=typeof g?s:g+s},Vm=function(n,t,e,s){return qf(t,new Fm(e,n),s)},Um=function(n,t,e){return qf(n,new Zf(t),e)};function qf(n,t,e){const s=n.getPriority().val(),a=Lm(s,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const g=n,y=Lm(g.getValue(),t,e);return y!==g.getValue()||a!==g.getPriority().val()?new Xu(y,Bn(a)):n}{const g=n;return c=g,a!==g.getPriority().val()&&(c=c.updatePriority(new Xu(a))),g.forEachChild(an,(y,I)=>{const M=qf(I,t.getImmediateChild(y),e);M!==I&&(c=c.updateImmediateChild(y,M))}),c}}class Bm{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function fr(n,t){let e=t instanceof Qt?t:new Qt(t),s=n,a=Ft(e);for(;null!==a;){const c=(0,F.DV)(s.node.children,a)||{children:{},childCount:0};s=new Bm(a,s,c),e=hn(e),a=Ft(e)}return s}function Vi(n){return n.node.value}function $m(n,t){n.node.value=t,Wm(n)}function lC(n){return n.node.childCount>0}function Hm(n,t){er(n.node.children,(e,s)=>{t(new Bm(e,n,s))})}function jm(n,t,e,s){e&&!s&&t(n),Hm(n,a=>{jm(a,t,!0,s)}),e&&s&&t(n)}function Jo(n){return new Qt(null===n.parent?n.name:Jo(n.parent)+"/"+n.name)}function Wm(n){null!==n.parent&&function Gm(n,t,e){const s=function cb(n){return void 0===Vi(n)&&!lC(n)}(e),a=(0,F.r3)(n.node.children,t);s&&a?(delete n.node.children[t],n.node.childCount--,Wm(n)):!s&&!a&&(n.node.children[t]=e.node,n.node.childCount++,Wm(n))}(n.parent,n.name,n)}const tD=/[\[\].#$\/\u0000-\u001F\u007F]/,cC=/[\[\].#$\u0000-\u001F\u007F]/,zm=10485760,Kf=function(n){return"string"==typeof n&&0!==n.length&&!tD.test(n)},dC=function(n){return"string"==typeof n&&0!==n.length&&!cC.test(n)},fc=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!yf(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},gs=function(n,t,e,s){s&&void 0===t||Ka((0,F.gK)(n,"value"),t,e)},Ka=function(n,t,e){const s=e instanceof Qt?new dw(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Ul(s));if("function"==typeof t)throw new Error(n+"contains a function "+Ul(s)+" with contents = "+t.toString());if(yf(t))throw new Error(n+"contains "+t.toString()+" "+Ul(s));if("string"==typeof t&&t.length>zm/3&&(0,F.ug)(t)>zm)throw new Error(n+"contains a string greater than "+zm+" utf8 bytes "+Ul(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(er(t,(g,y)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(c=!0,!Kf(g)))throw new Error(n+" contains an invalid key ("+g+") "+Ul(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function hw(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),mv(n)})(s,g),Ka(n,y,s),function fw(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),a&&c)throw new Error(n+' contains ".value" child '+Ul(s)+" in addition to actual children.")}},nD=function(n,t,e,s){if(s&&void 0===t)return;const a=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];er(t,(g,y)=>{const I=new Qt(g);if(Ka(a,y,Pn(e,I)),".priority"===Xg(I)&&!fc(y))throw new Error(a+"contains an invalid value for '"+I.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(I)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const c=Nd(s);for(let g=0;g<c.length;g++)if((".priority"!==c[g]||g!==c.length-1)&&!Kf(c[g]))throw new Error(n+"contains an invalid key ("+c[g]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(cw);let a=null;for(e=0;e<t.length;e++){if(s=t[e],null!==a&&ki(a,s))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}}(a,c)},Yf=function(n,t,e){if(!e||void 0!==t){if(yf(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fc(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Yd=function(n,t,e,s){if(!(s&&void 0===e||Kf(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pc=function(n,t,e,s){if(!(s&&void 0===e||dC(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ui=function(n,t){if(".info"===Ft(t))throw new Error(n+" failed = Can't modify data under /.info/")},Km=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Kf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dC(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ym{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qm(n,t){let e=null;for(let s=0;s<t.length;s++){const a=t[s],c=a.getPath();null!==e&&!em(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&n.eventLists_.push(e)}function hC(n,t,e){Qm(n,e),fC(n,s=>em(s,t))}function Bi(n,t,e){Qm(n,e),fC(n,s=>ki(s,t)||ki(t,s))}function fC(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const a=n.eventLists_[s];a&&(t(a.path)?(rD(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function rD(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();Ua&&ar("event: "+e.toString()),$a(s)}}}const pC="repo_interrupt";class mC{constructor(t,e,s,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ym,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cm(),this.transactionQueueTree_=new Bm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Jm(n){const e=n.infoData_.getNode(new Qt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function mc(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Jm(n)})}function _C(n,t,e,s,a){n.dataUpdateCount++;const c=new Qt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let g=[];if(a)if(s){const I=(0,F.UI)(e,M=>Bn(M));g=function nC(n,t,e,s){const a=Zd(n,s);if(a){const c=qd(a),g=c.path,y=c.queryId,I=$r(g,t),M=mn.fromObject(e);return xm(n,g,new jl(fm(y),I,M))}return[]}(n.serverSyncTree_,c,I,a)}else{const I=Bn(e);g=tC(n.serverSyncTree_,c,I,a)}else if(s){const I=(0,F.UI)(e,M=>Bn(M));g=function Yw(n,t,e){const s=mn.fromObject(e);return hc(n,new jl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,c,I)}else{const I=Bn(e);g=Gd(n.serverSyncTree_,c,I)}let y=c;g.length>0&&(y=Xo(n,c)),Bi(n.eventQueue_,y,g)}function yC(n,t){Xm(n,"connected",t),!1===t&&function sD(n){Jd(n,"onDisconnectEvents");const t=mc(n),e=cm();dm(n.onDisconnect_,Wt(),(a,c)=>{const g=Vm(a,c,n.serverSyncTree_,t);$l(e,a,g)});let s=[];dm(e,Wt(),(a,c)=>{s=s.concat(Gd(n.serverSyncTree_,a,c));const g=n_(n,a);Xo(n,g)}),n.onDisconnect_=cm(),Bi(n.eventQueue_,Wt(),s)}(n)}function Xm(n,t,e){const s=new Qt("/.info/"+t),a=Bn(e);n.infoData_.updateSnapshot(s,a);const c=Gd(n.infoSyncTree_,s,a);Bi(n.eventQueue_,s,c)}function Qd(n){return n.nextWriteId_++}function Qf(n,t,e,s,a){Jd(n,"set",{path:t.toString(),value:e,priority:s});const c=mc(n),g=Bn(e,s),y=dc(n.serverSyncTree_,t),I=Um(g,y,c),M=Qd(n),H=jd(n.serverSyncTree_,t,I,M,!0);Qm(n.eventQueue_,H),n.server_.put(t.toString(),g.val(!0),(J,Te)=>{const Le="ok"===J;Le||Dr("set at "+t+" failed: "+J);const _t=qa(n.serverSyncTree_,M,!Le);Bi(n.eventQueue_,t,_t),ql(0,a,J,Te)});const V=n_(n,t);Xo(n,V),Bi(n.eventQueue_,V,[])}function oD(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,a)=>{"ok"===s&&sc(n.onDisconnect_,t),ql(0,e,s,a)})}function aD(n,t,e,s){const a=Bn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(c,g)=>{"ok"===c&&$l(n.onDisconnect_,t,a),ql(0,s,c,g)})}function DC(n,t,e){let s;s=".info"===Ft(t._path)?Wf(n.infoSyncTree_,t,e):Wf(n.serverSyncTree_,t,e),hC(n.eventQueue_,t._path,s)}function lD(n){n.persistentConnection_&&n.persistentConnection_.interrupt(pC)}function Jd(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ar(e,...t)}function ql(n,t,e,s){t&&$a(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let c=a;s&&(c+=": "+s);const g=new Error(c);g.code=a,t(g)}})}function _c(n,t,e){return dc(n.serverSyncTree_,t,e)||Pt.EMPTY_NODE}function e_(n,t=n.transactionQueueTree_){if(t||Xd(n,t),Vi(t)){const e=uD(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function IC(n,t,e){const s=e.map(M=>M.currentWriteId),a=_c(n,t,s);let c=a;const g=a.hash();for(let M=0;M<e.length;M++){const H=e[M];(0,F.hu)(0===H.status,"tryToSendTransactionQueue_: items in queue should all be run."),H.status=1,H.retryCount++;const V=$r(t,H.path);c=c.updateChild(V,H.currentOutputSnapshotRaw)}const y=c.val(!0),I=t;n.server_.put(I.toString(),y,M=>{Jd(n,"transaction put response",{path:I.toString(),status:M});let H=[];if("ok"===M){const V=[];for(let J=0;J<e.length;J++)e[J].status=2,H=H.concat(qa(n.serverSyncTree_,e[J].currentWriteId)),e[J].onComplete&&V.push(()=>e[J].onComplete(null,!0,e[J].currentOutputSnapshotResolved)),e[J].unwatcher();Xd(n,fr(n.transactionQueueTree_,t)),e_(n,n.transactionQueueTree_),Bi(n.eventQueue_,t,H);for(let J=0;J<V.length;J++)$a(V[J])}else{if("datastale"===M)for(let V=0;V<e.length;V++)e[V].status=3===e[V].status?4:0;else{Dr("transaction at "+I.toString()+" failed: "+M);for(let V=0;V<e.length;V++)e[V].status=4,e[V].abortReason=M}Xo(n,t)}},g)}(n,Jo(t),e)}else lC(t)&&Hm(t,e=>{e_(n,e)})}function Xo(n,t){const e=t_(n,t),s=Jo(e);return function bC(n,t,e){if(0===t.length)return;const s=[];let a=[];const g=t.filter(y=>0===y.status).map(y=>y.currentWriteId);for(let y=0;y<t.length;y++){const I=t[y],M=$r(e,I.path);let V,H=!1;if((0,F.hu)(null!==M,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)H=!0,V=I.abortReason,a=a.concat(qa(n.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)H=!0,V="maxretry",a=a.concat(qa(n.serverSyncTree_,I.currentWriteId,!0));else{const J=_c(n,I.path,g);I.currentInputSnapshot=J;const Te=t[y].update(J.val());if(void 0!==Te){Ka("transaction failed: Data returned ",Te,I.path);let Le=Bn(Te);"object"==typeof Te&&null!=Te&&(0,F.r3)(Te,".priority")||(Le=Le.updatePriority(J.getPriority()));const Mt=I.currentWriteId,On=mc(n),_n=Um(Le,J,On);I.currentOutputSnapshotRaw=Le,I.currentOutputSnapshotResolved=_n,I.currentWriteId=Qd(n),g.splice(g.indexOf(Mt),1),a=a.concat(jd(n.serverSyncTree_,I.path,_n,I.currentWriteId,I.applyLocally)),a=a.concat(qa(n.serverSyncTree_,Mt,!0))}else H=!0,V="nodata",a=a.concat(qa(n.serverSyncTree_,I.currentWriteId,!0))}Bi(n.eventQueue_,e,a),a=[],H&&(t[y].status=2,setTimeout(t[y].unwatcher,Math.floor(0)),t[y].onComplete&&s.push("nodata"===V?()=>t[y].onComplete(null,!1,t[y].currentInputSnapshot):()=>t[y].onComplete(new Error(V),!1,null)))}Xd(n,n.transactionQueueTree_);for(let y=0;y<s.length;y++)$a(s[y]);e_(n,n.transactionQueueTree_)}(n,uD(n,e),s),s}function t_(n,t){let e,s=n.transactionQueueTree_;for(e=Ft(t);null!==e&&void 0===Vi(s);)s=fr(s,e),e=Ft(t=hn(t));return s}function uD(n,t){const e=[];return Jf(n,t,e),e.sort((s,a)=>s.order-a.order),e}function Jf(n,t,e){const s=Vi(t);if(s)for(let a=0;a<s.length;a++)e.push(s[a]);Hm(t,a=>{Jf(n,a,e)})}function Xd(n,t){const e=Vi(t);if(e){let s=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[s]=e[a],s++);e.length=s,$m(t,e.length>0?e:void 0)}Hm(t,s=>{Xd(n,s)})}function n_(n,t){const e=Jo(t_(n,t)),s=fr(n.transactionQueueTree_,t);return function uC(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,a=>{Xf(n,a)}),Xf(n,s),jm(s,a=>{Xf(n,a)}),e}function Xf(n,t){const e=Vi(t);if(e){const s=[];let a=[],c=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,F.hu)(c===g-1,"All SENT items should be at beginning of queue."),c=g,e[g].status=3,e[g].abortReason="set"):((0,F.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),a=a.concat(qa(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&s.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===c?$m(t,void 0):e.length=c+1,Bi(n.eventQueue_,Jo(t),a);for(let g=0;g<s.length;g++)$a(s[g])}}const r_=function(n,t){const e=cD(n),s=e.namespace;return"firebase.com"===e.domain&&ds(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&ds("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Dr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ef(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new Qt(e.pathString)}},cD=function(n){let t="",e="",s="",a="",c="",g=!0,y="https",I=443;if("string"==typeof n){let M=n.indexOf("//");M>=0&&(y=n.substring(0,M-1),n=n.substring(M+2));let H=n.indexOf("/");-1===H&&(H=n.length);let V=n.indexOf("?");-1===V&&(V=n.length),t=n.substring(0,Math.min(H,V)),H<V&&(a=function gb(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let a=e[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(H,V)));const J=function mb(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Dr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,V)));M=t.indexOf(":"),M>=0?(g="https"===y||"wss"===y,I=parseInt(t.substring(M+1),10)):M=t.length;const Te=t.slice(0,M);if("localhost"===Te.toLowerCase())e="localhost";else if(Te.split(".").length<=2)e=Te;else{const Le=t.indexOf(".");s=t.substring(0,Le).toLowerCase(),e=t.substring(Le+1),c=s}"ns"in J&&(c=J.ns)}return{host:t,port:I,domain:e,subdomain:s,secure:g,scheme:y,pathString:a,namespace:c}},eh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dD=function(){let n=0;const t=[];return function(e){const s=e===n;let a;n=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=eh.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let g=c.join("");if(s){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)g+=eh.charAt(t[a]);return(0,F.hu)(20===g.length,"nextPushId: Length should be 20."),g}}();class hD{constructor(t,e,s,a){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class fD{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class TC{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class AC{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return oD(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ui("OnDisconnect.remove",this._path);const t=new F.BH;return aD(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ui("OnDisconnect.set",this._path),gs("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return aD(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ui("OnDisconnect.setWithPriority",this._path),gs("OnDisconnect.setWithPriority",t,this._path,!1),Yf("OnDisconnect.setWithPriority",e,!1);const s=new F.BH;return function wC(n,t,e,s,a){const c=Bn(e,s);n.server_.onDisconnectPut(t.toString(),c.val(!0),(g,y)=>{"ok"===g&&$l(n.onDisconnect_,t,c),ql(0,a,g,y)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){Ui("OnDisconnect.update",this._path),nD("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function db(n,t,e,s){if((0,F.xb)(e))return ar("onDisconnect().update() called with empty data.  Don't do anything."),void ql(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,c)=>{"ok"===a&&er(e,(g,y)=>{const I=Bn(y);$l(n.onDisconnect_,Pn(t,g),I)}),ql(0,s,a,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ni{constructor(t,e,s,a){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=a}get key(){return Vt(this._path)?null:Xg(this._path)}get ref(){return new yi(this._repo,this._path)}get _queryIdentifier(){const t=ww(this._queryParams),e=Ku(t);return"{}"===e?"default":e}get _queryObject(){return ww(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof ni))return!1;const e=this._repo===t._repo,s=em(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function uw(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function ep(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Kl(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===fs){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ba)throw new Error(s);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==Ys)throw new Error(s);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===an){if(null!=t&&!fc(t)||null!=e&&!fc(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof Bl||n.getIndex()===om,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function tp(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class yi extends ni{constructor(t,e){super(t,e,new Tf,!1)}get parent(){const t=gv(this._path);return null===t?null:new yi(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Ya{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Qt(t),s=Yl(this.ref,t);return new Ya(this._node.getChild(e),s,an)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,a)=>t(new Ya(a,Yl(this.ref,s),an)))}hasChild(t){const e=new Qt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function SC(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?Yl(n._root,t):n._root}function $i(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=r_(t,n._repo.repoInfo_.nodeAdmin);Km("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&ds("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),SC(n,e.path.toString())}function Yl(n,t){return null===Ft((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),pc("child","path",e,!1)):pc("child","path",t,!1),new yi(n._repo,Pn(n._path,t));var e}function vi(n){return Ui("remove",n._path),np(n,null)}function np(n,t){n=(0,F.m9)(n),Ui("set",n._path),gs("set",t,n._path,!1);const e=new F.BH;return Qf(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function RC(n,t){nD("update",t,n._path,!1);const e=new F.BH;return function EC(n,t,e,s){Jd(n,"update",{path:t.toString(),value:e});let a=!0;const c=mc(n),g={};if(er(e,(y,I)=>{a=!1,g[y]=Vm(Pn(t,y),Bn(I),n.serverSyncTree_,c)}),a)ar("update() called with empty data.  Don't do anything."),ql(0,s,"ok",void 0);else{const y=Qd(n),I=function Wd(n,t,e,s){!function kv(n,t,e,s){(0,F.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=ym(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const a=mn.fromObject(e);return hc(n,new jl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,g,y);Qm(n.eventQueue_,I),n.server_.merge(t.toString(),e,(M,H)=>{const V="ok"===M;V||Dr("update at "+t+" failed: "+M);const J=qa(n.serverSyncTree_,y,!V),Te=J.length>0?Xo(n,t):t;Bi(n.eventQueue_,Te,J),ql(0,s,M,H)}),er(e,M=>{const H=n_(n,Pn(t,M));Xo(n,H)}),Bi(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function s_(n){n=(0,F.m9)(n);const t=new TC(()=>{}),e=new yc(t);return function CC(n,t,e){const s=function rC(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(M,H)=>{const V=$r(M,e);s=s||Qo(H,V)});let a=n.syncPointTree_.get(e);a?s=s||Qo(a,Wt()):(a=new cc,n.syncPointTree_=n.syncPointTree_.set(e,a));const c=null!=s,g=c?new Wa(s,!0,!1):null;return function jw(n){return Nf(n.viewCache_)}(Nm(a,t,Of(n.pendingWriteTree_,t._path),c?g.getNode():Pt.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=s?Promise.resolve(s):n.server_.get(t).then(a=>{const c=Bn(a).withIndex(t._queryParams.getIndex());let g;if(Gf(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())g=Gd(n.serverSyncTree_,t._path,c);else{const y=Zl(n.serverSyncTree_,t);g=tC(n.serverSyncTree_,t._path,c,y)}return Bi(n.eventQueue_,t._path,g),Wf(n.serverSyncTree_,t,e,null,!0),c},a=>(Jd(n,"get for query "+(0,F.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(s=>new Ya(s,new yi(n._repo,n._path),n._queryParams.getIndex()))}class yc{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new hD("value",this,new Ya(t.snapshotNode,new yi(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new fD(this,t,e):null}matches(t){return t instanceof yc&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class th{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new fD(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const s=Yl(new yi(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new hD(t.type,this,new Ya(t.snapshotNode,s,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof th&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function nh(n,t,e,s,a){let c;if("object"==typeof s&&(c=void 0,a=s),"function"==typeof s&&(c=s),a&&a.onlyOnce){const I=e,M=(H,V)=>{DC(n._repo,n,y),I(H,V)};M.userCallback=e.userCallback,M.context=e.context,e=M}const g=new TC(e,c||void 0),y="value"===t?new yc(g):new th(t,g);return function hb(n,t,e){let s;s=".info"===Ft(t._path)?Gf(n.infoSyncTree_,t,e):Gf(n.serverSyncTree_,t,e),hC(n.eventQueue_,t._path,s)}(n._repo,n,y),()=>DC(n._repo,n,y)}function rh(n,t,e,s){return nh(n,"value",t,e,s)}function o_(n,t,e,s){return nh(n,"child_added",t,e,s)}function PC(n,t,e,s){return nh(n,"child_changed",t,e,s)}function a_(n,t,e,s){return nh(n,"child_moved",t,e,s)}function NC(n,t,e,s){return nh(n,"child_removed",t,e,s)}function rp(n,t,e){let s=null;const a=e?new TC(e):null;"value"===t?s=new yc(a):t&&(s=new th(t,a)),DC(n._repo,n,s)}class pr{}class l_ extends pr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){gs("endAt",this._value,t._path,!0);const e=lm(t._queryParams,this._value,this._key);if(tp(e),Kl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ni(t._repo,t._path,e,t._orderByCalled)}}class ea extends pr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){gs("endBefore",this._value,t._path,!1);const e=function Mv(n,t,e){let s;return s=lm(n,t,n.index_===fs||e?e:Ba),s.endBeforeSet_=!0,s}(t._queryParams,this._value,this._key);if(tp(e),Kl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ni(t._repo,t._path,e,t._orderByCalled)}}class _D extends pr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){gs("startAt",this._value,t._path,!0);const e=Af(t._queryParams,this._value,this._key);if(tp(e),Kl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ni(t._repo,t._path,e,t._orderByCalled)}}class vD extends pr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){gs("startAfter",this._value,t._path,!1);const e=function Sv(n,t,e){let s;return s=Af(n,t,n.index_===fs||e?e:Ys),s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(tp(e),Kl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ni(t._repo,t._path,e,t._orderByCalled)}}class ED extends pr{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ni(t._repo,t._path,function Ew(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class _b extends pr{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ni(t._repo,t._path,function Av(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class wD extends pr{constructor(t){super(),this._path=t}_apply(t){ep(t,"orderByChild");const e=new Qt(this._path);if(Vt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new Bl(e),a=Sf(t._queryParams,s);return Kl(a),new ni(t._repo,t._path,a,!0)}}class yb extends pr{_apply(t){ep(t,"orderByKey");const e=Sf(t._queryParams,fs);return Kl(e),new ni(t._repo,t._path,e,!0)}}class FC extends pr{_apply(t){ep(t,"orderByPriority");const e=Sf(t._queryParams,an);return Kl(e),new ni(t._repo,t._path,e,!0)}}class VC extends pr{_apply(t){ep(t,"orderByValue");const e=Sf(t._queryParams,om);return Kl(e),new ni(t._repo,t._path,e,!0)}}class BC extends pr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(gs("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new l_(this._value,this._key)._apply(new _D(this._value,this._key)._apply(t))}}function ri(n,...t){let e=(0,F.m9)(n);for(const s of t)e=s._apply(e);return e}(function qv(n){(0,F.hu)(!Uf,"__referenceConstructor has already been defined"),Uf=n})(yi),function Kw(n){(0,F.hu)(!Za,"__referenceConstructor has already been defined"),Za=n}(yi);const d_={};function jC(n,t,e,s,a){let c=s||n.options.databaseURL;void 0===c&&(n.options.projectId||ds("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ar("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let I,M,g=r_(c,a),y=g.repoInfo;typeof process<"u"&&process.env&&(M=process.env.FIREBASE_DATABASE_EMULATOR_HOST),M?(I=!0,c=`http://${M}?ns=${y.namespace}`,g=r_(c,a),y=g.repoInfo):I=!g.repoInfo.secure;const H=a&&I?new Yu(Yu.OWNER):new iv(n.name,n.options,t);Km("Invalid Firebase Database URL",g),Vt(g.path)||ds("Database URL must point to the root of a Firebase Database (not including a child path).");const V=function vb(n,t,e,s){let a=d_[t.name];a||(a={},d_[t.name]=a);let c=a[n.toURLString()];return c&&ds("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new mC(n,false,e,s),a[n.toURLString()]=c,c}(y,n,H,new rv(n.name,e));return new WC(V,n)}class WC{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function iD(n,t,e){if(n.stats_=wf(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new um(n.repoInfo_,(s,a,c,g)=>{_C(n,s,a,c,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>yC(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new ja(n.repoInfo_,t,(s,a,c,g)=>{_C(n,s,a,c,g)},s=>{yC(n,s)},s=>{!function vC(n,t){er(t,(e,s)=>{Xm(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function Y0(n,t){const e=n.toString();return Ug[e]||(Ug[e]=t()),Ug[e]}(n.repoInfo_,()=>new Tw(n.stats_,n.server_)),n.infoData_=new ab,n.infoSyncTree_=new eC({startListening:(s,a,c,g)=>{let y=[];const I=n.infoData_.getNode(s._path);return I.isEmpty()||(y=Gd(n.infoSyncTree_,s._path,I),setTimeout(()=>{g("ok")},0)),y},stopListening:()=>{}}),Xm(n,"connected",!1),n.serverSyncTree_=new eC({startListening:(s,a,c,g)=>(n.server_.listen(s,c,a,(y,I)=>{const M=g(y,I);Bi(n.eventQueue_,s._path,M)}),[]),stopListening:(s,a)=>{n.server_.unlisten(s,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yi(this._repo,Wt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function DD(n,t){const e=d_[t];(!e||e[n.key]!==n)&&ds(`Database ${t}(${n.repoInfo_}) has already been deleted.`),lD(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ds("Cannot call "+t+" on a deleted database.")}}function GC(){zg.IS_TRANSPORT_INITIALIZED&&Dr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ID(){GC(),Ha.forceDisallow()}function bD(){GC(),Vl.forceDisallow(),Ha.forceAllow()}function Eb(n=(0,$o.getApp)(),t){const e=(0,$o._getProvider)(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const s=(0,F.P0)("database");s&&TD(e,...s)}return e}function TD(n,t,e,s={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ds("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let c;if(a.repoInfo_.nodeAdmin)s.mockUserToken&&ds('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Yu(Yu.OWNER);else if(s.mockUserToken){const g="string"==typeof s.mockUserToken?s.mockUserToken:(0,F.Sg)(s.mockUserToken,n.app.options.projectId);c=new Yu(g)}!function HC(n,t,e,s){n.repoInfo_=new Ef(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(a,t,e,c)}function Ib(n,t){Tg(n,t)}const sp={".sv":"timestamp"};class zC{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ja.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},ja.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function AD(n){xl($o.SDK_VERSION),(0,$o._registerComponent)(new Oi.wA("database",(t,{instanceIdentifier:e})=>jC(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,$o.registerVersion)(wd,"0.14.1",n),(0,$o.registerVersion)(wd,"0.14.1","esm2017")}();class ta{constructor(t){return t}}const qC="database",vc=new d.OlP("angularfire2.database-instances");function Tb(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new ta(s)}}const Ab={provide:class f_{constructor(){return(0,Yt.vb)(qC)}},deps:[[new d.FiY,vc]]},Sb={provide:ta,useFactory:function bb(n,t){const e=(0,Yt.JM)(qC,n,t);return e&&new ta(e)},deps:[[new d.FiY,vc],Fu]};let YC=(()=>{class n{constructor(){(0,Bo.KN)("angularfire",Yt.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Sb,Ab]}),n})();function PD(n,...t){return{ngModule:YC,providers:[{provide:vc,useFactory:Tb(n),multi:!0,deps:[d.R0b,d.zs3,Yt.HU,Qh,[new d.FiY,By],[new d.FiY,Hu],...t]}]}}const LD=(0,Yt.u3)(Eb,!0),VD=(0,Yt.u3)(rh,!0),u=(0,Yt.u3)(SC,!0),m=(0,Yt.u3)(vi,!0),b=(0,Yt.u3)(np,!0),ye=(0,Yt.u3)(RC,!0);var xe=O(4986),Be=O(6451),et=O(3099);function Re(n,t){return n===t}var Dt=O(5032),Ir=O(2011),p_=(O(9568),O(3942));const __=new pd.Yd("@firebase/database-compat"),op=function(n){__.warn("FIREBASE WARNING: "+n)};class C_{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const a=this._delegate.setWithPriority(t,e);return s&&a.then(()=>s(null),c=>s(c)),a}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,op("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),a=>e(a)),s}}class LA{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Cc{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),pc("DataSnapshot.child","path",t,!1),new Cc(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),pc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Cc(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new ms(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Hr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,a){var c;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const g=Hr.getCancelAndContextArgs_("Query.on",s,a),y=(M,H)=>{e.call(g.context,new Cc(this.database,M),H)};y.userCallback=e,y.context=g.context;const I=null===(c=g.cancel)||void 0===c?void 0:c.bind(g.context);switch(t){case"value":return rh(this._delegate,y,I),e;case"child_added":return o_(this._delegate,y,I),e;case"child_removed":return NC(this._delegate,y,I),e;case"child_changed":return PC(this._delegate,y,I),e;case"child_moved":return a_(this._delegate,y,I),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",s,!0),e){const a=()=>{};a.userCallback=e,a.context=s,rp(this._delegate,t,a)}else rp(this._delegate,t)}get(){return s_(this._delegate).then(t=>new Cc(this.database,t))}once(t,e,s,a){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const c=Hr.getCancelAndContextArgs_("Query.once",s,a),g=new F.BH,y=(M,H)=>{const V=new Cc(this.database,M);e&&e.call(c.context,V,H),g.resolve(V)};y.userCallback=e,y.context=c.context;const I=M=>{c.cancel&&c.cancel.call(c.context,M),g.reject(M)};switch(t){case"value":rh(this._delegate,y,I,{onlyOnce:!0});break;case"child_added":o_(this._delegate,y,I,{onlyOnce:!0});break;case"child_removed":NC(this._delegate,y,I,{onlyOnce:!0});break;case"child_changed":PC(this._delegate,y,I,{onlyOnce:!0});break;case"child_moved":a_(this._delegate,y,I,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new Hr(this.database,ri(this._delegate,function OC(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ED(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new Hr(this.database,ri(this._delegate,function xC(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _b(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new Hr(this.database,ri(this._delegate,function kC(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return pc("orderByChild","path",n,!1),new wD(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new Hr(this.database,ri(this._delegate,function c_(){return new yb}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new Hr(this.database,ri(this._delegate,function LC(){return new FC}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new Hr(this.database,ri(this._delegate,function UC(){return new VC}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new Hr(this.database,ri(this._delegate,function yD(n=null,t){return Yd("startAt","key",t,!0),new _D(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new Hr(this.database,ri(this._delegate,function CD(n,t){return Yd("startAfter","key",t,!0),new vD(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new Hr(this.database,ri(this._delegate,function u_(n,t){return Yd("endAt","key",t,!0),new l_(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new Hr(this.database,ri(this._delegate,function mD(n,t){return Yd("endBefore","key",t,!0),new ea(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new Hr(this.database,ri(this._delegate,function ip(n,t){return Yd("equalTo","key",t,!0),new BC(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Hr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const a={cancel:void 0,context:void 0};if(e&&s)a.cancel=e,(0,F.Wj)(t,"cancel",a.cancel,!0),a.context=s,(0,F.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new ms(this.database,new yi(this._delegate._repo,this._delegate._path))}}class ms extends Hr{constructor(t,e){super(t,new ni(e._repo,e._path,new Tf,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ms(this.database,Yl(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ms(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new ms(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const s=np(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,op("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ui("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const s=RC(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",s,!0);const a=function gD(n,t,e){if(Ui("setWithPriority",n._path),gs("setWithPriority",t,n._path,!1),Yf("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new F.BH;return Qf(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&a.then(()=>s(null),c=>s(c)),a}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=vi(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const a=function Ql(n,t,e){var s;if(n=(0,F.m9)(n),Ui("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(s=e?.applyLocally)||void 0===s||s,c=new F.BH,y=rh(n,()=>{});return function pb(n,t,e,s,a,c){Jd(n,"transaction on "+t);const g={path:t,update:e,onComplete:s,status:null,order:Fl(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},y=_c(n,t,void 0);g.currentInputSnapshot=y;const I=g.update(y.val());if(void 0===I)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{Ka("transaction failed: Data returned ",I,g.path),g.status=0;const M=fr(n.transactionQueueTree_,t),H=Vi(M)||[];let V;H.push(g),$m(M,H),"object"==typeof I&&null!==I&&(0,F.r3)(I,".priority")?(V=(0,F.DV)(I,".priority"),(0,F.hu)(fc(V),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):V=(dc(n.serverSyncTree_,t)||Pt.EMPTY_NODE).getPriority().val();const J=mc(n),Te=Bn(I,V),Le=Um(Te,y,J);g.currentOutputSnapshotRaw=Te,g.currentOutputSnapshotResolved=Le,g.currentWriteId=Qd(n);const _t=jd(n.serverSyncTree_,t,Le,g.currentWriteId,g.applyLocally);Bi(n.eventQueue_,t,_t),e_(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(I,M,H)=>{let V=null;I?c.reject(I):(V=new Ya(H,new yi(n._repo,n._path),an),c.resolve(new zC(M,V)))},y,a),c.promise}(this._delegate,t,{applyLocally:s}).then(c=>new LA(c.committed,new Cc(this.database,c.snapshot)));return e&&a.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),a}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const s=function i_(n,t){n=(0,F.m9)(n),Ui("setPriority",n._path),Yf("setPriority",t,!1);const e=new F.BH;return Qf(n._repo,Pn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const s=function pD(n,t){n=(0,F.m9)(n),Ui("push",n._path),gs("push",t,n._path,!0);const e=Jm(n._repo),s=dD(e),a=Yl(n,s),c=Yl(n,s);let g;return g=null!=t?np(c,t).then(()=>c):Promise.resolve(c),a.then=g.then.bind(g),a.catch=g.then.bind(g,void 0),a}(this._delegate,t),a=s.then(g=>new ms(this.database,g));e&&a.then(()=>e(null),g=>e(g));const c=new ms(this.database,s);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return Ui("Reference.onDisconnect",this._delegate._path),new C_(new AC(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class E_{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ID,forceLongPolling:bD}}useEmulator(t,e,s={}){TD(this._delegate,t,e,s)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof ms){const e=$i(this._delegate,t.toString());return new ms(this,e)}{const e=SC(this._delegate,t);return new ms(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const s=$i(this._delegate,t);return new ms(this,s)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function wb(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),lD(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function Db(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function fb(n){n.persistentConnection_&&n.persistentConnection_.resume(pC)}(n._repo)}(this._delegate)}}E_.ServerValue={TIMESTAMP:function SD(){return sp}(),increment:n=>function MD(n){return{".sv":{increment:n}}}(n)};var UA=Object.freeze({__proto__:null,initStandalone:function VA({app:n,url:t,version:e,customAuthImpl:s,namespace:a,nodeAdmin:c=!1}){xl(e);const g=new Oi.zt("auth-internal",new Oi.H0("database-standalone"));return g.setComponent(new Oi.wA("auth-internal",()=>s,"PRIVATE")),{instance:new E_(jC(n,g,void 0,t,c),n),namespace:a}}});const BA=E_.ServerValue;!function $A(n){n.INTERNAL.registerComponent(new Oi.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new E_(a,s)},"PUBLIC").setServiceProps({Reference:ms,Query:Hr,Database:E_,DataSnapshot:Cc,enableLogging:Ib,INTERNAL:UA,ServerValue:BA}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.1")}(p_.Z);var eE=O(5363),HA=O(6063);class jA extends Yr.x{constructor(t=1/0,e=1/0,s=HA.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:g}=this;e||(s.push(t),!a&&s.push(c.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:a}=this,c=a.slice();for(let g=0;g<c.length&&!t.closed;g+=s?1:2)t.next(c[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:a}=this,c=(a?1:2)*t;if(t<1/0&&c<s.length&&s.splice(0,s.length-c),!a){const g=e.now();let y=0;for(let I=1;I<s.length&&s[I]<=g;I+=2)y=I;y&&s.splice(0,y+1)}}}function Ub(n,t,e){let s,a=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):s=n??1/0,(0,et.B)({connector:()=>new jA(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Bb(n,t){return(0,Ri.m)(t)?Rn(()=>n,t):Rn(()=>n)}var UD=O(9468),WA=O(9260);const $b=new d.OlP("angularfire2.auth.use-emulator"),Hb=new d.OlP("angularfire2.auth.settings"),jb=new d.OlP("angularfire2.auth.tenant-id"),Wb=new d.OlP("angularfire2.auth.langugage-code"),Gb=new d.OlP("angularfire2.auth.use-device-language"),zb=new d.OlP("angularfire.auth.persistence"),Zb=(n,t,e,s,a,c,g,y)=>(0,Ir.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=t.runOutsideAngular(()=>n.auth());if(e&&I.useEmulator(...e),s&&(I.tenantId=s),I.languageCode=a,c&&I.useDeviceLanguage(),g)for(const[M,H]of Object.entries(g))I.settings[M]=H;return y&&I.setPersistence(y),I},[e,s,a,c,g,y]);let qb=(()=>{class n{constructor(e,s,a,c,g,y,I,M,H,V,J,Te){const Le=new Yr.x,_t=nt(void 0).pipe((0,eE.Q)(g.outsideAngular),Rn(()=>c.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,9568)))),(0,ct.U)(()=>(0,Ir.on)(e,c,s)),(0,ct.U)(Mt=>Zb(Mt,c,y,M,H,V,I,J)),Ub({bufferSize:1,refCount:!1}));if(function lo(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{_t.pipe(q()).subscribe();const On=_t.pipe(Rn(Gn=>Gn.getRedirectResult().then(no=>no,()=>null)),Yt.iC,Ub({bufferSize:1,refCount:!1})),_n=_t.pipe(Rn(Gn=>new ir.y(no=>({unsubscribe:c.runOutsideAngular(()=>Gn.onAuthStateChanged(lh=>no.next(lh),lh=>no.error(lh),()=>no.complete()))})))),jr=_t.pipe(Rn(Gn=>new ir.y(no=>({unsubscribe:c.runOutsideAngular(()=>Gn.onIdTokenChanged(lh=>no.next(lh),lh=>no.error(lh),()=>no.complete()))}))));this.authState=On.pipe(Bb(_n),(0,UD.R)(g.outsideAngular),(0,eE.Q)(g.insideAngular)),this.user=On.pipe(Bb(jr),(0,UD.R)(g.outsideAngular),(0,eE.Q)(g.insideAngular)),this.idToken=this.user.pipe(Rn(Gn=>Gn?(0,sn.D)(Gn.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(Rn(Gn=>Gn?(0,sn.D)(Gn.getIdTokenResult()):nt(null))),this.credential=(0,Be.T)(On,Le,this.authState.pipe(Jr(Gn=>!Gn))).pipe((0,ct.U)(Gn=>Gn?.user?Gn:null),(0,UD.R)(g.outsideAngular),(0,eE.Q)(g.insideAngular))}return(0,Ir.pX)(this,_t,c,{spy:{apply:(Mt,On,_n)=>{(Mt.startsWith("signIn")||Mt.startsWith("createUser"))&&_n.then(jr=>Le.next(jr))}}})}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Ir.Dh),d.LFG(Ir.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Yt.HU),d.LFG($b,8),d.LFG(Hb,8),d.LFG(jb,8),d.LFG(Wb,8),d.LFG(Gb,8),d.LFG(zb,8),d.LFG(Hu,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Kb(n){return null==n}function Yb(n){return"function"==typeof n.set}function Qb(n,t){return Yb(t)?t:n.ref(t)}function Jb(n,t){if(function zA(n){return"string"==typeof n}(n))return t.stringCase();if(Yb(n))return t.firebaseCase();if(function ZA(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function w_(n,t,e="on",s=xe.z){return new ir.y(a=>{let c=null;return c=n[e](t,(g,y)=>{s.schedule(()=>{a.next({snapshot:g,prevKey:y})}),"once"===e&&s.schedule(()=>a.complete())},g=>{s.schedule(()=>a.error(g))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,ct.U)(a=>{const{snapshot:c,prevKey:g}=a;let y=null;return c.exists()&&(y=c.key),{type:t,payload:c,prevKey:g,key:y}}),(0,et.B)())}function Xb(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function YA(n,t){const{payload:e,prevKey:s,key:a}=t,c=Xb(n,a),g=function KA(n,t){if(Kb(t))return 0;{const e=Xb(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let y=null;t.payload.forEach(I=>{const M={payload:I,type:"value",prevKey:y,key:I.key};return y=I.key,n=[...n,M],!1})}return n;case"child_added":if(c>-1){const y=n[c-1];(y&&y.key||null)!==s&&(n=n.filter(I=>I.payload.key!==e.key)).splice(g,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(g,0,t)}return n;case"child_removed":return n.filter(y=>y.payload.key!==e.key);case"child_changed":return n.map(y=>y.payload.key===a?t:y);case"child_moved":if(c>-1){const y=n.splice(c,1)[0];return(n=n.slice()).splice(g,0,y),n}return n;default:return n}}function eT(n){return(Kb(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function tT(n,t,e){return function qA(n,t,e){return w_(n,"value","once",e).pipe(Rn(s=>{const a=[nt(s)];return t.forEach(c=>a.push(w_(n,c,"on",e))),(0,Be.T)(...a).pipe(ut(YA,[]))}),function pt(n,t=Si.y){return n=n??Re,(0,cn.e)((e,s)=>{let a,c=!0;e.subscribe((0,Mn.x)(s,g=>{const y=t(g);(c||!n(a,y))&&(c=!1,a=y,s.next(g))}))})}())}(n,t=eT(t),e)}function nT(n,t,e){const s=(t=eT(t)).map(a=>w_(n,a,"on",e));return(0,Be.T)(...s)}function rT(n,t){return function(s,a){return Jb(s,{stringCase:()=>n.child(s)[t](a),firebaseCase:()=>s[t](a),snapshotCase:()=>s.ref[t](a)})}}function eS(n){return function(e){return e?Jb(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function iT(n,t){return function(){return w_(n,"value","on",t)}}const rS=new d.OlP("angularfire2.realtimeDatabaseURL"),iS=new d.OlP("angularfire2.database.use-emulator");let BD=(()=>{class n{constructor(e,s,a,c,g,y,I,M,H,V,J,Te,Le,_t,Mt){this.schedulers=y;const On=I,_n=(0,Ir.on)(e,g,s);M&&Zb(_n,g,H,J,Te,Le,V,_t),this.database=(0,Ir.cc)(`${_n.name}.database.${a}`,"AngularFireDatabase",_n.name,()=>{const jr=g.runOutsideAngular(()=>_n.database(a||void 0));return On&&jr.useEmulator(...On),jr},[On])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>Qb(this.database,e));let c=a;return s&&(c=s(a)),function tS(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:rT(s,"update"),set:rT(s,"set"),push:a=>s.push(a),remove:eS(s),snapshotChanges:a=>tT(n,a,e).pipe(Yt.iC),stateChanges:a=>nT(n,a,e).pipe(Yt.iC),auditTrail:a=>function QA(n,t,e){return function XA(n,t,e){return function JA(n,t){return w_(n,"value","on",t).pipe((0,ct.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function Jt(...n){const t=(0,Kr.jO)(n);return(0,cn.e)((e,s)=>{const a=n.length,c=new Array(a);let g=n.map(()=>!1),y=!1;for(let I=0;I<a;I++)(0,Mi.Xf)(n[I]).subscribe((0,Mn.x)(s,M=>{c[I]=M,!y&&!g[I]&&(g[I]=!0,(y=g.every(Si.y))&&(g=null))},Dt.Z));e.subscribe((0,Mn.x)(s,I=>{if(y){const M=[I,...c];s.next(t?t(...M):M)}}))})}(t),(0,ct.U)(([a,c])=>{const g=a.lastKeyToLoad,y=c.map(I=>I.key);return{actions:c,lastKeyToLoad:g,loadedKeys:y}}),function Nn(n){return(0,cn.e)((t,e)=>{let s=!1,a=0;t.subscribe((0,Mn.x)(e,c=>(s||(s=!n(c,a++)))&&e.next(c)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,ct.U)(a=>a.actions))}(n,nT(n,t).pipe(ut((a,c)=>[...a,c],[])),e)}(n,a,e).pipe(Yt.iC),valueChanges:(a,c)=>tT(n,a,e).pipe((0,ct.U)(y=>y.map(I=>c&&c.idField?Object.assign(Object.assign({},I.payload.val()),{[c.idField]:I.key}):I.payload.val())),Yt.iC)}}(c,this)}object(e){return function nS(n,t){return{query:n,snapshotChanges:()=>iT(n,t.schedulers.outsideAngular)().pipe(Yt.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>iT(n,t.schedulers.outsideAngular)().pipe(Yt.iC,(0,ct.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Qb(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Ir.Dh),d.LFG(Ir.xv,8),d.LFG(rS,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Yt.HU),d.LFG(iS,8),d.LFG(qb,8),d.LFG($b,8),d.LFG(Hb,8),d.LFG(jb,8),d.LFG(Wb,8),d.LFG(Gb,8),d.LFG(zb,8),d.LFG(Hu,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sS=(()=>{class n{constructor(){WA.Z.registerVersion("angularfire",Yt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[BD]}),n})(),sT=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),ih=(()=>{class n extends sT{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=d.n5z(n)))(s||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Qa=new d.OlP("NgValueAccessor"),lS={provide:Qa,useExisting:(0,d.Gpc)(()=>sh),multi:!0},cS=new d.OlP("CompositionEventMode");let sh=(()=>{class n extends sT{constructor(e,s,a){super(e,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uS(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(cS,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&d.NdJ("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[d._Bn([lS]),d.qOj]}),n})();const ii=new d.OlP("NgValidators"),wc=new d.OlP("NgAsyncValidators");function mT(n){return null!=n}function _T(n){return(0,d.QGY)(n)?(0,sn.D)(n):n}function yT(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function vT(n,t){return t.map(e=>e(n))}function CT(n){return n.map(t=>function fS(n){return!n.validate}(t)?t:e=>t.validate(e))}function $D(n){return null!=n?function ET(n){if(!n)return null;const t=n.filter(mT);return 0==t.length?null:function(e){return yT(vT(e,t))}}(CT(n)):null}function HD(n){return null!=n?function wT(n){if(!n)return null;const t=n.filter(mT);return 0==t.length?null:function(e){return function oS(...n){const t=(0,Kr.jO)(n),{args:e,keys:s}=Ai(n),a=new ir.y(c=>{const{length:g}=e;if(!g)return void c.complete();const y=new Array(g);let I=g,M=g;for(let H=0;H<g;H++){let V=!1;(0,Mi.Xf)(e[H]).subscribe((0,Mn.x)(c,J=>{V||(V=!0,M--),y[H]=J},()=>I--,void 0,()=>{(!I||!V)&&(M||c.next(s?Ao(s,y):y),c.complete())}))}});return t?a.pipe(ya(t)):a}(vT(e,t).map(_T)).pipe((0,ct.U)(yT))}}(CT(n)):null}function DT(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function jD(n){return n?Array.isArray(n)?n:[n]:[]}function nE(n,t){return Array.isArray(n)?n.includes(t):n===t}function TT(n,t){const e=jD(t);return jD(n).forEach(a=>{nE(e,a)||e.push(a)}),e}function AT(n,t){return jD(t).filter(e=>!nE(n,e))}class ST{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$D(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=HD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ci extends ST{get formDirective(){return null}get path(){return null}}class Dc extends ST{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class MT{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let D_=(()=>{class n extends MT{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Dc,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&d.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[d.qOj]}),n})(),I_=(()=>{class n extends MT{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Ci,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&d.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[d.qOj]}),n})();const b_="VALID",iE="INVALID",ap="PENDING",T_="DISABLED";function ZD(n){return(sE(n)?n.validators:n)||null}function PT(n){return Array.isArray(n)?$D(n):n||null}function qD(n,t){return(sE(t)?t.asyncValidators:n)||null}function NT(n){return Array.isArray(n)?HD(n):n||null}function sE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class kT{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=PT(this._rawValidators),this._composedAsyncValidatorFn=NT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===b_}get invalid(){return this.status===iE}get pending(){return this.status==ap}get disabled(){return this.status===T_}get enabled(){return this.status!==T_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=PT(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=NT(t)}addValidators(t){this.setValidators(TT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(TT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(AT(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(AT(t,this._rawAsyncValidators))}hasValidator(t){return nE(this._rawValidators,t)}hasAsyncValidator(t){return nE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ap,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=T_,this.errors=null,this._forEachChild(s=>{s.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=b_,this._forEachChild(s=>{s.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===b_||this.status===ap)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?T_:b_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ap,this._hasOwnPendingAsyncValidator=!0;const e=_T(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((s,a)=>s&&s._find(a),this)}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?T_:this.errors?iE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ap)?ap:this._anyControlsHaveStatus(iE)?iE:b_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){sE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class KD extends kT{constructor(t,e,s){super(ZD(e),qD(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function xT(n,t,e){n._forEachChild((s,a)=>{if(void 0===e[a])throw new d.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(s=>{(function OT(n,t,e){const s=n.controls;if(!(t?Object.keys(s):s).length)throw new d.vHH(1e3,"");if(!s[e])throw new d.vHH(1001,"")})(this,!0,s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{const a=this.controls[s];a&&a.patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,s]of Object.entries(this.controls))if(this.contains(e)&&t(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,s,a)=>((s.enabled||this.disabled)&&(e[a]=s.value),e))}_reduceChildren(t,e){let s=t;return this._forEachChild((a,c)=>{s=e(s,a,c)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function A_(n,t){YD(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function wS(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&FT(n,t)})}(n,t),function IS(n,t){const e=(s,a)=>{t.valueAccessor.writeValue(s),a&&t.viewToModelUpdate(s)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function DS(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&FT(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function ES(n,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function lE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function YD(n,t){const e=function IT(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(DT(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const s=function bT(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(DT(s,t.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();lE(t._rawValidators,a),lE(t._rawAsyncValidators,a)}function FT(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const MS={provide:Ci,useExisting:(0,d.Gpc)(()=>oh)},S_=(()=>Promise.resolve())();let oh=(()=>{class n extends Ci{constructor(e,s){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new KD({},$D(e),HD(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){S_.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),A_(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){S_.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){S_.then(()=>{const s=this._findContainer(e.path),a=new KD({});(function LT(n,t){YD(n,t)})(a,e),s.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){S_.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){S_.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function UT(n,t){n._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(ii,10),d.Y36(wc,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&d.NdJ("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([MS]),d.qOj]}),n})();function BT(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function $T(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const HT=class extends kT{constructor(t=null,e,s){super(ZD(e),qD(s,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=$T(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){BT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){BT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){$T(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},NS={provide:Dc,useExisting:(0,d.Gpc)(()=>lp)},GT=(()=>Promise.resolve())();let lp=(()=>{class n extends Dc{constructor(e,s,a,c,g){super(),this._changeDetectorRef=g,this.control=new HT,this._registered=!1,this.update=new d.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function JD(n,t){if(!t)return null;let e,s,a;return Array.isArray(t),t.forEach(c=>{c.constructor===sh?e=c:function AS(n){return Object.getPrototypeOf(n.constructor)===ih}(c)?s=c:a=c}),a||s||e||null}(0,c)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const s=e.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function QD(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){A_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){GT.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const s=e.isDisabled.currentValue,a=0!==s&&(0,d.D6c)(s);GT.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function oE(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Ci,9),d.Y36(ii,10),d.Y36(wc,10),d.Y36(Qa,10),d.Y36(d.sBO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([NS]),d.qOj,d.TTD]}),n})(),M_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ZT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),nM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ZT]}),n})(),rM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[nM]}),n})();function sM(n,t){if(1&n&&(d.TgZ(0,"div",12)(1,"h1")(2,"b"),d._uU(3),d.qZA()(),d.TgZ(4,"p"),d._uU(5),d.qZA(),d._UZ(6,"hr"),d.qZA()),2&n){const e=d.oxw().$implicit;d.xp6(3),d.hij(" ",e.name,""),d.xp6(2),d.Oqu(e.post)}}function oM(n,t){if(1&n&&(d.TgZ(0,"div",3),d.YNc(1,sM,7,2,"div",11),d.qZA()),2&n){const e=t.$implicit;d.xp6(1),d.Q6J("ngIf",e)}}let aM=(()=>{class n{constructor(e,s){this.database=e,this.FireDb=s,this.name=sessionStorage.getItem("id"),this.post="",this.uuid="",this.account=s.list("/post").valueChanges()}ngOnInit(){}postna(e){this.uuid="post"+Math.floor(1e5+9e5*Math.random()),b(u(this.database,"post/"+this.uuid),{name:e.name,post:e.post}),alert("Posted!"),this.post=""}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(ta),d.Y36(BD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-ala-fb"]],decls:18,vars:5,consts:[["routerLink","/signup",1,"lipat"],["routerLink","/display",1,"lipat"],["routerLink","/login",1,"lipat"],[1,"container"],[1,"center",3,"ngSubmit"],["registerForm","ngForm"],[2,"color","aliceblue"],["type","text","readonly","","ngModel","","name","name","id","name","placeholder","Name",1,"headinput",2,"text-align","center","font-weight","bold","font-size","2em",3,"ngModel","ngModelChange"],["type","text","ngModel","","name","post","id","post","placeholder","post",1,"textarea",3,"ngModel","ngModelChange"],["type","submit"],["class","container",4,"ngFor","ngForOf"],["class","jumboron bg-dark text-white center",4,"ngIf"],[1,"jumboron","bg-dark","text-white","center"]],template:function(e,s){if(1&e){const a=d.EpF();d.TgZ(0,"button",0),d._uU(1,"Sign Up"),d.qZA(),d.TgZ(2,"button",1),d._uU(3,"user table"),d.qZA(),d.TgZ(4,"button",2),d._uU(5,"Login"),d.qZA(),d.TgZ(6,"div",3)(7,"form",4,5),d.NdJ("ngSubmit",function(){d.CHM(a);const g=d.MAs(8);return d.KtG(s.postna(g.value))}),d.TgZ(9,"p",6),d._uU(10,"to put a name you need to a login first"),d.qZA(),d.TgZ(11,"input",7),d.NdJ("ngModelChange",function(g){return s.name=g}),d.qZA(),d._UZ(12,"br"),d.TgZ(13,"textarea",8),d.NdJ("ngModelChange",function(g){return s.post=g}),d.qZA(),d._UZ(14,"br")(15,"input",9),d.qZA()(),d.YNc(16,oM,2,1,"div",10),d.ALo(17,"async")}2&e&&(d.xp6(11),d.Q6J("ngModel",s.name),d.xp6(2),d.Q6J("ngModel",s.post),d.xp6(3),d.Q6J("ngForOf",d.lcZ(17,3,s.account)))},dependencies:[ai,Sn,ls,M_,sh,D_,I_,lp,oh,Xl],styles:[".center[_ngcontent-%COMP%]{text-align:center;padding-top:10px;padding-bottom:10px;font-family:Times New Roman,Times,serif}.textarea[_ngcontent-%COMP%]{border:1px #ddd solid;width:400px;height:120px;font:9pt Consolas;width:100%}"]}),n})();function lM(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"tr",15),d.NdJ("click",function(){d.CHM(e);const a=d.oxw().$implicit,c=d.oxw();return d.KtG(c.edit(a))}),d.TgZ(1,"th",16),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td",17)(10,"button",18),d.NdJ("click",function(){d.CHM(e);const a=d.oxw().$implicit,c=d.oxw();return d.KtG(c.edit(a))}),d._uU(11,"edit"),d.qZA(),d.TgZ(12,"button",19),d.NdJ("click",function(){d.CHM(e);const a=d.oxw().$implicit,c=d.oxw();return d.KtG(c.del(a.email))}),d._uU(13,"Delete"),d.qZA()()()}if(2&n){const e=d.oxw(),s=e.index,a=e.$implicit;d.xp6(2),d.hij(" ",s+1,""),d.xp6(2),d.Oqu(a.email),d.xp6(2),d.Oqu(a.name),d.xp6(2),d.Oqu(a.password)}}function uM(n,t){if(1&n&&(d.TgZ(0,"tbody"),d.YNc(1,lM,14,4,"tr",14),d.qZA()),2&n){const e=t.$implicit;d.xp6(1),d.Q6J("ngIf",e)}}let dA=(()=>{class n{constructor(e,s){this.database=e,this.FireDb=s,this.email="",this.name="",this.password="",this.account=s.list("/accounts").valueChanges()}ngOnInit(){}del(e){m(u(this.database,"accounts/"+e)),alert("Deleted Successfully")}edit(e){this.email=e.email,this.name=e.name}update(e){""==e.password?alert("put the new password!"):(ye(u(this.database,"accounts/"+e.email),{password:e.password}),this.email="",this.name="",this.password="",alert("User updated!"))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(ta),d.Y36(BD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-display"]],decls:30,vars:6,consts:[[1,"container","middle"],["routerLink","/signup",1,"lipat"],["routerLink","/fb",1,"lipat"],["routerLink","/login",1,"lipat"],[3,"ngSubmit"],["updateform","ngForm"],["type","text","ngModel","","id","email","hidden","","placeholder","Change Email","name","email",3,"ngModel","ngModelChange"],["type","text","ngModel","","id","name","readonly","","placeholder","name","name","name",3,"ngModel","ngModelChange"],["type","password","ngModel","","id","password","placeholder","New Password","name","password",3,"ngModel","ngModelChange"],["type","submit","id","saveData","name","Submit","value","Update Password"],[1,"box"],[1,"table","table-bordered","table-dark"],["scope","col"],[4,"ngFor","ngForOf"],["class","high",3,"click",4,"ngIf"],[1,"high",3,"click"],["scope","row"],[1,"high"],[1,"btn-primary",3,"click"],[1,"btn-danger",3,"click"]],template:function(e,s){if(1&e){const a=d.EpF();d.TgZ(0,"div",0)(1,"button",1),d._uU(2,"Sign Up"),d.qZA(),d.TgZ(3,"button",2),d._uU(4,"Post"),d.qZA(),d.TgZ(5,"button",3),d._uU(6,"Login"),d.qZA(),d._UZ(7,"br"),d.TgZ(8,"form",4,5),d.NdJ("ngSubmit",function(){d.CHM(a);const g=d.MAs(9);return d.KtG(s.update(g.value))}),d.TgZ(10,"input",6),d.NdJ("ngModelChange",function(g){return s.email=g}),d.qZA(),d.TgZ(11,"input",7),d.NdJ("ngModelChange",function(g){return s.name=g}),d.qZA(),d.TgZ(12,"input",8),d.NdJ("ngModelChange",function(g){return s.password=g}),d.qZA(),d._UZ(13,"input",9),d.qZA()(),d.TgZ(14,"div",10)(15,"table",11)(16,"thead")(17,"tr")(18,"th",12),d._uU(19,"#"),d.qZA(),d.TgZ(20,"th",12),d._uU(21,"Email"),d.qZA(),d.TgZ(22,"th",12),d._uU(23,"name"),d.qZA(),d.TgZ(24,"th",12),d._uU(25,"password"),d.qZA(),d.TgZ(26,"th",12),d._uU(27,"Action"),d.qZA()()(),d.YNc(28,uM,2,1,"tbody",13),d.ALo(29,"async"),d.qZA()()}2&e&&(d.xp6(10),d.Q6J("ngModel",s.email),d.xp6(1),d.Q6J("ngModel",s.name),d.xp6(1),d.Q6J("ngModel",s.password),d.xp6(16),d.Q6J("ngForOf",d.lcZ(29,4,s.account)))},dependencies:[ai,Sn,ls,M_,sh,D_,I_,lp,oh,Xl],styles:[".font[_ngcontent-%COMP%]{color:#fff}.box[_ngcontent-%COMP%]{padding:10em 15em;text-align:center}.high[_ngcontent-%COMP%]{cursor:pointer}.high[_ngcontent-%COMP%]:Hover{font-weight:700}"]}),n})(),hA=(()=>{class n{constructor(e,s){this.database=e,this.router=s,this.data="",this.name=""}ngOnInit(){}loginUser(e){const s=u(this.database,"accounts/"+e.email);if(VD(s,a=>{const c=a.val();this.data=c.password,this.name=c.name}),this.data==e.password){const a=new Date;ye(u(this.database,"accounts/"+e.email),{last_login:a}),sessionStorage.setItem("id",this.name),this.router.navigate(["/fb"])}else alert("wrong credential!")}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(ta),d.Y36(Yn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:38,vars:0,consts:[[1,"container"],[1,"d-flex","justify-content-center","h-100"],[1,"card"],[1,"lipat"],["routerLink","/signup",1,"lipat"],["routerLink","/fb",1,"lipat"],["routerLink","/display",1,"lipat"],[1,"card-header"],[1,"d-flex","justify-content-end","social_icon"],[1,"fab","fa-facebook-square"],[1,"fab","fa-google-plus-square"],[1,"fab","fa-twitter-square"],[1,"card-body"],[2,"border","1px solid rgb(168, 161, 101)",3,"ngSubmit"],["LogInForm","ngForm"],[1,"input-group","form-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fas","fa-user"],["type","text","ngModel","","name","email","id","email","placeholder","Email",1,"form-control"],[1,"fas","fa-key"],["type","password","ngModel","","name","password","id","password","placeholder","Password",1,"form-control"],[1,"row","align-items-center","remember"],[1,"form-group"],["type","submit","value","Log in","name","Login_submit","id","saveData",1,"btn","float-right","login_btn"],["direction","lefft",2,"color","white","text-align","center"]],template:function(e,s){if(1&e){const a=d.EpF();d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"button",4),d._uU(5,"Sign Up"),d.qZA(),d.TgZ(6,"button",5),d._uU(7,"Post"),d.qZA(),d.TgZ(8,"button",6),d._uU(9,"Table"),d.qZA()(),d.TgZ(10,"div",7)(11,"h3"),d._uU(12," Log in"),d.qZA(),d.TgZ(13,"div",8)(14,"span"),d._UZ(15,"i",9),d.qZA(),d.TgZ(16,"span"),d._UZ(17,"i",10),d.qZA(),d.TgZ(18,"span"),d._UZ(19,"i",11),d.qZA()()(),d.TgZ(20,"div",12)(21,"form",13,14),d.NdJ("ngSubmit",function(){d.CHM(a);const g=d.MAs(22);return d.KtG(s.loginUser(g.value))}),d.TgZ(23,"div",15)(24,"div",16)(25,"span",17),d._UZ(26,"i",18),d.qZA()(),d._UZ(27,"input",19),d.qZA(),d.TgZ(28,"div",15)(29,"div",16)(30,"span",17),d._UZ(31,"i",20),d.qZA()(),d._UZ(32,"input",21),d.qZA(),d._UZ(33,"div",22),d.TgZ(34,"div",23),d._UZ(35,"input",24),d.qZA()()(),d.TgZ(36,"marquee",25),d._uU(37,"definitely not a sussy website"),d.qZA()()()()}},dependencies:[ls,M_,sh,D_,I_,lp,oh],styles:[".lipat[_ngcontent-%COMP%]{color:#7d6743;text-align:right;padding-right:2em;padding-top:1em}.lipat[_ngcontent-%COMP%]:hover{color:#fff}.container[_ngcontent-%COMP%]{height:100%;align-content:center}.card[_ngcontent-%COMP%]{height:370px;margin-top:auto;margin-bottom:auto;width:400px;background-color:#00000080!important}.social_icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:60px;margin-left:10px;color:#12ffdf}.social_icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.social_icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:-45px}.input-group-prepend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50px;background-color:#12ffdf;color:#000;border:0!important}input[_ngcontent-%COMP%]:focus{outline:0 0 0 0!important;box-shadow:0 0!important}.remember[_ngcontent-%COMP%]{color:#fff}.remember[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:15px;margin-right:5px}.login_btn[_ngcontent-%COMP%]{color:#000;background-color:#12ffdf;width:100px}.login_btn[_ngcontent-%COMP%]:hover{color:#000;background-color:#fff}.links[_ngcontent-%COMP%]{color:#fff}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:4px}"]}),n})();const cM=[{path:"signup",component:(()=>{class n{constructor(e,s){this.database=e,this.router=s,this.uuid="",this.ab=""}ngOnInit(){}registerUser(e){const s=u(this.database,"accounts/"+e.email);VD(s,a=>{const c=a.val();this.ab=c.email}),null==e.email||""==e.email||null==e.password||""==e.password||null==e.name||""==e.name?alert("Fill the form "):this.ab==e.email?alert("user email already exist!"):(this.uuid="user"+Math.floor(1e5+9e5*Math.random()),b(u(this.database,"accounts/"+e.email),{id:this.uuid,email:e.email,name:e.name,password:e.password}),alert("account created!"),this.router.navigate(["/login"]))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(ta),d.Y36(Yn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-signup"]],decls:43,vars:0,consts:[[1,"container"],[1,"d-flex","justify-content-center","h-100"],[1,"card"],[1,"lipat"],["routerLink","/login",1,"lipat"],["routerLink","/display",1,"lipat"],["routerLink","/fb",1,"lipat"],[1,"card-header"],[1,"d-flex","justify-content-end","social_icon"],[1,"fab","fa-facebook-square"],[1,"fab","fa-google-plus-square"],[1,"fab","fa-twitter-square"],[1,"card-body"],[2,"border","1px solid rgb(168, 161, 101)",3,"ngSubmit"],["registerForm","ngForm"],[1,"input-group","form-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fas","fa-user"],["type","text","ngModel","","name","email","id","email","placeholder","Email",1,"form-control"],["type","text","ngModel","","name","name","id","name","placeholder","Name",1,"form-control"],[1,"fas","fa-key"],["type","password","ngModel","","name","password","id","password","placeholder","Password",1,"form-control"],[1,"row","align-items-center","remember"],[1,"form-group"],["type","submit","value","Sign Up","name","signup_submit","id","saveData",1,"btn","float-right","login_btn"],["direction","lefft",2,"color","white","text-align","center"]],template:function(e,s){if(1&e){const a=d.EpF();d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"button",4),d._uU(5,"Login"),d.qZA(),d.TgZ(6,"button",5),d._uU(7,"Table"),d.qZA(),d.TgZ(8,"button",6),d._uU(9,"Post"),d.qZA()(),d.TgZ(10,"div",7)(11,"h3"),d._uU(12,"Sign Up"),d.qZA(),d.TgZ(13,"div",8)(14,"span"),d._UZ(15,"i",9),d.qZA(),d.TgZ(16,"span"),d._UZ(17,"i",10),d.qZA(),d.TgZ(18,"span"),d._UZ(19,"i",11),d.qZA()()(),d.TgZ(20,"div",12)(21,"form",13,14),d.NdJ("ngSubmit",function(){d.CHM(a);const g=d.MAs(22);return d.KtG(s.registerUser(g.value))}),d.TgZ(23,"div",15)(24,"div",16)(25,"span",17),d._UZ(26,"i",18),d.qZA()(),d._UZ(27,"input",19),d.qZA(),d.TgZ(28,"div",15)(29,"div",16)(30,"span",17),d._UZ(31,"i",18),d.qZA()(),d._UZ(32,"input",20),d.qZA(),d.TgZ(33,"div",15)(34,"div",16)(35,"span",17),d._UZ(36,"i",21),d.qZA()(),d._UZ(37,"input",22),d.qZA(),d._UZ(38,"div",23),d.TgZ(39,"div",24),d._UZ(40,"input",25),d.qZA()()(),d.TgZ(41,"marquee",26),d._uU(42,"definitely not a sussy website"),d.qZA()()()()}},dependencies:[ls,M_,sh,D_,I_,lp,oh],styles:[".lipat[_ngcontent-%COMP%]{color:#7d6743;text-align:right;padding-right:2em;padding-top:1em}.lipat[_ngcontent-%COMP%]:hover{color:#fff}.container[_ngcontent-%COMP%]{height:100%;align-content:center}.card[_ngcontent-%COMP%]{height:370px;margin-top:auto;margin-bottom:auto;width:400px;background-color:#00000080!important}.social_icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:60px;margin-left:10px;color:#ffc312}.social_icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.social_icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:-45px}.input-group-prepend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50px;background-color:#ffc312;color:#000;border:0!important}input[_ngcontent-%COMP%]:focus{outline:0 0 0 0!important;box-shadow:0 0!important}.remember[_ngcontent-%COMP%]{color:#fff}.remember[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:15px;margin-right:5px}.login_btn[_ngcontent-%COMP%]{color:#000;background-color:#ffc312;width:100px}.login_btn[_ngcontent-%COMP%]:hover{color:#000;background-color:#fff}.links[_ngcontent-%COMP%]{color:#fff}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:4px}"]}),n})()},{path:"login",component:hA},{path:"",redirectTo:"signup",pathMatch:"full"},{path:"fb",component:aM},{path:"display",component:dA}];let dM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[zp.forRoot(cM),zp]}),n})(),hM=(()=>{class n{constructor(){this.title="user"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,s){1&e&&d._UZ(0,"router-outlet")},dependencies:[Pp]}),n})();const sI_firebase={projectId:"buns-6015d",appId:"1:639315175040:web:3dbfe20e1257d61ea8a865",databaseURL:"https://buns-6015d-default-rtdb.asia-southeast1.firebasedatabase.app",storageBucket:"buns-6015d.appspot.com",apiKey:"AIzaSyBmGyi3L1w6-yQ2cEo8PVZpLFkhrQlhLMI",authDomain:"buns-6015d.firebaseapp.com",messagingSenderId:"639315175040",measurementId:"G-KQQ198SVEG"};let fM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[hM]}),n.\u0275inj=d.cJS({imports:[Fs,dM,rM,Ir.hO.initializeApp(sI_firebase),sS,qp(()=>wI(sI_firebase)),j0(()=>Gy()),PD(()=>LD())]}),n})();(0,d.G48)(),Io().bootstrapModule(fM).catch(n=>console.error(n))},9751:(rt,we,O)=>{O.d(we,{y:()=>oe});var d=O(930),B=O(727),P=O(8822),te=O(9635),re=O(2416),ue=O(576),ae=O(2806);let oe=(()=>{class K{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const ve=new K;return ve.source=this,ve.operator=Ae,ve}subscribe(Ae,ve,ze){const fe=function W(K){return K&&K instanceof d.Lv||function G(K){return K&&(0,ue.m)(K.next)&&(0,ue.m)(K.error)&&(0,ue.m)(K.complete)}(K)&&(0,B.Nn)(K)}(Ae)?Ae:new d.Hp(Ae,ve,ze);return(0,ae.x)(()=>{const{operator:le,source:He}=this;fe.add(le?le.call(fe,He):He?this._subscribe(fe):this._trySubscribe(fe))}),fe}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(ve){Ae.error(ve)}}forEach(Ae,ve){return new(ve=de(ve))((ze,fe)=>{const le=new d.Hp({next:He=>{try{Ae(He)}catch(Ge){fe(Ge),le.unsubscribe()}},error:fe,complete:ze});this.subscribe(le)})}_subscribe(Ae){var ve;return null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(Ae)}[P.L](){return this}pipe(...Ae){return(0,te.U)(Ae)(this)}toPromise(Ae){return new(Ae=de(Ae))((ve,ze)=>{let fe;this.subscribe(le=>fe=le,le=>ze(le),()=>ve(fe))})}}return K.create=ke=>new K(ke),K})();function de(K){var ke;return null!==(ke=K??re.v.Promise)&&void 0!==ke?ke:Promise}},7579:(rt,we,O)=>{O.d(we,{x:()=>ae});var d=O(9751),B=O(727);const te=(0,O(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=O(8737),ue=O(2806);let ae=(()=>{class de extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const K=new oe(this,this);return K.operator=W,K}_throwIfClosed(){if(this.closed)throw new te}next(W){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(W)}})}error(W){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:K}=this;for(;K.length;)K.shift().error(W)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:K,isStopped:ke,observers:Ae}=this;return K||ke?B.Lc:(this.currentObservers=null,Ae.push(W),new B.w0(()=>{this.currentObservers=null,(0,re.P)(Ae,W)}))}_checkFinalizedStatuses(W){const{hasError:K,thrownError:ke,isStopped:Ae}=this;K?W.error(ke):Ae&&W.complete()}asObservable(){const W=new d.y;return W.source=this,W}}return de.create=(G,W)=>new oe(G,W),de})();class oe extends ae{constructor(G,W){super(),this.destination=G,this.source=W}next(G){var W,K;null===(K=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===K||K.call(W,G)}error(G){var W,K;null===(K=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===K||K.call(W,G)}complete(){var G,W;null===(W=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===W||W.call(G)}_subscribe(G){var W,K;return null!==(K=null===(W=this.source)||void 0===W?void 0:W.subscribe(G))&&void 0!==K?K:B.Lc}}},930:(rt,we,O)=>{O.d(we,{Hp:()=>ze,Lv:()=>K});var d=O(576),B=O(727),P=O(2416),te=O(7849),re=O(5032);const ue=de("C",void 0,void 0);function de(De,Ie,ge){return{kind:De,value:Ie,error:ge}}var G=O(3410),W=O(2806);class K extends B.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,B.Nn)(Ie)&&Ie.add(this)):this.destination=Ge}static create(Ie,ge,Fe){return new ze(Ie,ge,Fe)}next(Ie){this.isStopped?He(function oe(De){return de("N",De,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?He(function ae(De){return de("E",void 0,De)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?He(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Ae(De,Ie){return ke.call(De,Ie)}class ve{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:ge}=this;if(ge.next)try{ge.next(Ie)}catch(Fe){fe(Fe)}}error(Ie){const{partialObserver:ge}=this;if(ge.error)try{ge.error(Ie)}catch(Fe){fe(Fe)}else fe(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(ge){fe(ge)}}}class ze extends K{constructor(Ie,ge,Fe){let X;if(super(),(0,d.m)(Ie)||!Ie)X={next:Ie??void 0,error:ge??void 0,complete:Fe??void 0};else{let se;this&&P.v.useDeprecatedNextContext?(se=Object.create(Ie),se.unsubscribe=()=>this.unsubscribe(),X={next:Ie.next&&Ae(Ie.next,se),error:Ie.error&&Ae(Ie.error,se),complete:Ie.complete&&Ae(Ie.complete,se)}):X=Ie}this.destination=new ve(X)}}function fe(De){P.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(De):(0,te.h)(De)}function He(De,Ie){const{onStoppedNotification:ge}=P.v;ge&&G.z.setTimeout(()=>ge(De,Ie))}const Ge={closed:!0,next:re.Z,error:function le(De){throw De},complete:re.Z}},727:(rt,we,O)=>{O.d(we,{Lc:()=>ue,w0:()=>re,Nn:()=>ae});var d=O(576);const P=(0,O(3888).d)(de=>function(W){de(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((K,ke)=>`${ke+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var te=O(8737);class re{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ae of W)Ae.remove(this);else W.remove(this);const{initialTeardown:K}=this;if((0,d.m)(K))try{K()}catch(Ae){G=Ae instanceof P?Ae.errors:[Ae]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Ae of ke)try{oe(Ae)}catch(ve){G=G??[],ve instanceof P?G=[...G,...ve.errors]:G.push(ve)}}if(G)throw new P(G)}}add(G){var W;if(G&&G!==this)if(this.closed)oe(G);else{if(G instanceof re){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(G)}}_hasParent(G){const{_parentage:W}=this;return W===G||Array.isArray(W)&&W.includes(G)}_addParent(G){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(G),W):W?[W,G]:G}_removeParent(G){const{_parentage:W}=this;W===G?this._parentage=null:Array.isArray(W)&&(0,te.P)(W,G)}remove(G){const{_finalizers:W}=this;W&&(0,te.P)(W,G),G instanceof re&&G._removeParent(this)}}re.EMPTY=(()=>{const de=new re;return de.closed=!0,de})();const ue=re.EMPTY;function ae(de){return de instanceof re||de&&"closed"in de&&(0,d.m)(de.remove)&&(0,d.m)(de.add)&&(0,d.m)(de.unsubscribe)}function oe(de){(0,d.m)(de)?de():de.unsubscribe()}},2416:(rt,we,O)=>{O.d(we,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,we,O)=>{O.d(we,{E:()=>B});const B=new(O(9751).y)(re=>re.complete())},8996:(rt,we,O)=>{O.d(we,{D:()=>Ie});var d=O(8421),B=O(5363),P=O(9468),ue=O(9751),oe=O(2202),de=O(576),G=O(9672);function K(ge,Fe){if(!ge)throw new Error("Iterable cannot be null");return new ue.y(X=>{(0,G.f)(X,Fe,()=>{const se=ge[Symbol.asyncIterator]();(0,G.f)(X,Fe,()=>{se.next().then(he=>{he.done?X.complete():X.next(he.value)})},0,!0)})})}var ke=O(3670),Ae=O(8239),ve=O(1144),ze=O(6495),fe=O(2206),le=O(4532),He=O(3260);function Ie(ge,Fe){return Fe?function De(ge,Fe){if(null!=ge){if((0,ke.c)(ge))return function te(ge,Fe){return(0,d.Xf)(ge).pipe((0,P.R)(Fe),(0,B.Q)(Fe))}(ge,Fe);if((0,ve.z)(ge))return function ae(ge,Fe){return new ue.y(X=>{let se=0;return Fe.schedule(function(){se===ge.length?X.complete():(X.next(ge[se++]),X.closed||this.schedule())})})}(ge,Fe);if((0,Ae.t)(ge))return function re(ge,Fe){return(0,d.Xf)(ge).pipe((0,P.R)(Fe),(0,B.Q)(Fe))}(ge,Fe);if((0,fe.D)(ge))return K(ge,Fe);if((0,ze.T)(ge))return function W(ge,Fe){return new ue.y(X=>{let se;return(0,G.f)(X,Fe,()=>{se=ge[oe.h](),(0,G.f)(X,Fe,()=>{let he,Ve;try{({value:he,done:Ve}=se.next())}catch(Ue){return void X.error(Ue)}Ve?X.complete():X.next(he)},0,!0)}),()=>(0,de.m)(se?.return)&&se.return()})}(ge,Fe);if((0,He.L)(ge))return function Ge(ge,Fe){return K((0,He.Q)(ge),Fe)}(ge,Fe)}throw(0,le.z)(ge)}(ge,Fe):(0,d.Xf)(ge)}},8421:(rt,we,O)=>{O.d(we,{Xf:()=>ke});var d=O(655),B=O(1144),P=O(8239),te=O(9751),re=O(3670),ue=O(2206),ae=O(4532),oe=O(6495),de=O(3260),G=O(576),W=O(7849),K=O(8822);function ke(De){if(De instanceof te.y)return De;if(null!=De){if((0,re.c)(De))return function Ae(De){return new te.y(Ie=>{const ge=De[K.L]();if((0,G.m)(ge.subscribe))return ge.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,B.z)(De))return function ve(De){return new te.y(Ie=>{for(let ge=0;ge<De.length&&!Ie.closed;ge++)Ie.next(De[ge]);Ie.complete()})}(De);if((0,P.t)(De))return function ze(De){return new te.y(Ie=>{De.then(ge=>{Ie.closed||(Ie.next(ge),Ie.complete())},ge=>Ie.error(ge)).then(null,W.h)})}(De);if((0,ue.D)(De))return le(De);if((0,oe.T)(De))return function fe(De){return new te.y(Ie=>{for(const ge of De)if(Ie.next(ge),Ie.closed)return;Ie.complete()})}(De);if((0,de.L)(De))return function He(De){return le((0,de.Q)(De))}(De)}throw(0,ae.z)(De)}function le(De){return new te.y(Ie=>{(function Ge(De,Ie){var ge,Fe,X,se;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ge=(0,d.KL)(De);!(Fe=yield ge.next()).done;)if(Ie.next(Fe.value),Ie.closed)return}catch(he){X={error:he}}finally{try{Fe&&!Fe.done&&(se=ge.return)&&(yield se.call(ge))}finally{if(X)throw X.error}}Ie.complete()})})(De,Ie).catch(ge=>Ie.error(ge))})}},6451:(rt,we,O)=>{O.d(we,{T:()=>ue});var d=O(8189),B=O(8421),P=O(515),te=O(7669),re=O(8996);function ue(...ae){const oe=(0,te.yG)(ae),de=(0,te._6)(ae,1/0),G=ae;return G.length?1===G.length?(0,B.Xf)(G[0]):(0,d.J)(de)((0,re.D)(G,oe)):P.E}},5403:(rt,we,O)=>{O.d(we,{x:()=>B});var d=O(930);function B(te,re,ue,ae,oe){return new P(te,re,ue,ae,oe)}class P extends d.Lv{constructor(re,ue,ae,oe,de,G){super(re),this.onFinalize=de,this.shouldUnsubscribe=G,this._next=ue?function(W){try{ue(W)}catch(K){re.error(K)}}:super._next,this._error=oe?function(W){try{oe(W)}catch(K){re.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(W){re.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(rt,we,O)=>{O.d(we,{U:()=>P});var d=O(4482),B=O(5403);function P(te,re){return(0,d.e)((ue,ae)=>{let oe=0;ue.subscribe((0,B.x)(ae,de=>{ae.next(te.call(re,de,oe++))}))})}},8189:(rt,we,O)=>{O.d(we,{J:()=>P});var d=O(5577),B=O(4671);function P(te=1/0){return(0,d.z)(B.y,te)}},5577:(rt,we,O)=>{O.d(we,{z:()=>oe});var d=O(4004),B=O(8421),P=O(4482),te=O(9672),re=O(5403),ae=O(576);function oe(de,G,W=1/0){return(0,ae.m)(G)?oe((K,ke)=>(0,d.U)((Ae,ve)=>G(K,Ae,ke,ve))((0,B.Xf)(de(K,ke))),W):("number"==typeof G&&(W=G),(0,P.e)((K,ke)=>function ue(de,G,W,K,ke,Ae,ve,ze){const fe=[];let le=0,He=0,Ge=!1;const De=()=>{Ge&&!fe.length&&!le&&G.complete()},Ie=Fe=>le<K?ge(Fe):fe.push(Fe),ge=Fe=>{Ae&&G.next(Fe),le++;let X=!1;(0,B.Xf)(W(Fe,He++)).subscribe((0,re.x)(G,se=>{ke?.(se),Ae?Ie(se):G.next(se)},()=>{X=!0},void 0,()=>{if(X)try{for(le--;fe.length&&le<K;){const se=fe.shift();ve?(0,te.f)(G,ve,()=>ge(se)):ge(se)}De()}catch(se){G.error(se)}}))};return de.subscribe((0,re.x)(G,Ie,()=>{Ge=!0,De()})),()=>{ze?.()}}(K,ke,de,W)))}},5363:(rt,we,O)=>{O.d(we,{Q:()=>te});var d=O(9672),B=O(4482),P=O(5403);function te(re,ue=0){return(0,B.e)((ae,oe)=>{ae.subscribe((0,P.x)(oe,de=>(0,d.f)(oe,re,()=>oe.next(de),ue),()=>(0,d.f)(oe,re,()=>oe.complete(),ue),de=>(0,d.f)(oe,re,()=>oe.error(de),ue)))})}},3099:(rt,we,O)=>{O.d(we,{B:()=>re});var d=O(8421),B=O(7579),P=O(930),te=O(4482);function re(ae={}){const{connector:oe=(()=>new B.x),resetOnError:de=!0,resetOnComplete:G=!0,resetOnRefCountZero:W=!0}=ae;return K=>{let ke,Ae,ve,ze=0,fe=!1,le=!1;const He=()=>{Ae?.unsubscribe(),Ae=void 0},Ge=()=>{He(),ke=ve=void 0,fe=le=!1},De=()=>{const Ie=ke;Ge(),Ie?.unsubscribe()};return(0,te.e)((Ie,ge)=>{ze++,!le&&!fe&&He();const Fe=ve=ve??oe();ge.add(()=>{ze--,0===ze&&!le&&!fe&&(Ae=ue(De,W))}),Fe.subscribe(ge),!ke&&ze>0&&(ke=new P.Hp({next:X=>Fe.next(X),error:X=>{le=!0,He(),Ae=ue(Ge,de,X),Fe.error(X)},complete:()=>{fe=!0,He(),Ae=ue(Ge,G),Fe.complete()}}),(0,d.Xf)(Ie).subscribe(ke))})(K)}}function ue(ae,oe,...de){if(!0===oe)return void ae();if(!1===oe)return;const G=new P.Hp({next:()=>{G.unsubscribe(),ae()}});return oe(...de).subscribe(G)}},9468:(rt,we,O)=>{O.d(we,{R:()=>B});var d=O(4482);function B(P,te=0){return(0,d.e)((re,ue)=>{ue.add(P.schedule(()=>re.subscribe(ue),te))})}},8505:(rt,we,O)=>{O.d(we,{b:()=>re});var d=O(576),B=O(4482),P=O(5403),te=O(4671);function re(ue,ae,oe){const de=(0,d.m)(ue)||ae||oe?{next:ue,error:ae,complete:oe}:ue;return de?(0,B.e)((G,W)=>{var K;null===(K=de.subscribe)||void 0===K||K.call(de);let ke=!0;G.subscribe((0,P.x)(W,Ae=>{var ve;null===(ve=de.next)||void 0===ve||ve.call(de,Ae),W.next(Ae)},()=>{var Ae;ke=!1,null===(Ae=de.complete)||void 0===Ae||Ae.call(de),W.complete()},Ae=>{var ve;ke=!1,null===(ve=de.error)||void 0===ve||ve.call(de,Ae),W.error(Ae)},()=>{var Ae,ve;ke&&(null===(Ae=de.unsubscribe)||void 0===Ae||Ae.call(de)),null===(ve=de.finalize)||void 0===ve||ve.call(de)}))}):te.y}},4408:(rt,we,O)=>{O.d(we,{o:()=>re});var d=O(727);class B extends d.w0{constructor(ae,oe){super()}schedule(ae,oe=0){return this}}const P={setInterval(ue,ae,...oe){const{delegate:de}=P;return de?.setInterval?de.setInterval(ue,ae,...oe):setInterval(ue,ae,...oe)},clearInterval(ue){const{delegate:ae}=P;return(ae?.clearInterval||clearInterval)(ue)},delegate:void 0};var te=O(8737);class re extends B{constructor(ae,oe){super(ae,oe),this.scheduler=ae,this.work=oe,this.pending=!1}schedule(ae,oe=0){var de;if(this.closed)return this;this.state=ae;const G=this.id,W=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(W,G,oe)),this.pending=!0,this.delay=oe,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(W,this.id,oe),this}requestAsyncId(ae,oe,de=0){return P.setInterval(ae.flush.bind(ae,this),de)}recycleAsyncId(ae,oe,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return oe;null!=oe&&P.clearInterval(oe)}execute(ae,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ae,oe);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,oe){let G,de=!1;try{this.work(ae)}catch(W){de=!0,G=W||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ae,scheduler:oe}=this,{actions:de}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(de,this),null!=ae&&(this.id=this.recycleAsyncId(oe,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,we,O)=>{O.d(we,{v:()=>P});var d=O(6063);class B{constructor(re,ue=B.now){this.schedulerActionCtor=re,this.now=ue}schedule(re,ue=0,ae){return new this.schedulerActionCtor(this,re).schedule(ae,ue)}}B.now=d.l.now;class P extends B{constructor(re,ue=B.now){super(re,ue),this.actions=[],this._active=!1}flush(re){const{actions:ue}=this;if(this._active)return void ue.push(re);let ae;this._active=!0;do{if(ae=re.execute(re.state,re.delay))break}while(re=ue.shift());if(this._active=!1,ae){for(;re=ue.shift();)re.unsubscribe();throw ae}}}},4986:(rt,we,O)=>{O.d(we,{z:()=>P});var d=O(4408);const P=new(O(7565).v)(d.o)},6063:(rt,we,O)=>{O.d(we,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(rt,we,O)=>{O.d(we,{z:()=>d});const d={setTimeout(B,P,...te){const{delegate:re}=d;return re?.setTimeout?re.setTimeout(B,P,...te):setTimeout(B,P,...te)},clearTimeout(B){const{delegate:P}=d;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(rt,we,O)=>{O.d(we,{h:()=>B});const B=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,we,O)=>{O.d(we,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(rt,we,O)=>{O.d(we,{_6:()=>ue,jO:()=>te,yG:()=>re});var d=O(576);function P(ae){return ae[ae.length-1]}function te(ae){return(0,d.m)(P(ae))?ae.pop():void 0}function re(ae){return function B(ae){return ae&&(0,d.m)(ae.schedule)}(P(ae))?ae.pop():void 0}function ue(ae,oe){return"number"==typeof P(ae)?ae.pop():oe}},8737:(rt,we,O)=>{function d(B,P){if(B){const te=B.indexOf(P);0<=te&&B.splice(te,1)}}O.d(we,{P:()=>d})},3888:(rt,we,O)=>{function d(B){const te=B(re=>{Error.call(re),re.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}O.d(we,{d:()=>d})},2806:(rt,we,O)=>{O.d(we,{O:()=>te,x:()=>P});var d=O(2416);let B=null;function P(re){if(d.v.useDeprecatedSynchronousErrorHandling){const ue=!B;if(ue&&(B={errorThrown:!1,error:null}),re(),ue){const{errorThrown:ae,error:oe}=B;if(B=null,ae)throw oe}}else re()}function te(re){d.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=re)}},9672:(rt,we,O)=>{function d(B,P,te,re=0,ue=!1){const ae=P.schedule(function(){te(),ue?B.add(this.schedule(null,re)):this.unsubscribe()},re);if(B.add(ae),!ue)return ae}O.d(we,{f:()=>d})},4671:(rt,we,O)=>{function d(B){return B}O.d(we,{y:()=>d})},1144:(rt,we,O)=>{O.d(we,{z:()=>d});const d=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(rt,we,O)=>{O.d(we,{D:()=>B});var d=O(576);function B(P){return Symbol.asyncIterator&&(0,d.m)(P?.[Symbol.asyncIterator])}},576:(rt,we,O)=>{function d(B){return"function"==typeof B}O.d(we,{m:()=>d})},3670:(rt,we,O)=>{O.d(we,{c:()=>P});var d=O(8822),B=O(576);function P(te){return(0,B.m)(te[d.L])}},6495:(rt,we,O)=>{O.d(we,{T:()=>P});var d=O(2202),B=O(576);function P(te){return(0,B.m)(te?.[d.h])}},8239:(rt,we,O)=>{O.d(we,{t:()=>B});var d=O(576);function B(P){return(0,d.m)(P?.then)}},3260:(rt,we,O)=>{O.d(we,{L:()=>te,Q:()=>P});var d=O(655),B=O(576);function P(re){return(0,d.FC)(this,arguments,function*(){const ae=re.getReader();try{for(;;){const{value:oe,done:de}=yield(0,d.qq)(ae.read());if(de)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(oe)}}finally{ae.releaseLock()}})}function te(re){return(0,B.m)(re?.getReader)}},4482:(rt,we,O)=>{O.d(we,{A:()=>B,e:()=>P});var d=O(576);function B(te){return(0,d.m)(te?.lift)}function P(te){return re=>{if(B(re))return re.lift(function(ue){try{return te(ue,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(rt,we,O)=>{function d(){}O.d(we,{Z:()=>d})},9635:(rt,we,O)=>{O.d(we,{U:()=>P,z:()=>B});var d=O(4671);function B(...te){return P(te)}function P(te){return 0===te.length?d.y:1===te.length?te[0]:function(ue){return te.reduce((ae,oe)=>oe(ae),ue)}}},7849:(rt,we,O)=>{O.d(we,{h:()=>P});var d=O(2416),B=O(3410);function P(te){B.z.setTimeout(()=>{const{onUnhandledError:re}=d.v;if(!re)throw te;re(te)})}},4532:(rt,we,O)=>{function d(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(we,{z:()=>d})},655:(rt,we,O)=>{function te(ie,ce){var me={};for(var Se in ie)Object.prototype.hasOwnProperty.call(ie,Se)&&ce.indexOf(Se)<0&&(me[Se]=ie[Se]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(Se=Object.getOwnPropertySymbols(ie);Pe<Se.length;Pe++)ce.indexOf(Se[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ie,Se[Pe])&&(me[Se[Pe]]=ie[Se[Pe]])}return me}function K(ie,ce,me,Se){return new(me||(me=Promise))(function(_e,tt){function Ct(at){try{Ke(Se.next(at))}catch(it){tt(it)}}function jt(at){try{Ke(Se.throw(at))}catch(it){tt(it)}}function Ke(at){at.done?_e(at.value):function Pe(_e){return _e instanceof me?_e:new me(function(tt){tt(_e)})}(at.value).then(Ct,jt)}Ke((Se=Se.apply(ie,ce||[])).next())})}function De(ie){return this instanceof De?(this.v=ie,this):new De(ie)}function Ie(ie,ce,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Se=me.apply(ie,ce||[]),_e=[];return Pe={},tt("next"),tt("throw"),tt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function tt(xt){Se[xt]&&(Pe[xt]=function(yn){return new Promise(function(fn,Ht){_e.push([xt,yn,fn,Ht])>1||Ct(xt,yn)})})}function Ct(xt,yn){try{!function jt(xt){xt.value instanceof De?Promise.resolve(xt.value.v).then(Ke,at):it(_e[0][2],xt)}(Se[xt](yn))}catch(fn){it(_e[0][3],fn)}}function Ke(xt){Ct("next",xt)}function at(xt){Ct("throw",xt)}function it(xt,yn){xt(yn),_e.shift(),_e.length&&Ct(_e[0][0],_e[0][1])}}function Fe(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ce=ie[Symbol.asyncIterator];return ce?ce.call(ie):(ie=function ze(ie){var ce="function"==typeof Symbol&&Symbol.iterator,me=ce&&ie[ce],Se=0;if(me)return me.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&Se>=ie.length&&(ie=void 0),{value:ie&&ie[Se++],done:!ie}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),me={},Se("next"),Se("throw"),Se("return"),me[Symbol.asyncIterator]=function(){return this},me);function Se(_e){me[_e]=ie[_e]&&function(tt){return new Promise(function(Ct,jt){!function Pe(_e,tt,Ct,jt){Promise.resolve(jt).then(function(Ke){_e({value:Ke,done:Ct})},tt)}(Ct,jt,(tt=ie[_e](tt)).done,tt.value)})}}}O.d(we,{FC:()=>Ie,KL:()=>Fe,_T:()=>te,mG:()=>K,qq:()=>De})},4650:(rt,we,O)=>{O.d(we,{$8M:()=>ma,$Z:()=>Xh,AFp:()=>bC,ALo:()=>Qv,AaK:()=>oe,CHM:()=>Ac,CRH:()=>Lm,CZH:()=>Xo,CqO:()=>Pg,D6c:()=>Lb,EJc:()=>dD,EpF:()=>ev,F4k:()=>tv,FYo:()=>dd,FiY:()=>pe,G48:()=>DD,GfV:()=>uy,Gpc:()=>W,JOm:()=>ei,KtG:()=>Ts,LFG:()=>dn,LSH:()=>Ou,Lbi:()=>n_,Lck:()=>Tm,MAs:()=>Ys,MMx:()=>kf,NdJ:()=>$a,OlP:()=>rn,Oqu:()=>Df,PXZ:()=>vD,Q6J:()=>zo,QGY:()=>Rg,QP$:()=>Ne,Qsj:()=>JE,R0b:()=>vi,RDi:()=>vE,Rgc:()=>Wd,SBq:()=>Rl,Sil:()=>ni,Suo:()=>oC,TTD:()=>Ei,TgZ:()=>Ku,X6Q:()=>jC,XFs:()=>We,Xpm:()=>Ce,Xts:()=>Hh,Y36:()=>Nl,YKP:()=>$d,YNc:()=>Qy,Yjl:()=>L,Yz7:()=>Ke,Z0I:()=>yn,ZZ4:()=>QC,_Bn:()=>Fv,_UZ:()=>er,_Vd:()=>Oa,_c5:()=>LD,_uU:()=>Yg,aQg:()=>JC,c2e:()=>r_,cJS:()=>it,cg1:()=>Fd,dDg:()=>PC,dqk:()=>Et,eFA:()=>xC,ekj:()=>Wg,eoX:()=>a_,f3M:()=>Jr,g9A:()=>Xd,h0i:()=>uc,hGG:()=>Fb,hij:()=>Rd,iGM:()=>Zf,ifc:()=>ot,ip1:()=>IC,jDz:()=>Vv,kL8:()=>Ev,lG2:()=>Z,lcZ:()=>Qo,lqb:()=>Na,lri:()=>rh,n5z:()=>Ti,oAB:()=>Bt,oxw:()=>Ad,q4F:()=>cy,qLn:()=>ls,qOj:()=>qy,qZA:()=>bd,rWj:()=>o_,sBO:()=>GC,sIi:()=>gf,s_b:()=>jf,soG:()=>eh,tb:()=>Xf,tp0:()=>Je,uIk:()=>Dd,vHH:()=>ve,vpe:()=>to,wAp:()=>mt,xp6:()=>gy,z2F:()=>ip,zSh:()=>$p,zs3:()=>Pl});var d=O(7579),B=O(727),P=O(9751),te=O(6451),re=O(3099);function ue(r){for(let i in r)if(r[i]===ue)return i;throw Error("Could not find renamed property on target object.")}function ae(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function oe(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(oe).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function de(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const G=ue({__forward_ref__:ue});function W(r){return r.__forward_ref__=W,r.toString=function(){return oe(this())},r}function K(r){return ke(r)?r():r}function ke(r){return"function"==typeof r&&r.hasOwnProperty(G)&&r.__forward_ref__===W}class ve extends Error{constructor(i,o){super(function ze(r,i){return`NG0${Math.abs(r)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function fe(r){return"string"==typeof r?r:null==r?"":String(r)}function Ie(r,i){throw new ve(-201,!1)}function Pe(r,i){null==r&&function _e(r,i,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function Ke(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function it(r){return{providers:r.providers||[],imports:r.imports||[]}}function xt(r){return fn(r,cr)||fn(r,Nr)}function yn(r){return null!==xt(r)}function fn(r,i){return r.hasOwnProperty(i)?r[i]:null}function Qn(r){return r&&(r.hasOwnProperty(vn)||r.hasOwnProperty(Wr))?r[vn]:null}const cr=ue({\u0275prov:ue}),vn=ue({\u0275inj:ue}),Nr=ue({ngInjectableDef:ue}),Wr=ue({ngInjectorDef:ue});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let xn;function Xt(r){const i=xn;return xn=r,i}function zn(r,i,o){const l=xt(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&We.Optional?null:void 0!==i?i:void Ie(oe(r))}function en(r){return{toString:r}.toString()}var tn=(()=>((tn=tn||{})[tn.OnPush=0]="OnPush",tn[tn.Default=1]="Default",tn))(),ot=(()=>{return(r=ot||(ot={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",ot;var r})();const Et=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),tr={},gt=[],nr=ue({\u0275cmp:ue}),bt=ue({\u0275dir:ue}),gr=ue({\u0275pipe:ue}),kt=ue({\u0275mod:ue}),Hn=ue({\u0275fac:ue}),ln=ue({__NG_ELEMENT_ID__:ue});let Ze=0;function Ce(r){return en(()=>{const o=!0===r.standalone,l={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===tn.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||gt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||ot.Emulated,id:"c"+Ze++,styles:r.styles||gt,_:null,setInput:null,schemas:r.schemas||null,tView:null},h=r.dependencies,m=r.features;return u.inputs=$(r.inputs,l),u.outputs=$(r.outputs),m&&m.forEach(v=>v(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(ht).filter(vt):null,u.pipeDefs=h?()=>("function"==typeof h?h():h).map(Q).filter(vt):null,u})}function ht(r){return S(r)||k(r)}function vt(r){return null!==r}function Bt(r){return en(()=>({type:r.type,bootstrap:r.bootstrap||gt,declarations:r.declarations||gt,imports:r.imports||gt,exports:r.exports||gt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function $(r,i){if(null==r)return tr;const o={};for(const l in r)if(r.hasOwnProperty(l)){let u=r[l],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=l,i&&(i[u]=h)}return o}const Z=Ce;function L(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function S(r){return r[nr]||null}function k(r){return r[bt]||null}function Q(r){return r[gr]||null}function Ne(r){const i=S(r)||k(r)||Q(r);return null!==i&&i.standalone}function Ye(r,i){const o=r[kt]||null;if(!o&&!0===i)throw new Error(`Type ${oe(r)} does not have '\u0275mod' property.`);return o}function kn(r){return Array.isArray(r)&&"object"==typeof r[1]}function Tr(r){return Array.isArray(r)&&!0===r[1]}function ys(r){return 0!=(8&r.flags)}function Xa(r){return 2==(2&r.flags)}function so(r){return 1==(1&r.flags)}function _r(r){return null!==r.template}function el(r){return 0!=(256&r[2])}function Jn(r,i){return r.hasOwnProperty(Hn)?r[Hn]:null}class ws{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ei(){return iu}function iu(r){return r.type.prototype.ngOnChanges&&(r.setInput=nl),ia}function ia(){const r=Ds(this),i=r?.current;if(i){const o=r.previous;if(o===tr)r.previous=i;else for(let l in i)o[l]=i[l];r.current=null,this.ngOnChanges(i)}}function nl(r,i,o,l){const u=Ds(r)||function ph(r,i){return r[su]=i}(r,{previous:tr,current:null}),h=u.current||(u.current={}),m=u.previous,v=this.declaredInputs[o],E=m[v];h[v]=new ws(E&&E.currentValue,i,m===tr),r[l]=i}Ei.ngInherit=!0;const su="__ngSimpleChanges__";function Ds(r){return r[su]||null}function gn(r){for(;Array.isArray(r);)r=r[0];return r}function xr(r,i){return gn(i[r])}function Zn(r,i){return gn(i[r.index])}function Is(r,i){return r.data[i]}function Gr(r,i){return r[i]}function $t(r,i){const o=i[r];return kn(o)?o:o[0]}function wi(r){return 64==(64&r[2])}function Mr(r,i){return null==i?null:r[i]}function uo(r){r[18]=0}function Cn(r,i){r[5]+=i;let o=r,l=r[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const It={lFrame:Co(null),bindingsEnabled:!0};function Qi(){return It.bindingsEnabled}function be(){return It.lFrame.lView}function Ot(){return It.lFrame.tView}function Ac(r){return It.lFrame.contextLView=r,r[8]}function Ts(r){return It.lFrame.contextLView=null,r}function Fn(){let r=As();for(;null!==r&&64===r.type;)r=r.parent;return r}function As(){return It.lFrame.currentTNode}function hr(r,i){const o=It.lFrame;o.currentTNode=r,o.isParent=i}function aa(){return It.lFrame.isParent}function _o(){return It.lFrame.bindingIndex++}function uu(r,i){const o=It.lFrame;o.bindingIndex=o.bindingRootIndex=r,Ms(i)}function Ms(r){It.lFrame.currentDirectiveIndex=r}function yo(){return It.lFrame.currentQueryIndex}function ll(r){It.lFrame.currentQueryIndex=r}function vo(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function cu(r,i,o){if(o&We.SkipSelf){let u=i,h=r;for(;!(u=u.parent,null!==u||o&We.Host||(u=vo(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;i=u,r=h}const l=It.lFrame=Rc();return l.currentTNode=i,l.lView=r,!0}function Rs(r){const i=Rc(),o=r[1];It.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Rc(){const r=It.lFrame,i=null===r?null:r.child;return null===i?Co(r):i}function Co(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Pc(){const r=It.lFrame;return It.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const du=Pc;function Di(){const r=Pc();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function pn(){return It.lFrame.selectedIndex}function hi(r){It.lFrame.selectedIndex=r}function un(){const r=It.lFrame;return Is(r.tView,r.selectedIndex)}function la(r,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:b,ngOnDestroy:R}=h;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),v&&((r.contentHooks||(r.contentHooks=[])).push(o,v),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,v)),E&&(r.viewHooks||(r.viewHooks=[])).push(-o,E),b&&((r.viewHooks||(r.viewHooks=[])).push(o,b),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,b)),null!=R&&(r.destroyHooks||(r.destroyHooks=[])).push(o,R)}}function Ps(r,i,o){Os(r,i,3,o)}function Ns(r,i,o,l){(3&r[2])===o&&Os(r,i,o,l)}function pu(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function Os(r,i,o,l){const h=l??-1,m=i.length-1;let v=0;for(let E=void 0!==l?65535&r[18]:0;E<m;E++)if("number"==typeof i[E+1]){if(v=i[E],null!=l&&v>=l)break}else i[E]<0&&(r[18]+=65536),(v<h||-1==h)&&(gu(r,o,i,E),r[18]=(4294901760&r[18])+E+2),E++}function gu(r,i,o,l){const u=o[l]<0,h=o[l+1],v=r[u?-o[l]:o[l]];if(u){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class Rr{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function fi(r,i,o){let l=0;for(;l<o.length;){const u=o[l];if("number"==typeof u){if(0!==u)break;l++;const h=o[l++],m=o[l++],v=o[l++];r.setAttribute(i,m,v,h)}else{const h=u,m=o[++l];pl(h)?r.setProperty(i,h,m):r.setAttribute(i,h,m),l++}}return l}function Eo(r){return 3===r||4===r||6===r}function pl(r){return 64===r.charCodeAt(0)}function wo(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const u=i[l];"number"==typeof u?o=u:0===o||_u(r,o,u,null,-1===o||2===o?i[++l]:null)}}return r}function _u(r,i,o,l,u){let h=0,m=r.length;if(-1===i)m=-1;else for(;h<r.length;){const v=r[h++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=h-1;break}}}for(;h<r.length;){const v=r[h];if("number"==typeof v)break;if(v===o){if(null===l)return void(null!==u&&(r[h+1]=u));if(l===r[h+1])return void(r[h+2]=u)}h++,null!==l&&h++,null!==u&&h++}-1!==m&&(r.splice(m,0,i),h=m+1),r.splice(h++,0,o),null!==l&&r.splice(h++,0,l),null!==u&&r.splice(h++,0,u)}function xc(r){return-1!==r}function Vn(r){return 32767&r}function bi(r,i){let o=function kc(r){return r>>16}(r),l=i;for(;o>0;)l=l[15],o--;return l}let gl=!0;function Do(r){const i=gl;return gl=r,i}let yu=0;const vr={};function pi(r,i){const o=fa(r,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,ml(l.data,r),ml(i,null),ml(l.blueprint,null));const u=Io(r,i),h=r.injectorIndex;if(xc(u)){const m=Vn(u),v=bi(u,i),E=v[1].data;for(let b=0;b<8;b++)i[h+b]=v[m+b]|E[m+b]}return i[h+8]=u,h}function ml(r,i){r.push(0,0,0,0,0,0,0,0,i)}function fa(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Io(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,u=i;for(;null!==u;){if(l=$s(u),null===l)return-1;if(o++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Xi(r,i,o){!function vu(r,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(ln)&&(l=o[ln]),null==l&&(l=o[ln]=yu++);const u=255&l;i.data[r+(u>>5)]|=1<<u}(r,i,o)}function ks(r,i,o){if(o&We.Optional||void 0!==r)return r;Ie()}function Fs(r,i,o,l){if(o&We.Optional&&void 0===l&&(l=null),0==(o&(We.Self|We.Host))){const u=r[9],h=Xt(void 0);try{return u?u.get(i,l,o&We.Optional):zn(i,l,o&We.Optional)}finally{Xt(h)}}return ks(l,0,o)}function Ls(r,i,o,l=We.Default,u){if(null!==r){if(1024&i[2]){const m=function Vc(r,i,o,l,u){let h=r,m=i;for(;null!==h&&null!==m&&1024&m[2]&&!(256&m[2]);){const v=Cu(h,m,o,l|We.Self,vr);if(v!==vr)return v;let E=h.parent;if(!E){const b=m[21];if(b){const R=b.get(o,vr,l);if(R!==vr)return R}E=$s(m),m=m[15]}h=E}return u}(r,i,o,l,vr);if(m!==vr)return m}const h=Cu(r,i,o,l,vr);if(h!==vr)return h}return Fs(i,o,l,u)}function Cu(r,i,o,l,u){const h=function Lc(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(ln)?r[ln]:void 0;return"number"==typeof i?i>=0?255&i:_l:i}(o);if("function"==typeof h){if(!cu(i,r,l))return l&We.Host?ks(u,0,l):Fs(i,o,l,u);try{const m=h(l);if(null!=m||l&We.Optional)return m;Ie()}finally{du()}}else if("number"==typeof h){let m=null,v=fa(r,i),E=-1,b=l&We.Host?i[16][6]:null;for((-1===v||l&We.SkipSelf)&&(E=-1===v?Io(r,i):i[v+8],-1!==E&&ga(l,!1)?(m=i[1],v=Vn(E),i=bi(E,i)):v=-1);-1!==v;){const R=i[1];if(Vs(h,v,R.data)){const x=pa(v,i,o,m,l,b);if(x!==vr)return x}E=i[v+8],-1!==E&&ga(l,i[1].data[v+8]===b)&&Vs(h,v,i)?(m=R,v=Vn(E),i=bi(E,i)):v=-1}}return u}function pa(r,i,o,l,u,h){const m=i[1],v=m.data[r+8],R=To(v,m,o,null==l?Xa(v)&&gl:l!=m&&0!=(3&v.type),u&We.Host&&h===v);return null!==R?Zr(i,m,R,v):vr}function To(r,i,o,l,u){const h=r.providerIndexes,m=i.data,v=1048575&h,E=r.directiveStart,R=h>>20,z=u?v+R:r.directiveEnd;for(let ee=l?v:v+R;ee<z;ee++){const ye=m[ee];if(ee<E&&o===ye||ee>=E&&ye.type===o)return ee}if(u){const ee=m[E];if(ee&&_r(ee)&&ee.type===o)return E}return null}function Zr(r,i,o,l){let u=r[o];const h=i.data;if(function fl(r){return r instanceof Rr}(u)){const m=u;m.resolving&&function He(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new ve(-200,`Circular dependency in DI detected for ${r}${o}`)}(function le(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():fe(r)}(h[o]));const v=Do(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?Xt(m.injectImpl):null;cu(r,l,We.Default);try{u=r[o]=m.factory(void 0,h,r,l),i.firstCreatePass&&o>=l.directiveStart&&function hl(r,i,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(l){const m=iu(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,u),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==E&&Xt(E),Do(v),m.resolving=!1,du()}}return u}function Vs(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function ga(r,i){return!(r&We.Self||r&We.Host&&i)}class Us{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return Ls(this._tNode,this._lView,i,l,o)}}function _l(){return new Us(Fn(),be())}function Ti(r){return en(()=>{const i=r.prototype.constructor,o=i[Hn]||Bs(i),l=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==l;){const h=u[Hn]||Bs(u);if(h&&h!==o)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Bs(r){return ke(r)?()=>{const i=Bs(K(r));return i&&i()}:Jn(r)}function $s(r){const i=r[1],o=i.type;return 2===o?i.declTNode:1===o?r[6]:null}function ma(r){return function bo(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const h=o[u];if(Eo(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(h===i)return o[u+1];u+=2}}}return null}(Fn(),r)}const Hs="__parameters__";function Ws(r,i,o){return en(()=>{const l=function yl(r){return function(...o){if(r){const l=r(...o);for(const u in l)this[u]=l[u]}}}(i);function u(...h){if(this instanceof u)return l.apply(this,h),this;const m=new u(...h);return v.annotation=m,v;function v(E,b,R){const x=E.hasOwnProperty(Hs)?E[Hs]:Object.defineProperty(E,Hs,{value:[]})[Hs];for(;x.length<=R;)x.push(null);return(x[R]=x[R]||[]).push(m),E}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}class rn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ke({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function on(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(i===r&&(i=r.slice(0,o)),on(l,i)):i!==r&&i.push(l)}return i}function gi(r,i){r.forEach(o=>Array.isArray(o)?gi(o,i):i(o))}function ts(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function ir(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function ct(r,i,o){let l=Qr(r,i);return l>=0?r[1|l]=o:(l=~l,function $c(r,i,o,l){let u=r.length;if(u==i)r.push(o,l);else if(1===u)r.push(l,r[0]),r[0]=o;else{for(u--,r.push(r[u-1],r[u]);u>i;)r[u]=r[u-2],u--;r[i]=o,r[i+1]=l}}(r,l,i,o)),l}function vl(r,i){const o=Qr(r,i);if(o>=0)return r[1|o]}function Qr(r,i){return function Ao(r,i,o){let l=0,u=r.length>>o;for(;u!==l;){const h=l+(u-l>>1),m=r[h<<o];if(i===m)return h<<o;m>i?u=h:l=h+1}return~(u<<o)}(r,i,1)}const Fr={},Ea="__NG_DI_FLAG__",Ri="ngTempTokenPath",sr=/\n/gm,cn="__source";let is;function ss(r){const i=is;return is=r,i}function Rn(r,i=We.Default){if(void 0===is)throw new ve(-203,!1);return null===is?zn(r,void 0,i):is.get(r,i&We.Optional?null:void 0,i)}function dn(r,i=We.Default){return(function In(){return xn}()||Rn)(K(r),i)}function Jr(r,i=We.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),dn(r,i)}function w(r){const i=[];for(let o=0;o<r.length;o++){const l=K(r[o]);if(Array.isArray(l)){if(0===l.length)throw new ve(900,!1);let u,h=We.Default;for(let m=0;m<l.length;m++){const v=l[m],E=A(v);"number"==typeof E?-1===E?u=v.token:h|=E:u=v}i.push(dn(u,h))}else i.push(dn(l))}return i}function D(r,i){return r[Ea]=i,r.prototype[Ea]=i,r}function A(r){return r[Ea]}const pe=D(Ws("Optional"),8),Je=D(Ws("SkipSelf"),4);var ei=(()=>((ei=ei||{})[ei.Important=1]="Important",ei[ei.DashCase=2]="DashCase",ei))();const wl=new Map;let Ih=0;const f="__ngContext__";function p(r,i){kn(i)?(r[f]=i[20],function Cp(r){wl.set(r[20],r)}(i)):r[f]=i}function Dl(r,i){return undefined(r,i)}function Oo(r){const i=r[3];return Tr(i)?i[3]:i}function xo(r){return Mh(r[13])}function qs(r){return Mh(r[4])}function Mh(r){for(;null!==r&&!Tr(r);)r=r[4];return r}function Sa(r,i,o,l,u){if(null!=l){let h,m=!1;Tr(l)?h=l:kn(l)&&(m=!0,l=l[0]);const v=gn(l);0===r&&null!==o?null==u?$_(i,o,v):Ma(i,o,v,u||null,!0):1===r&&null!==o?Ma(i,o,v,u||null,!0):2===r?function Oh(r,i,o){const l=Pi(r,i);l&&function bp(r,i,o,l){r.removeChild(i,o,l)}(r,l,i,o)}(i,v,m):3===r&&i.destroyNode(v),null!=h&&function mE(r,i,o,l,u){const h=o[7];h!==gn(o)&&Sa(i,r,l,h,u);for(let v=10;v<o.length;v++){const E=o[v];Tl(E[1],E,r,i,l,h)}}(i,r,h,o,u)}}function Jc(r,i,o){return r.createElement(i,o)}function L_(r,i){const o=r[9],l=o.indexOf(i),u=i[3];512&i[2]&&(i[2]&=-513,Cn(u,-1)),o.splice(l,1)}function wp(r,i){if(r.length<=10)return;const o=10+i,l=r[o];if(l){const u=l[17];null!==u&&u!==r&&L_(u,l),i>0&&(r[o-1][4]=l[4]);const h=ir(r,10+i);!function Il(r,i){Tl(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const m=h[19];null!==m&&m.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function V_(r,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&Tl(r,i,o,3,null,null),function cE(r){let i=r[13];if(!i)return Dp(r[1],r);for(;i;){let o=null;if(kn(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==r;)kn(i)&&Dp(i[1],i),i=i[3];null===i&&(i=r),kn(i)&&Dp(i[1],i),o=i&&i[4]}i=o}}(i)}}function Dp(r,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function pE(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const u=i[o[l]];if(!(u instanceof Rr)){const h=o[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=u[h[m]],E=h[m+1];try{E.call(v)}finally{}}else try{h.call(u)}finally{}}}}(r,i),function fE(r,i){const o=r.cleanup,l=i[7];let u=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],v="function"==typeof m?m(i):gn(i[m]),E=l[u=o[h+2]],b=o[h+3];"boolean"==typeof b?v.removeEventListener(o[h],E,b):b>=0?l[u=b]():l[u=-b].unsubscribe(),h+=2}else{const m=l[u=o[h+1]];o[h].call(m)}if(null!==l){for(let h=u+1;h<l.length;h++)(0,l[h])();i[7]=null}}(r,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&Tr(i[3])){o!==i[3]&&L_(o,i);const l=i[19];null!==l&&l.detachView(r)}!function Au(r){wl.delete(r[20])}(i)}}function U_(r,i,o){return function B_(r,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const u=r.data[l.directiveStart].encapsulation;if(u===ot.None||u===ot.Emulated)return null}return Zn(l,o)}(r,i.parent,o)}function Ma(r,i,o,l,u){r.insertBefore(i,o,l,u)}function $_(r,i,o){r.appendChild(i,o)}function Ip(r,i,o,l,u){null!==l?Ma(r,i,o,l,u):$_(r,i,o)}function Pi(r,i){return r.parentNode(i)}let Np,j_=function Ap(r,i,o){return 40&r.type?Zn(r,o):null};function Nh(r,i,o,l){const u=U_(r,l,i),h=i[11],v=function Tp(r,i,o){return j_(r,i,o)}(l.parent||i[6],l,i);if(null!=u)if(Array.isArray(o))for(let E=0;E<o.length;E++)Ip(h,u,o[E],v,!1);else Ip(h,u,o,v,!1)}function bl(r,i){if(null!==i){const o=i.type;if(3&o)return Zn(i,r);if(4&o)return Xc(-1,r[i.index]);if(8&o){const l=i.child;if(null!==l)return bl(r,l);{const u=r[i.index];return Tr(u)?Xc(-1,u):gn(u)}}if(32&o)return Dl(i,r)()||gn(r[i.index]);{const l=Mp(r,i);return null!==l?Array.isArray(l)?l[0]:bl(Oo(r[16]),l):bl(r,i.next)}}return null}function Mp(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Xc(r,i){const o=10+r+1;if(o<i.length){const l=i[o],u=l[1].firstChild;if(null!==u)return bl(l,u)}return i[7]}function ed(r,i,o,l,u,h,m){for(;null!=o;){const v=l[o.index],E=o.type;if(m&&0===i&&(v&&p(gn(v),l),o.flags|=4),64!=(64&o.flags))if(8&E)ed(r,i,o.child,l,u,h,!1),Sa(i,r,u,v,h);else if(32&E){const b=Dl(o,l);let R;for(;R=b();)Sa(i,r,u,R,h);Sa(i,r,u,v,h)}else 16&E?Pu(r,i,l,o,u,h):Sa(i,r,u,v,h);o=m?o.projectionNext:o.next}}function Tl(r,i,o,l,u,h){ed(o,l,r.firstChild,i,u,h,!1)}function Pu(r,i,o,l,u,h){const m=o[16],E=m[6].projection[l.projection];if(Array.isArray(E))for(let b=0;b<E.length;b++)Sa(i,r,u,E[b],h);else ed(r,i,E,m[3],u,h,!0)}function xh(r,i,o){r.setAttribute(i,"style",o)}function kh(r,i,o){""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o)}function vE(r){Np=r}class Vh{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Lo(r){return r instanceof Vh?r.changingThisBreaksApplicationSecurity:r}const sd=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var jn=(()=>((jn=jn||{})[jn.NONE=0]="NONE",jn[jn.HTML=1]="HTML",jn[jn.STYLE=2]="STYLE",jn[jn.SCRIPT=3]="SCRIPT",jn[jn.URL=4]="URL",jn[jn.RESOURCE_URL=5]="RESOURCE_URL",jn))();function Ou(r){const i=function Pa(){const r=be();return r&&r[12]}();return i?i.sanitize(jn.URL,r)||"":function Vo(r,i){const o=function TE(r){return r instanceof Vh&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(r,"URL")?Lo(r):function Sl(r){return(r=String(r)).match(sd)?r:"unsafe:"+r}(fe(r))}const Hh=new rn("ENVIRONMENT_INITIALIZER"),xu=new rn("INJECTOR",-1),Lp=new rn("INJECTOR_DEF_TYPES");class X_{get(i,o=Fr){if(o===Fr){const l=new Error(`NullInjectorError: No provider for ${oe(i)}!`);throw l.name="NullInjectorError",l}return o}}function BE(...r){return{\u0275providers:ey(0,r)}}function ey(r,...i){const o=[],l=new Set;let u;return gi(i,h=>{const m=h;Vp(m,o,[],l)&&(u||(u=[]),u.push(m))}),void 0!==u&&ty(u,o),o}function ty(r,i){for(let o=0;o<r.length;o++){const{providers:u}=r[o];gi(u,h=>{i.push(h)})}}function Vp(r,i,o,l){if(!(r=K(r)))return!1;let u=null,h=Qn(r);const m=!h&&S(r);if(h||m){if(m&&!m.standalone)return!1;u=r}else{const E=r.ngModule;if(h=Qn(E),!h)return!1;u=E}const v=l.has(u);if(m){if(v)return!1;if(l.add(u),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const b of E)Vp(b,i,o,l)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let b;l.add(u);try{gi(h.imports,R=>{Vp(R,i,o,l)&&(b||(b=[]),b.push(R))})}finally{}void 0!==b&&ty(b,i)}if(!v){const b=Jn(u)||(()=>new u);i.push({provide:u,useFactory:b,deps:gt},{provide:Lp,useValue:u,multi:!0},{provide:Hh,useValue:()=>dn(u),multi:!0})}const E=h.providers;null==E||v||gi(E,R=>{i.push(R)})}}return u!==r&&void 0!==r.providers}const $E=ue({provide:String,useValue:ue});function Bp(r){return null!==r&&"object"==typeof r&&$E in r}function Ml(r){return"function"==typeof r}const $p=new rn("Set Injector scope."),ud={},jE={};let jh;function cd(){return void 0===jh&&(jh=new X_),jh}class Na{}class Hp extends Na{constructor(i,o,l,u){super(),this.parent=o,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gh(i,m=>this.processProvider(m)),this.records.set(xu,ku(void 0,this)),u.has("environment")&&this.records.set(Na,ku(void 0,this));const h=this.records.get($p);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Lp.multi,gt,We.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=ss(this),l=Xt(void 0);try{return i()}finally{ss(o),Xt(l)}}get(i,o=Fr,l=We.Default){this.assertNotDestroyed();const u=ss(this),h=Xt(void 0);try{if(!(l&We.SkipSelf)){let v=this.records.get(i);if(void 0===v){const E=function sy(r){return"function"==typeof r||"object"==typeof r&&r instanceof rn}(i)&&xt(i);v=E&&this.injectableDefInScope(E)?ku(Wh(i),ud):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(l&We.Self?cd():this.parent).get(i,o=l&We.Optional&&o===Fr?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Ri]=m[Ri]||[]).unshift(oe(i)),u)throw m;return function U(r,i,o,l){const u=r[Ri];throw i[cn]&&u.unshift(i[cn]),r.message=function q(r,i,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let u=oe(i);if(Array.isArray(i))u=i.map(oe).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):oe(v)))}u=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${r.replace(sr,"\n  ")}`}("\n"+r.message,u,o,l),r.ngTokenPath=u,r[Ri]=null,r}(m,i,"R3InjectorError",this.source)}throw m}finally{Xt(h),ss(u)}}resolveInjectorInitializers(){const i=ss(this),o=Xt(void 0);try{const l=this.get(Hh.multi,gt,We.Self);for(const u of l)u()}finally{ss(i),Xt(o)}}toString(){const i=[],o=this.records;for(const l of o.keys())i.push(oe(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ve(205,!1)}processProvider(i){let o=Ml(i=K(i))?i:K(i&&i.provide);const l=function GE(r){return Bp(r)?ku(void 0,r.useValue):ku(iy(r),ud)}(i);if(Ml(i)||!0!==i.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=ku(void 0,ud,!0),u.factory=()=>w(u.multi),this.records.set(o,u)),o=i,u.multi.push(i)}this.records.set(o,l)}hydrate(i,o){return o.value===ud&&(o.value=jE,o.value=o.factory()),"object"==typeof o.value&&o.value&&function ZE(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=K(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Wh(r){const i=xt(r),o=null!==i?i.factory:Jn(r);if(null!==o)return o;if(r instanceof rn)throw new ve(204,!1);if(r instanceof Function)return function WE(r){const i=r.length;if(i>0)throw function ns(r,i){const o=[];for(let l=0;l<r;l++)o.push(i);return o}(i,"?"),new ve(204,!1);const o=function Ht(r){const i=r&&(r[cr]||r[Nr]);if(i){const o=function $n(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new ve(204,!1)}function iy(r,i,o){let l;if(Ml(r)){const u=K(r);return Jn(u)||Wh(u)}if(Bp(r))l=()=>K(r.useValue);else if(function ry(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...w(r.deps||[]));else if(function ny(r){return!(!r||!r.useExisting)}(r))l=()=>dn(K(r.useExisting));else{const u=K(r&&(r.useClass||r.provide));if(!function zE(r){return!!r.deps}(r))return Jn(u)||Wh(u);l=()=>new u(...w(r.deps))}return l}function ku(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function jp(r){return!!r.\u0275providers}function Gh(r,i){for(const o of r)Array.isArray(o)?Gh(o,i):jp(o)?Gh(o.\u0275providers,i):i(o)}class qE{}class YE{resolveComponentFactory(i){throw function KE(r){const i=Error(`No component factory found for ${oe(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let Oa=(()=>{class r{}return r.NULL=new YE,r})();function ly(){return xa(Fn(),be())}function xa(r,i){return new Rl(Zn(r,i))}let Rl=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=ly,r})();function QE(r){return r instanceof Rl?r.nativeElement:r}class dd{}let JE=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function XE(){const r=be(),o=$t(Fn().index,r);return(kn(o)?o:r)[11]}(),r})(),e0=(()=>{class r{}return r.\u0275prov=Ke({token:r,providedIn:"root",factory:()=>null}),r})();class uy{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const cy=new uy("14.2.12"),zh={};function Zh(r){return r.ngOriginalError}class ls{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Zh(i);for(;o&&Zh(o);)o=Zh(o);return o||null}}function Ks(r){return r instanceof Function?r():r}function Gp(r,i,o){let l=r.length;for(;;){const u=r.indexOf(i,o);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const h=i.length;if(u+h===l||r.charCodeAt(u+h)<=32)return u}o=u+1}}const Yh="ng-template";function l0(r,i,o){let l=0;for(;l<r.length;){let u=r[l++];if(o&&"class"===u){if(u=r[l],-1!==Gp(u.toLowerCase(),i,0))return!0}else if(1===u){for(;l<r.length&&"string"==typeof(u=r[l++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function hy(r){return 4===r.type&&r.value!==Yh}function u0(r,i,o){return i===(4!==r.type||o?r.value:Yh)}function fy(r,i,o){let l=4;const u=r.attrs||[],h=function py(r){for(let i=0;i<r.length;i++)if(Eo(r[i]))return i;return r.length}(u);let m=!1;for(let v=0;v<i.length;v++){const E=i[v];if("number"!=typeof E){if(!m)if(4&l){if(l=2|1&l,""!==E&&!u0(r,E,o)||""===E&&1===i.length){if(us(l))return!1;m=!0}}else{const b=8&l?E:i[++v];if(8&l&&null!==r.attrs){if(!l0(r.attrs,b,o)){if(us(l))return!1;m=!0}continue}const x=_I(8&l?"class":E,u,hy(r),o);if(-1===x){if(us(l))return!1;m=!0;continue}if(""!==b){let z;z=x>h?"":u[x+1].toLowerCase();const ee=8&l?z:null;if(ee&&-1!==Gp(ee,b,0)||2&l&&b!==z){if(us(l))return!1;m=!0}}}}else{if(!m&&!us(l)&&!us(E))return!1;if(m&&us(E))continue;m=!1,l=E|1&l}}return us(l)||m}function us(r){return 0==(1&r)}function _I(r,i,o,l){if(null===i)return-1;let u=0;if(l||!o){let h=!1;for(;u<i.length;){const m=i[u];if(m===r)return u;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=i[++u];for(;"string"==typeof v;)v=i[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=h?1:2}return-1}return function c0(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,r)}function fd(r,i,o=!1){for(let l=0;l<i.length;l++)if(fy(r,i[l],o))return!0;return!1}function zp(r,i){return r?":not("+i.trim()+")":i}function h0(r){let i=r[0],o=1,l=2,u="",h=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&l){const v=r[++o];u+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?u+="."+m:4&l&&(u+=" "+m);else""!==u&&!us(m)&&(i+=zp(h,u),u=""),l=m,h=h||!us(l);o++}return""!==u&&(i+=zp(h,u)),i}const Rt={};function gy(r){Zp(Ot(),be(),pn()+r,!1)}function Zp(r,i,o,l){if(!l)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&Ps(i,h,o)}else{const h=r.preOrderHooks;null!==h&&Ns(i,h,0,o)}hi(o)}function yy(r,i=null,o=null,l){const u=vy(r,i,o,l);return u.resolveInjectorInitializers(),u}function vy(r,i=null,o=null,l,u=new Set){const h=[o||gt,BE(r)];return l=l||("object"==typeof r?void 0:oe(r)),new Hp(h,i||cd(),l||null,u)}let Pl=(()=>{class r{static create(o,l){if(Array.isArray(o))return yy({name:""},l,o,"");{const u=o.name??"";return yy({name:u},o.parent,o.providers,u)}}}return r.THROW_IF_NOT_FOUND=Fr,r.NULL=new X_,r.\u0275prov=Ke({token:r,providedIn:"any",factory:()=>dn(xu)}),r.__NG_ELEMENT_ID__=-1,r})();function Nl(r,i=We.Default){const o=be();return null===o?dn(r,i):Ls(Fn(),o,K(r),i)}function Xh(){throw new Error("invalid")}function Uu(r,i){return r<<17|i<<2}function mi(r){return r>>17&32767}function eg(r){return 2|r}function Ho(r){return(131068&r)>>2}function tg(r,i){return-131069&r|i<<2}function ef(r){return 1|r}function pg(r,i){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const u=o[l],h=o[l+1];if(-1!==h){const m=r.data[h];ll(u),m.contentQueries(2,i[h],h)}}}function lf(r,i,o,l,u,h,m,v,E,b,R){const x=i.blueprint.slice();return x[0]=u,x[2]=76|l,(null!==R||r&&1024&r[2])&&(x[2]|=1024),uo(x),x[3]=x[15]=r,x[8]=o,x[10]=m||r&&r[10],x[11]=v||r&&r[11],x[12]=E||r&&r[12]||null,x[9]=b||r&&r[9]||null,x[6]=h,x[20]=function vp(){return Ih++}(),x[21]=R,x[16]=2==i.type?r[16]:x,x}function $u(r,i,o,l,u){let h=r.data[i];if(null===h)h=function uf(r,i,o,l,u){const h=As(),m=aa(),E=r.data[i]=function Uy(r,i,o,l,u,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,l,u);return null===r.firstChild&&(r.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E)),E}(r,i,o,l,u),function lu(){return It.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=l,h.attrs=u;const m=function oa(){const r=It.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return hr(h,!0),h}function Ol(r,i,o,l){if(0===o)return-1;const u=i.length;for(let h=0;h<o;h++)i.push(l),r.blueprint.push(l),r.data.push(null);return u}function cf(r,i,o){Rs(i);try{const l=r.viewQuery;null!==l&&Wy(1,l,o);const u=r.template;null!==u&&mg(r,i,u,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&pg(r,i),r.staticViewQueries&&Wy(2,r.viewQuery,o);const h=r.components;null!==h&&function M0(r,i){for(let o=0;o<i.length;o++)VI(r,i[o])}(i,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,Di()}}function vd(r,i,o,l){const u=i[2];if(128!=(128&u)){Rs(i);try{uo(i),function mo(r){return It.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&mg(r,i,o,2,l);const m=3==(3&u);if(m){const b=r.preOrderCheckHooks;null!==b&&Ps(i,b,null)}else{const b=r.preOrderHooks;null!==b&&Ns(i,b,0,null),pu(i,0)}if(function j0(r){for(let i=xo(r);null!==i;i=qs(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const u=o[l],h=u[3];0==(512&u[2])&&Cn(h,1),u[2]|=512}}}(i),function H0(r){for(let i=xo(r);null!==i;i=qs(i))for(let o=10;o<i.length;o++){const l=i[o],u=l[1];wi(l)&&vd(u,l,u.template,l[8])}}(i),null!==r.contentQueries&&pg(r,i),m){const b=r.contentCheckHooks;null!==b&&Ps(i,b)}else{const b=r.contentHooks;null!==b&&Ns(i,b,1),pu(i,1)}!function ky(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)hi(~u);else{const h=u,m=o[++l],v=o[++l];uu(m,h),v(2,i[h])}}}finally{hi(-1)}}(r,i);const v=r.components;null!==v&&function gg(r,i){for(let o=0;o<i.length;o++)LI(r,i[o])}(i,v);const E=r.viewQuery;if(null!==E&&Wy(2,E,l),m){const b=r.viewCheckHooks;null!==b&&Ps(i,b)}else{const b=r.viewHooks;null!==b&&Ns(i,b,2),pu(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,Cn(i[3],-1))}finally{Di()}}}function mg(r,i,o,l,u){const h=pn(),m=2&l;try{hi(-1),m&&i.length>22&&Zp(r,i,22,!1),o(l,u)}finally{hi(h)}}function _g(r,i,o){!Qi()||(function F0(r,i,o,l){const u=o.directiveStart,h=o.directiveEnd;r.firstCreatePass||pi(o,i),p(l,i);const m=o.initialInputs;for(let v=u;v<h;v++){const E=r.data[v],b=_r(E);b&&By(i,o,E);const R=Zr(i,r,v,o);p(R,i),null!==m&&B0(0,v-u,R,E,0,m),b&&($t(o.index,i)[8]=R)}}(r,i,o,Zn(o,i)),128==(128&o.flags)&&function OI(r,i,o){const l=o.directiveStart,u=o.directiveEnd,h=o.index,m=function Mc(){return It.lFrame.currentDirectiveIndex}();try{hi(h);for(let v=l;v<u;v++){const E=r.data[v],b=i[v];Ms(v),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&L0(E,b)}}finally{hi(-1),Ms(m)}}(r,i,o))}function Fy(r,i,o=Zn){const l=i.localNames;if(null!==l){let u=i.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],v=-1===m?o(i,r):r[m];r[u++]=v}}}function P0(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Cd(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Cd(r,i,o,l,u,h,m,v,E,b){const R=22+l,x=R+u,z=function MI(r,i){const o=[];for(let l=0;l<i;l++)o.push(l<r?null:Rt);return o}(R,x),ee="function"==typeof b?b():b;return z[1]={type:r,blueprint:z,template:o,queries:null,viewQuery:v,declTNode:i,data:z.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:ee,incompleteFirstPass:!1}}function Vy(r,i,o,l){const u=W0(i);null===o?u.push(l):(u.push(o),r.firstCreatePass&&G0(r).push(l,u.length-1))}function df(r,i,o){for(let l in r)if(r.hasOwnProperty(l)){const u=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,u):o[l]=[i,u]}return o}function Hu(r,i){const l=i.directiveEnd,u=r.data,h=i.attrs,m=[];let v=null,E=null;for(let b=i.directiveStart;b<l;b++){const R=u[b],x=R.inputs,z=null===h||hy(i)?null:$0(x,h);m.push(z),v=df(x,b,v),E=df(R.outputs,b,E)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=v,i.outputs=E}function N0(r,i){const o=$t(i,r);16&o[2]||(o[2]|=32)}function yg(r,i,o,l){let u=!1;if(Qi()){const h=function xI(r,i,o){const l=r.directiveRegistry;let u=null;if(l)for(let h=0;h<l.length;h++){const m=l[h];fd(o,m.selectors,!1)&&(u||(u=[]),Xi(pi(o,i),r,m.type),_r(m)?(V0(r,o),u.unshift(m)):u.push(m))}return u}(r,i,o),m=null===l?null:{"":-1};if(null!==h){u=!0,vg(o,r.data.length,h.length);for(let R=0;R<h.length;R++){const x=h[R];x.providersResolver&&x.providersResolver(x)}let v=!1,E=!1,b=Ol(r,i,h.length,null);for(let R=0;R<h.length;R++){const x=h[R];o.mergedAttrs=wo(o.mergedAttrs,x.hostAttrs),hf(r,o,i,b,x),U0(b,x,m),null!==x.contentQueries&&(o.flags|=8),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(o.flags|=128);const z=x.type.prototype;!v&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),v=!0),!E&&(z.ngOnChanges||z.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),E=!0),b++}Hu(r,o)}m&&function kI(r,i,o){if(i){const l=r.localNames=[];for(let u=0;u<i.length;u+=2){const h=o[i[u+1]];if(null==h)throw new ve(-301,!1);l.push(i[u],h)}}}(o,l,m)}return o.mergedAttrs=wo(o.mergedAttrs,o.attrs),u}function k0(r,i,o,l,u,h){const m=h.hostBindings;if(m){let v=r.hostBindingOpCodes;null===v&&(v=r.hostBindingOpCodes=[]);const E=~i.index;(function NI(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=E&&v.push(E),v.push(l,u,m)}}function L0(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function V0(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function U0(r,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=r;_r(i)&&(o[""]=r)}}function vg(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function hf(r,i,o,l,u){r.data[l]=u;const h=u.factory||(u.factory=Jn(u.type)),m=new Rr(h,_r(u),Nl);r.blueprint[l]=m,o[l]=m,k0(r,i,0,l,Ol(r,o,u.hostVars,Rt),u)}function By(r,i,o){const l=Zn(i,r),u=P0(o),h=r[10],m=Cg(r,lf(r,u,null,o.onPush?32:16,l,i,h,h.createRenderer(l,o),null,null,null));r[i.index]=m}function Wo(r,i,o,l,u,h){const m=Zn(r,i);!function Ed(r,i,o,l,u,h,m){if(null==h)r.removeAttribute(i,u,o);else{const v=null==m?fe(h):m(h,l||"",u);r.setAttribute(i,u,v,o)}}(i[11],m,h,r.value,o,l,u)}function B0(r,i,o,l,u,h){const m=h[i];if(null!==m){const v=l.setInput;for(let E=0;E<m.length;){const b=m[E++],R=m[E++],x=m[E++];null!==v?l.setInput(o,x,b,R):o[R]=x}}}function $0(r,i){let o=null,l=0;for(;l<i.length;){const u=i[l];if(0!==u)if(5!==u){if("number"==typeof u)break;r.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,r[u],i[l+1])),l+=2}else l+=2;else l+=4}return o}function $y(r,i,o,l){return new Array(r,!0,!1,i,null,0,l,o,null,null)}function LI(r,i){const o=$t(i,r);if(wi(o)){const l=o[1];48&o[2]?vd(l,o,l.template,o[8]):o[5]>0&&Hy(o)}}function Hy(r){for(let l=xo(r);null!==l;l=qs(l))for(let u=10;u<l.length;u++){const h=l[u];if(wi(h))if(512&h[2]){const m=h[1];vd(m,h,m.template,h[8])}else h[5]>0&&Hy(h)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const u=$t(o[l],r);wi(u)&&u[5]>0&&Hy(u)}}function VI(r,i){const o=$t(i,r),l=o[1];(function UI(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(l,o),cf(l,o,o[8])}function Cg(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function jy(r){for(;r;){r[2]|=32;const i=Oo(r);if(el(r)&&!i)return r;r=i}return null}function Eg(r,i,o,l=!0){const u=i[10];u.begin&&u.begin();try{vd(r,i,r.template,o)}catch(m){throw l&&z0(i,m),m}finally{u.end&&u.end()}}function Wy(r,i,o){ll(0),i(r,o)}function W0(r){return r[7]||(r[7]=[])}function G0(r){return r.cleanup||(r.cleanup=[])}function z0(r,i){const o=r[9],l=o?o.get(ls,null):null;l&&l.handleError(i)}function zy(r,i,o,l,u){for(let h=0;h<o.length;){const m=o[h++],v=o[h++],E=i[m],b=r.data[m];null!==b.setInput?b.setInput(E,u,l,v):E[v]=u}}function wg(r,i,o){let l=o?r.styles:null,u=o?r.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?h=v:1==h?u=de(u,v):2==h&&(l=de(l,v+": "+i[++m]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=u:r.classesWithoutHost=u}function Dg(r,i,o,l,u=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&l.push(gn(h)),Tr(h))for(let v=10;v<h.length;v++){const E=h[v],b=E[1].firstChild;null!==b&&Dg(E[1],E,b,l)}const m=o.type;if(8&m)Dg(r,i,o.child,l);else if(32&m){const v=Dl(o,i);let E;for(;E=v();)l.push(E)}else if(16&m){const v=Mp(i,o);if(Array.isArray(v))l.push(...v);else{const E=Oo(i[16]);Dg(E[1],E,v,l,!0)}}o=u?o.projectionNext:o.next}return l}class ff{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Dg(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Tr(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(wp(i,l),ir(o,l))}this._attachedToViewContainer=!1}V_(this._lView[1],this._lView)}onDestroy(i){Vy(this._lView[1],this._lView,null,i)}markForCheck(){jy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Eg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function F_(r,i){Tl(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ve(902,!1);this._appRef=i}}class BI extends ff{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Eg(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class Zy extends Oa{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=S(i);return new pf(o,this.ngModule)}}function Z0(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class HI{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,l){const u=this.injector.get(i,zh,l);return u!==zh||o===zh?u:this.parentInjector.get(i,o,l)}}class pf extends qE{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function f0(r){return r.map(h0).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Z0(this.componentDef.inputs)}get outputs(){return Z0(this.componentDef.outputs)}create(i,o,l,u){let h=(u=u||this.ngModule)instanceof Na?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new HI(i,h):i,v=m.get(dd,null);if(null===v)throw new ve(407,!1);const E=m.get(e0,null),b=v.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",x=l?function Ly(r,i,o){return r.selectRootElement(i,o===ot.ShadowDom)}(b,l,this.componentDef.encapsulation):Jc(b,R,function $I(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(R)),z=this.componentDef.onPush?288:272,ee=Cd(0,null,null,1,0,null,null,null,null,null),ye=lf(null,ee,null,z,null,null,v,b,E,m,null);let xe,Be;Rs(ye);try{const et=function GI(r,i,o,l,u,h){const m=o[1];o[22]=r;const E=$u(m,22,2,"#host",null),b=E.mergedAttrs=i.hostAttrs;null!==b&&(wg(E,b,!0),null!==r&&(fi(u,r,b),null!==E.classes&&kh(u,r,E.classes),null!==E.styles&&xh(u,r,E.styles)));const R=l.createRenderer(r,i),x=lf(o,P0(i),null,i.onPush?32:16,o[22],E,l,R,h||null,null,null);return m.firstCreatePass&&(Xi(pi(E,o),m,i.type),V0(m,E),vg(E,o.length,1)),Cg(o,x),o[22]=x}(x,this.componentDef,ye,v,b);if(x)if(l)fi(b,x,["ng-version",cy.full]);else{const{attrs:pt,classes:Re}=function p0(r){const i=[],o=[];let l=1,u=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===u?""!==h&&i.push(h,r[++l]):8===u&&o.push(h);else{if(!us(u))break;u=h}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);pt&&fi(b,x,pt),Re&&Re.length>0&&kh(b,x,Re.join(" "))}if(Be=Is(ee,22),void 0!==o){const pt=Be.projection=[];for(let Re=0;Re<this.ngContentSelectors.length;Re++){const Dt=o[Re];pt.push(null!=Dt?Array.from(Dt):null)}}xe=function zI(r,i,o,l){const u=o[1],h=function x0(r,i,o){const l=Fn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),hf(r,l,i,Ol(r,i,1,null),o),Hu(r,l));const u=Zr(i,r,l.directiveStart,l);p(u,i);const h=Zn(l,i);return h&&p(h,i),u}(u,o,i);if(r[8]=o[8]=h,null!==l)for(const v of l)v(h,i);if(i.contentQueries){const v=Fn();i.contentQueries(1,h,v.directiveStart)}const m=Fn();return!u.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(hi(m.index),k0(o[1],m,0,m.directiveStart,m.directiveEnd,i),L0(i,h)),h}(et,this.componentDef,ye,[ZI]),cf(ee,ye,null)}finally{Di()}return new WI(this.componentType,xe,xa(Be,ye),ye,Be)}}class WI extends class oy{}{constructor(i,o,l,u,h){super(),this.location=l,this._rootLView=u,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new BI(u),this.componentType=i}setInput(i,o){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[i])){const h=this._rootLView;zy(h[1],h,u,i,o),N0(h,this._tNode.index)}}get injector(){return new Us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function ZI(){const r=Fn();la(be()[1],r)}function qy(r){let i=function q0(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;i;){let u;if(_r(r))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ve(903,!1);u=i.\u0275dir}if(u){if(o){l.push(u);const m=r;m.inputs=Ky(r.inputs),m.declaredInputs=Ky(r.declaredInputs),m.outputs=Ky(r.outputs);const v=u.hostBindings;v&&QI(r,v);const E=u.viewQuery,b=u.contentQueries;if(E&&KI(r,E),b&&YI(r,b),ae(r.inputs,u.inputs),ae(r.declaredInputs,u.declaredInputs),ae(r.outputs,u.outputs),_r(u)&&u.data.animation){const R=r.data;R.animation=(R.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let m=0;m<h.length;m++){const v=h[m];v&&v.ngInherit&&v(r),v===qy&&(o=!1)}}i=Object.getPrototypeOf(i)}!function qI(r){let i=0,o=null;for(let l=r.length-1;l>=0;l--){const u=r[l];u.hostVars=i+=u.hostVars,u.hostAttrs=wo(u.hostAttrs,o=wo(o,u.hostAttrs))}}(l)}function Ky(r){return r===tr?{}:r===gt?[]:r}function KI(r,i){const o=r.viewQuery;r.viewQuery=o?(l,u)=>{i(l,u),o(l,u)}:i}function YI(r,i){const o=r.contentQueries;r.contentQueries=o?(l,u,h)=>{i(l,u,h),o(l,u,h)}:i}function QI(r,i){const o=r.hostBindings;r.hostBindings=o?(l,u)=>{i(l,u),o(l,u)}:i}let Ig=null;function ju(){if(!Ig){const r=Et.Symbol;if(r&&r.iterator)Ig=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Ig=l)}}}return Ig}function gf(r){return!!Yy(r)&&(Array.isArray(r)||!(r instanceof Map)&&ju()in r)}function Yy(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Br(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Dd(r,i,o,l){const u=be();return Br(u,_o(),i)&&(Ot(),Wo(un(),u,r,i,o,l)),Dd}function Qy(r,i,o,l,u,h,m,v){const E=be(),b=Ot(),R=r+22,x=b.firstCreatePass?function yf(r,i,o,l,u,h,m,v,E){const b=i.consts,R=$u(i,r,4,m||null,Mr(b,v));yg(i,o,R,Mr(b,E)),la(i,R);const x=R.tViews=Cd(2,R,l,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,b);return null!==i.queries&&(i.queries.template(i,R),x.queries=i.queries.embeddedTView(R)),R}(R,b,E,i,o,l,u,h,m):b.data[R];hr(x,!1);const z=E[11].createComment("");Nh(b,E,z,x),p(z,E),Cg(E,E[R]=$y(z,E,z,x)),so(x)&&_g(b,E,x),null!=m&&Fy(E,x,v)}function Ys(r){return Gr(function go(){return It.lFrame.contextLView}(),22+r)}function zo(r,i,o){const l=be();return Br(l,_o(),i)&&function Ur(r,i,o,l,u,h,m,v){const E=Zn(i,o);let R,b=i.inputs;!v&&null!=b&&(R=b[l])?(zy(r,o,R,l,u),Xa(i)&&N0(o,i.index)):3&i.type&&(l=function PI(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),u=null!=m?m(u,i.value||"",l):u,h.setProperty(E,l,u))}(Ot(),un(),l,r,i,l[11],o,!1),zo}function Ag(r,i,o,l,u){const m=u?"class":"style";zy(r,o,i.inputs[m],m,l)}function Ku(r,i,o,l){const u=be(),h=Ot(),m=22+r,v=u[11],E=u[m]=Jc(v,i,function dl(){return It.lFrame.currentNamespace}()),b=h.firstCreatePass?function Id(r,i,o,l,u,h,m){const v=i.consts,b=$u(i,r,2,u,Mr(v,h));return yg(i,o,b,Mr(v,m)),null!==b.attrs&&wg(b,b.attrs,!1),null!==b.mergedAttrs&&wg(b,b.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,b),b}(m,h,u,0,i,o,l):h.data[m];hr(b,!0);const R=b.mergedAttrs;null!==R&&fi(v,E,R);const x=b.classes;null!==x&&kh(v,E,x);const z=b.styles;return null!==z&&xh(v,E,z),64!=(64&b.flags)&&Nh(h,u,E,b),0===function ho(){return It.lFrame.elementDepthCount}()&&p(E,u),function au(){It.lFrame.elementDepthCount++}(),so(b)&&(_g(h,u,b),function R0(r,i,o){if(ys(i)){const u=i.directiveEnd;for(let h=i.directiveStart;h<u;h++){const m=r.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,b,u)),null!==l&&Fy(u,b),Ku}function bd(){let r=Fn();aa()?function Ss(){It.lFrame.isParent=!1}():(r=r.parent,hr(r,!1));const i=r;!function fo(){It.lFrame.elementDepthCount--}();const o=Ot();return o.firstCreatePass&&(la(o,r),ys(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function ca(r){return 0!=(16&r.flags)}(i)&&Ag(o,i,be(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function da(r){return 0!=(32&r.flags)}(i)&&Ag(o,i,be(),i.stylesWithoutHost,!1),bd}function er(r,i,o,l){return Ku(r,i,o,l),bd(),er}function ev(){return be()}function Rg(r){return!!r&&"function"==typeof r.then}function tv(r){return!!r&&"function"==typeof r.subscribe}const Pg=tv;function $a(r,i,o,l){const u=be(),h=Ot(),m=Fn();return function rv(r,i,o,l,u,h,m,v){const E=so(l),R=r.firstCreatePass&&G0(r),x=i[8],z=W0(i);let ee=!0;if(3&l.type||v){const Be=Zn(l,i),et=v?v(Be):Be,pt=z.length,Re=v?Jt=>v(gn(Jt[l.index])):l.index;let Dt=null;if(!v&&E&&(Dt=function Td(r,i,o,l){const u=r.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const m=u[h];if(m===o&&u[h+1]===l){const v=i[7],E=u[h+2];return v.length>E?v[E]:null}"string"==typeof m&&(h+=2)}return null}(r,i,u,l.index)),null!==Dt)(Dt.__ngLastListenerFn__||Dt).__ngNextListenerFn__=h,Dt.__ngLastListenerFn__=h,ee=!1;else{h=Yu(l,i,x,h,!1);const Jt=o.listen(et,u,h);z.push(h,Jt),R&&R.push(u,Re,pt,pt+1)}}else h=Yu(l,i,x,h,!1);const ye=l.outputs;let xe;if(ee&&null!==ye&&(xe=ye[u])){const Be=xe.length;if(Be)for(let et=0;et<Be;et+=2){const Nn=i[xe[et]][xe[et+1]].subscribe(h),Ir=z.length;z.push(h,Nn),R&&R.push(u,l.index,Ir,-(Ir+1))}}}(h,u,u[11],m,r,i,0,l),$a}function iv(r,i,o,l){try{return!1!==o(l)}catch(u){return z0(r,u),!1}}function Yu(r,i,o,l,u){return function h(m){if(m===Function)return l;jy(2&r.flags?$t(r.index,i):i);let E=iv(i,0,l,m),b=h.__ngNextListenerFn__;for(;b;)E=iv(i,0,b,m)&&E,b=b.__ngNextListenerFn__;return u&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function Ad(r=1){return function Ii(r){return(It.lFrame.contextLView=function hu(r,i){for(;r>0;)i=i[15],r--;return i}(r,It.lFrame.contextLView))[8]}(r)}function wf(r,i,o,l,u){const h=r[o+1],m=null===i;let v=l?mi(h):Ho(h),E=!1;for(;0!==v&&(!1===E||m);){const R=r[v+1];Y0(r[v],i)&&(E=!0,r[v+1]=l?ef(R):eg(R)),v=l?mi(R):Ho(R)}E&&(r[o+1]=l?eg(h):ef(h))}function Y0(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Qr(r,i)>=0}function Wg(r,i){return function hs(r,i,o,l){const u=be(),h=Ot(),m=function di(r){const i=It.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);h.firstUpdatePass&&function zg(r,i,o,l){const u=r.data;if(null===u[o+1]){const h=u[pn()],m=function Vl(r,i){return i>=r.expandoStartIndex}(r,o);(function pv(r,i){return 0!=(r.flags&(i?16:32))})(h,l)&&null===i&&!m&&(i=!1),i=function rw(r,i,o,l){const u=function al(r){const i=It.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=l?i.residualClasses:i.residualStyles;if(null===u)0===(l?i.classBindings:i.styleBindings)&&(o=Ju(o=Sd(null,r,i,o,l),i.attrs,l),h=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==u)if(o=Sd(u,r,i,o,l),null===h){let E=function iw(r,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==Ho(l))return r[mi(l)]}(r,i,l);void 0!==E&&Array.isArray(E)&&(E=Sd(null,r,i,E[1],l),E=Ju(E,i.attrs,l),function sw(r,i,o,l){r[mi(o?i.classBindings:i.styleBindings)]=l}(r,i,l,E))}else h=function ow(r,i,o){let l;const u=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<u;h++)l=Ju(l,r[h].hostAttrs,o);return Ju(l,i.attrs,o)}(r,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),o}(u,h,i,l),function Vg(r,i,o,l,u,h){let m=h?i.classBindings:i.styleBindings,v=mi(m),E=Ho(m);r[l]=o;let R,b=!1;if(Array.isArray(o)){const x=o;R=x[1],(null===R||Qr(x,R)>0)&&(b=!0)}else R=o;if(u)if(0!==E){const z=mi(r[v+1]);r[l+1]=Uu(z,v),0!==z&&(r[z+1]=tg(r[z+1],l)),r[v+1]=function E0(r,i){return 131071&r|i<<17}(r[v+1],l)}else r[l+1]=Uu(v,0),0!==v&&(r[v+1]=tg(r[v+1],l)),v=l;else r[l+1]=Uu(E,0),0===v?v=l:r[E+1]=tg(r[E+1],l),E=l;b&&(r[l+1]=eg(r[l+1])),wf(r,R,l,!0),wf(r,R,l,!1),function Ug(r,i,o,l,u){const h=u?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&Qr(h,i)>=0&&(o[l+1]=ef(o[l+1]))}(i,R,r,l,h),m=Uu(v,E),h?i.classBindings=m:i.styleBindings=m}(u,h,i,o,m,l)}}(h,r,m,l),i!==Rt&&Br(u,m,i)&&function qg(r,i,o,l,u,h,m,v){if(!(3&i.type))return;const E=r.data,b=E[v+1];Md(function Bu(r){return 1==(1&r)}(b)?Kg(E,i,o,u,Ho(b),m):void 0)||(Md(h)||function by(r){return 2==(2&r)}(b)&&(h=Kg(E,null,o,u,v,m)),function _E(r,i,o,l,u){if(i)u?r.addClass(o,l):r.removeClass(o,l);else{let h=-1===l.indexOf("-")?void 0:ei.DashCase;null==u?r.removeStyle(o,l,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=ei.Important),r.setStyle(o,l,u,h))}}(l,m,xr(pn(),o),u,h))}(h,h.data[pn()],u,u[11],r,u[m+1]=function fv(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=oe(Lo(r)))),r}(i,o),l,m)}(r,i,null,!0),Wg}function Sd(r,i,o,l,u){let h=null;const m=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<m&&(h=i[v],l=Ju(l,h.hostAttrs,u),h!==r);)v++;return null!==r&&(o.directiveStylingLast=v),l}function Ju(r,i,o){const l=o?1:2;let u=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?u=m:u===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ct(r,m,!!o||i[++h]))}return void 0===r?null:r}function Kg(r,i,o,l,u,h){const m=null===i;let v;for(;u>0;){const E=r[u],b=Array.isArray(E),R=b?E[1]:E,x=null===R;let z=o[u+1];z===Rt&&(z=x?gt:void 0);let ee=x?vl(z,l):R===l?z:void 0;if(b&&!Md(ee)&&(ee=vl(E,l)),Md(ee)&&(v=ee,m))return v;const ye=r[u+1];u=m?mi(ye):Ho(ye)}if(null!==i){let E=h?i.residualClasses:i.residualStyles;null!=E&&(v=vl(E,l))}return v}function Md(r){return void 0!==r}function Yg(r,i=""){const o=be(),l=Ot(),u=r+22,h=l.firstCreatePass?$u(l,u,1,i,null):l.data[u],m=o[u]=function Rh(r,i){return r.createText(i)}(o[11],i);Nh(l,o,m,h),hr(h,!1)}function Df(r){return Rd("",r,""),Df}function Rd(r,i,o){const l=be(),u=function Gu(r,i,o,l){return Br(r,_o(),o)?i+fe(o)+l:Rt}(l,r,i,o);return u!==Rt&&function La(r,i,o){const l=xr(i,r);!function Ep(r,i,o){r.setValue(i,o)}(r[11],l,o)}(l,pn(),u),Rd}const Xs=void 0;var gw=["en",[["a","p"],["AM","PM"],Xs],[["AM","PM"],Xs,Xs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xs,"{1} 'at' {0}",Xs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ps(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let ur={};function Fd(r){const i=function Xu(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=sm(i);if(o)return o;const l=i.split("-")[0];if(o=sm(l),o)return o;if("en"===l)return gw;throw new ve(701,!1)}function Ev(r){return Fd(r)[mt.PluralCase]}function sm(r){return r in ur||(ur[r]=Et.ng&&Et.ng.common&&Et.ng.common.locales&&Et.ng.common.locales[r]),ur[r]}var mt=(()=>((mt=mt||{})[mt.LocaleId=0]="LocaleId",mt[mt.DayPeriodsFormat=1]="DayPeriodsFormat",mt[mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",mt[mt.DaysFormat=3]="DaysFormat",mt[mt.DaysStandalone=4]="DaysStandalone",mt[mt.MonthsFormat=5]="MonthsFormat",mt[mt.MonthsStandalone=6]="MonthsStandalone",mt[mt.Eras=7]="Eras",mt[mt.FirstDayOfWeek=8]="FirstDayOfWeek",mt[mt.WeekendRange=9]="WeekendRange",mt[mt.DateFormat=10]="DateFormat",mt[mt.TimeFormat=11]="TimeFormat",mt[mt.DateTimeFormat=12]="DateTimeFormat",mt[mt.NumberSymbols=13]="NumberSymbols",mt[mt.NumberFormats=14]="NumberFormats",mt[mt.CurrencyCode=15]="CurrencyCode",mt[mt.CurrencySymbol=16]="CurrencySymbol",mt[mt.CurrencyName=17]="CurrencyName",mt[mt.Currencies=18]="Currencies",mt[mt.Directionality=19]="Directionality",mt[mt.PluralCase=20]="PluralCase",mt[mt.ExtraData=21]="ExtraData",mt))();const ec="en-US";let Ld=ec;function wm(r,i,o,l,u){if(r=K(r),Array.isArray(r))for(let h=0;h<r.length;h++)wm(r[h],i,o,l,u);else{const h=Ot(),m=be();let v=Ml(r)?r:K(r.provide),E=iy(r);const b=Fn(),R=1048575&b.providerIndexes,x=b.directiveStart,z=b.providerIndexes>>20;if(Ml(r)||!r.multi){const ee=new Rr(E,u,Nl),ye=xf(v,i,u?R:R+z,x);-1===ye?(Xi(pi(b,m),h,v),Dm(h,r,i.length),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(ee),m.push(ee)):(o[ye]=ee,m[ye]=ee)}else{const ee=xf(v,i,R+z,x),ye=xf(v,i,R,R+z),xe=ee>=0&&o[ee],Be=ye>=0&&o[ye];if(u&&!Be||!u&&!xe){Xi(pi(b,m),h,v);const et=function kw(r,i,o,l,u){const h=new Rr(r,o,Nl);return h.multi=[],h.index=i,h.componentProviders=0,Im(h,u,l&&!o),h}(u?xw:Ow,o.length,u,l,E);!u&&Be&&(o[ye].providerFactory=et),Dm(h,r,i.length,0),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(et),m.push(et)}else Dm(h,r,ee>-1?ee:ye,Im(o[u?ye:ee],E,!u&&l));!u&&l&&Be&&o[ye].componentProviders++}}}function Dm(r,i,o,l){const u=Ml(i),h=function HE(r){return!!r.useClass}(i);if(u||h){const E=(h?K(i.useClass):i).prototype.ngOnDestroy;if(E){const b=r.destroyHooks||(r.destroyHooks=[]);if(!u&&i.multi){const R=b.indexOf(o);-1===R?b.push(o,[l,E]):b[R+1].push(l,E)}else b.push(o,E)}}}function Im(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function xf(r,i,o,l){for(let u=o;u<l;u++)if(i[u]===r)return u;return-1}function Ow(r,i,o,l){return bm(this.multi,[])}function xw(r,i,o,l){const u=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Zr(o,o[1],this.providerFactory.index,l);h=v.slice(0,m),bm(u,h);for(let E=m;E<v.length;E++)h.push(v[E])}else h=[],bm(u,h);return h}function bm(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function Fv(r,i=[]){return o=>{o.providersResolver=(l,u)=>function Nw(r,i,o){const l=Ot();if(l.firstCreatePass){const u=_r(r);wm(o,l.data,l.blueprint,u,!0),wm(i,l.data,l.blueprint,u,!1)}}(l,u?u(r):r,i)}}class uc{}class $d{}function Tm(r,i){return new Hd(r,i??null)}class Hd extends uc{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zy(this);const l=Ye(i);this._bootstrapComponents=Ks(l.bootstrap),this._r3Injector=vy(i,o,[{provide:uc,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver}],oe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Am extends $d{constructor(i){super(),this.moduleType=i}create(i){return new Hd(this.moduleType,i)}}class Sm extends uc{constructor(i,o,l){super(),this.componentFactoryResolver=new Zy(this),this.instance=null;const u=new Hp([...i,{provide:uc,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver}],o||cd(),l,new Set(["environment"]));this.injector=u,u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function kf(r,i,o=null){return new Sm(r,i,o).injector}let Lv=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=ey(0,o.type),u=l.length>0?kf([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,u)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Ke({token:r,providedIn:"environment",factory:()=>new r(dn(Na))}),r})();function Vv(r){r.getStandaloneInjector=i=>i.get(Lv).getOrCreateStandaloneInjector(r)}function qv(r,i,o,l,u,h){const m=i+o;return Br(r,m,u)?function Go(r,i,o){return r[i]=o}(r,m+1,h?l.call(h,u):l(u)):function cc(r,i){const o=r[i];return o===Rt?void 0:o}(r,m+1)}function Qv(r,i){const o=Ot();let l;const u=r+22;o.firstCreatePass?(l=function Zw(r,i){if(i)for(let o=i.length-1;o>=0;o--){const l=i[o];if(r===l.name)return l}}(i,o.pipeRegistry),o.data[u]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(u,l.onDestroy)):l=o.data[u];const h=l.factory||(l.factory=Jn(l.type)),m=Xt(Nl);try{const v=Do(!1),E=h();return Do(v),function Ba(r,i,o,l){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),i[o]=l}(o,be(),u,E),E}finally{Xt(m)}}function Qo(r,i,o){const l=r+22,u=be(),h=Gr(u,l);return function Za(r,i){return r[1].data[i].pure}(u,l)?qv(u,function Ln(){const r=It.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}(),i,h.transform,o,h):h.transform(o)}function Om(r){return i=>{setTimeout(r,void 0,i)}}const to=class Kw extends d.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){let u=i,h=o||(()=>null),m=l;if(i&&"object"==typeof i){const E=i;u=E.next?.bind(E),h=E.error?.bind(E),m=E.complete?.bind(E)}this.__isAsync&&(h=Om(h),u&&(u=Om(u)),m&&(m=Om(m)));const v=super.subscribe({next:u,error:h,complete:m});return i instanceof B.w0&&i.add(v),v}};function eC(){return this._results[ju()]()}class jd{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ju(),l=jd.prototype;l[o]||(l[o]=eC)}get changes(){return this._changes||(this._changes=new to)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const u=on(i);(this._changesDetected=!function Yr(r,i,o){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let u=r[l],h=i[l];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wd=(()=>{class r{}return r.__NG_ELEMENT_ID__=Yw,r})();const qa=Wd,Gd=class extends qa{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i,o){const l=this._declarationTContainer.tViews,u=lf(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null,o||null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(l)),cf(l,u,i),new ff(u)}};function Yw(){return Hf(Fn(),be())}function Hf(r,i){return 4&r.type?new Gd(i,r,xa(r,i)):null}let jf=(()=>{class r{}return r.__NG_ELEMENT_ID__=Wf,r})();function Wf(){return rC(Fn(),be())}const tC=jf,nC=class extends tC{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return xa(this._hostTNode,this._hostLView)}get injector(){return new Us(this._hostTNode,this._hostLView)}get parentInjector(){const i=Io(this._hostTNode,this._hostLView);if(xc(i)){const o=bi(i,this._hostLView),l=Vn(i);return new Us(o[1].data[l+8],o)}return new Us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Gf(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){let u,h;"number"==typeof l?u=l:null!=l&&(u=l.index,h=l.injector);const m=i.createEmbeddedView(o||{},h);return this.insert(m,u),m}createComponent(i,o,l,u,h){const m=i&&!function Kr(r){return"function"==typeof r}(i);let v;if(m)v=o;else{const x=o||{};v=x.index,l=x.injector,u=x.projectableNodes,h=x.environmentInjector||x.ngModuleRef}const E=m?i:new pf(S(i)),b=l||this.parentInjector;if(!h&&null==E.ngModule){const z=(m?b:this.parentInjector).get(Na,null);z&&(h=z)}const R=E.create(b,u,void 0,h);return this.insert(R.hostView,v),R}insert(i,o){const l=i._lView,u=l[1];if(function sl(r){return Tr(r[3])}(l)){const R=this.indexOf(i);if(-1!==R)this.detach(R);else{const x=l[3],z=new nC(x,x[6],x[3]);z.detach(z.indexOf(i))}}const h=this._adjustIndex(o),m=this._lContainer;!function dE(r,i,o,l){const u=10+l,h=o.length;l>0&&(o[u-1][4]=i),l<h-10?(i[4]=o[u],ts(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function hE(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const v=i[19];null!==v&&v.insertView(r),i[2]|=64}(u,l,m,h);const v=Xc(h,m),E=l[11],b=Pi(E,m[7]);return null!==b&&function Ph(r,i,o,l,u,h){l[0]=u,l[6]=i,Tl(r,l,o,1,u,h)}(u,m[6],E,l,b,v),i.attachToViewContainerRef(),ts(dc(m),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Gf(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=wp(this._lContainer,o);l&&(ir(dc(this._lContainer),o),V_(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=wp(this._lContainer,o);return l&&null!=ir(dc(this._lContainer),o)?new ff(l):null}_adjustIndex(i,o=0){return i??this.length+o}};function Gf(r){return r[8]}function dc(r){return r[8]||(r[8]=[])}function rC(r,i){let o;const l=i[r.index];if(Tr(l))o=l;else{let u;if(8&r.type)u=gn(l);else{const h=i[11];u=h.createComment("");const m=Zn(r,i);Ma(h,Pi(h,m),u,function Ru(r,i){return r.nextSibling(i)}(h,m),!1)}i[r.index]=o=$y(l,i,u,r),Cg(i,o)}return new nC(o,r,i)}class zf{constructor(i){this.queryList=i,this.matches=null}clone(){return new zf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zl{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let h=0;h<l;h++){const m=o.getByIndex(h);u.push(this.queries[m.indexInDeclarationView].clone())}return new Zl(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==qf(i,o).matches&&this.queries[o].setDirty()}}class zd{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class Zd{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(i,u);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new Zd(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class qd{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new qd(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const h=l[u];this.matchTNodeWithReadOption(i,o,xm(o,h)),this.matchTNodeWithReadOption(i,o,To(o,i,h,!1,!1))}else l===Wd?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,To(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===Rl||u===jf||u===Wd&&4&o.type)this.addMatch(o.index,-2);else{const h=To(o,i,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function xm(r,i){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function Kd(r,i,o,l){return-1===o?function Jw(r,i){return 11&r.type?xa(r,i):4&r.type?Hf(r,i):null}(i,r):-2===o?function Xw(r,i,o){return o===Rl?xa(i,r):o===Wd?Hf(i,r):o===jf?rC(i,r):void 0}(r,i,l):Zr(r,r[1],o,i)}function sC(r,i,o,l){const u=i[19].queries[l];if(null===u.matches){const h=r.data,m=o.matches,v=[];for(let E=0;E<m.length;E+=2){const b=m[E];v.push(b<0?null:Kd(i,h[b],m[E+1],o.metadata.read))}u.matches=v}return u.matches}function km(r,i,o,l){const u=r.queries.getByIndex(o),h=u.matches;if(null!==h){const m=sC(r,i,u,o);for(let v=0;v<h.length;v+=2){const E=h[v];if(E>0)l.push(m[v/2]);else{const b=h[v+1],R=i[-E];for(let x=10;x<R.length;x++){const z=R[x];z[17]===z[3]&&km(z[1],z,b,l)}if(null!==R[9]){const x=R[9];for(let z=0;z<x.length;z++){const ee=x[z];km(ee[1],ee,b,l)}}}}}return l}function Zf(r){const i=be(),o=Ot(),l=yo();ll(l+1);const u=qf(o,l);if(r.dirty&&function il(r){return 4==(4&r[2])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const h=u.crossesNgTemplate?km(o,i,l,[]):sC(o,i,u,l);r.reset(h,QE),r.notifyOnChanges()}return!0}return!1}function oC(r,i,o,l){const u=Ot();if(u.firstCreatePass){const h=Fn();(function Vm(r,i,o){null===r.queries&&(r.queries=new Zd),r.queries.track(new qd(i,o))})(u,new zd(i,o,l),h.index),function Um(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(u,r),2==(2&o)&&(u.staticContentQueries=!0)}!function aC(r,i,o){const l=new jd(4==(4&o));Vy(r,i,l,l.destroy),null===i[19]&&(i[19]=new Zl),i[19].queries.push(new zf(l))}(u,be(),o)}function Lm(){return function eD(r,i){return r[19].queries[i].queryList}(be(),yo())}function qf(r,i){return r.queries.getByIndex(i)}function _c(...r){}const IC=new rn("Application Initializer");let Xo=(()=>{class r{constructor(o){this.appInits=o,this.resolve=_c,this.reject=_c,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(Rg(h))o.push(h);else if(Pg(h)){const m=new Promise((v,E)=>{h.subscribe({complete:v,error:E})});o.push(m)}}Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(dn(IC,8))},r.\u0275prov=Ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const bC=new rn("AppId",{providedIn:"root",factory:function t_(){return`${Jf()}${Jf()}${Jf()}`}});function Jf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xd=new rn("Platform Initializer"),n_=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xf=new rn("appBootstrapListener");let r_=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ke({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const eh=new rn("LocaleId",{providedIn:"root",factory:()=>Jr(eh,We.Optional|We.SkipSelf)||function cD(){return typeof $localize<"u"&&$localize.locale||ec}()}),dD=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class AC{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let ni=(()=>{class r{compileModuleSync(o){return new Am(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),h=Ks(Ye(o).declarations).reduce((m,v)=>{const E=S(v);return E&&m.push(new pf(E)),m},[]);return new AC(l,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Yl=(()=>Promise.resolve(0))();function MC(r){typeof Zone>"u"?Yl.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class vi{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new to(!1),this.onMicrotaskEmpty=new to(!1),this.onStable=new to(!1),this.onError=new to(!1),typeof Zone>"u")throw new ve(908,!1);Zone.assertZonePatched();const u=this;if(u._nesting=0,u._outer=u._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;u._inner=u._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function pD(){let r=Et.requestAnimationFrame,i=Et.cancelAnimationFrame;if(typeof Zone<"u"&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function RC(r){const i=()=>{!function gD(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Et,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,s_(r),r.isCheckStableRunning=!0,i_(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),s_(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,h,m,v)=>{try{return yc(r),o.invokeTask(u,h,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),th(r)}},onInvoke:(o,l,u,h,m,v,E)=>{try{return yc(r),o.invoke(u,h,m,v,E)}finally{r.shouldCoalesceRunChangeDetection&&i(),th(r)}},onHasTask:(o,l,u,h)=>{o.hasTask(u,h),l===u&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,s_(r),i_(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,u,h)=>(o.handleError(u,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vi.isInAngularZone())throw new ve(909,!1)}static assertNotInAngularZone(){if(vi.isInAngularZone())throw new ve(909,!1)}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,u){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+u,i,np,_c,_c);try{return h.runTask(m,o,l)}finally{h.cancelTask(m)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const np={};function i_(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function s_(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function yc(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function th(r){r._nesting--,i_(r)}class nh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new to,this.onMicrotaskEmpty=new to,this.onStable=new to,this.onError=new to}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,u){return i.apply(o,l)}}const rh=new rn(""),o_=new rn("");let rp,PC=(()=>{class r{constructor(o,l,u){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rp||(function NC(r){rp=r}(u),u.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vi.assertNotInAngularZone(),MC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())MC(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,u){return[]}}return r.\u0275fac=function(o){return new(o||r)(dn(vi),dn(a_),dn(o_))},r.\u0275prov=Ke({token:r,factory:r.\u0275fac}),r})(),a_=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return rp?.findTestabilityInTree(this,o,l)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ke({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),pr=null;const l_=new rn("AllowMultipleToken"),u_=new rn("PlatformDestroyListeners");class vD{constructor(i,o){this.name=i,this.token=o}}function xC(r,i,o=[]){const l=`Platform: ${i}`,u=new rn(l);return(h=[])=>{let m=c_();if(!m||m.injector.get(l_,!1)){const v=[...o,...h,{provide:u,useValue:!0}];r?r(v):function CD(r){if(pr&&!pr.get(l_,!1))throw new ve(400,!1);pr=r;const i=r.get(FC);(function OC(r){const i=r.get(Xd,null);i&&i.forEach(o=>o())})(r)}(function kC(r=[],i){return Pl.create({name:i,providers:[{provide:$p,useValue:"platform"},{provide:u_,useValue:new Set([()=>pr=null])},...r]})}(v,l))}return function wD(r){const i=c_();if(!i)throw new ve(401,!1);return i}()}}function c_(){return pr?.get(FC)??null}let FC=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const u=function VC(r,i){let o;return o="noop"===r?new nh:("zone.js"===r?void 0:r)||new vi(i),o}(l?.ngZone,function LC(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),h=[{provide:vi,useValue:u}];return u.run(()=>{const m=Pl.create({providers:h,parent:this.injector,name:o.moduleType.name}),v=o.create(m),E=v.injector.get(ls,null);if(!E)throw new ve(402,!1);return u.runOutsideAngular(()=>{const b=u.onError.subscribe({next:R=>{E.handleError(R)}});v.onDestroy(()=>{ri(this._modules,v),b.unsubscribe()})}),function UC(r,i,o){try{const l=o();return Rg(l)?l.catch(u=>{throw i.runOutsideAngular(()=>r.handleError(u)),u}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(E,u,()=>{const b=v.injector.get(Xo);return b.runInitializers(),b.donePromise.then(()=>(function bf(r){Pe(r,"Expected localeId to be defined"),"string"==typeof r&&(Ld=r.toLowerCase().replace(/_/g,"-"))}(v.injector.get(eh,ec)||ec),this._moduleDoBootstrap(v),v))})})}bootstrapModule(o,l=[]){const u=BC({},l);return function mD(r,i,o){const l=new Am(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const l=o.injector.get(ip);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new ve(403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ve(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(u_,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(dn(Pl))},r.\u0275prov=Ke({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function BC(r,i){return Array.isArray(i)?i.reduce(BC,r):{...r,...i}}let ip=(()=>{class r{constructor(o,l,u){this._zone=o,this._injector=l,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new P.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),m=new P.y(v=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{vi.assertNotInAngularZone(),MC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{vi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{E.unsubscribe(),b.unsubscribe()}});this.isStable=(0,te.T)(h,m.pipe((0,re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const u=o instanceof qE;if(!this._injector.get(Xo).done)throw!u&&Ne(o),new ve(405,false);let m;m=u?o:this._injector.get(Oa).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const v=function yD(r){return r.isBoundToModule}(m)?void 0:this._injector.get(uc),b=m.create(Pl.NULL,[],l||m.selector,v),R=b.location.nativeElement,x=b.injector.get(rh,null);return x?.registerApplication(R),b.onDestroy(()=>{this.detachView(b.hostView),ri(this.components,b),x?.unregisterApplication(R)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new ve(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;ri(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Xf,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>ri(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ve(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(dn(vi),dn(Na),dn(ls))},r.\u0275prov=Ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ri(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let h_=!0,HC=!1;function jC(){return HC=!0,h_}function DD(){if(HC)throw new Error("Cannot enable prod mode after platform setup.");h_=!1}let GC=(()=>{class r{}return r.__NG_ELEMENT_ID__=ID,r})();function ID(r){return function bD(r,i,o){if(Xa(r)&&!o){const l=$t(r.index,i);return new ff(l,l)}return 47&r.type?new ff(i[16],i):null}(Fn(),be(),16==(16&r))}class YC{constructor(){}supports(i){return gf(i)}create(i){return new Mb(i)}}const PD=(r,i)=>i;class Mb{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||PD}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,u=0,h=null;for(;o||l;){const m=!l||o&&o.currentIndex<OD(l,u,h)?o:l,v=OD(m,u,h),E=m.currentIndex;if(m===l)u--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)u++;else{h||(h=[]);const b=v-u,R=E-u;if(b!=R){for(let z=0;z<b;z++){const ee=z<h.length?h[z]:h[z]=0,ye=ee+z;R<=ye&&ye<b&&(h[z]=ee+1)}h[m.previousIndex]=R-b}}v!==E&&i(m,v,E)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!gf(i))throw new ve(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,m,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)h=i[v],m=this._trackByFn(v,h),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,h,m,v)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,v),l=!0),o=o._next}else u=0,function nb(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[ju()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,v=>{m=this._trackByFn(u,v),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,v,m,u)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,u)):i=this._addAfter(new Rb(o,l),h,u),i}_verifyReinsertion(i,o,l,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new ND),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ND),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Rb{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Pb{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class ND{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new Pb,this.map.set(o,l)),l.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OD(r,i,o){const l=r.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+i+u}class xD{constructor(){}supports(i){return i instanceof Map||Yy(i)}create(){return new Nb}}class Nb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Yy(i)))throw new ve(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const h=u._prev,m=u._next;return h&&(h._next=m),m&&(m._prev=h),u._next=null,u._prev=null,u}const l=new Ob(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class Ob{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kD(){return new QC([new YC])}let QC=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||kD()),deps:[[r,new Je,new pe]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new ve(901,!1)}}return r.\u0275prov=Ke({token:r,providedIn:"root",factory:kD}),r})();function FD(){return new JC([new xD])}let JC=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||FD()),deps:[[r,new Je,new pe]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(l)return l;throw new ve(901,!1)}}return r.\u0275prov=Ke({token:r,providedIn:"root",factory:FD}),r})();const LD=xC(null,"core",[]);let Fb=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(dn(ip))},r.\u0275mod=Bt({type:r}),r.\u0275inj=it({}),r})();function Lb(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(rt,we,O)=>{O.d(we,{Z:()=>ve});var d=O(2090),B=O(4859),P=O(9681),te=O(1877);class re{constructor(fe,le){this._delegate=fe,this.firebase=le,(0,P._addComponent)(fe,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(fe,le=P._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(fe);return!Ge.isInitialized()&&"EXPLICIT"===(null===(He=Ge.getComponent())||void 0===He?void 0:He.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:le})}_removeServiceInstance(fe,le=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(le)}_addComponent(fe){(0,P._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,P._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function de(){const ze=function oe(ze){const fe={},le={__esModule:!0,initializeApp:function De(X,se={}){const he=P.initializeApp(X,se);if((0,d.r3)(fe,he.name))return fe[he.name];const Ve=new ze(he,le);return fe[he.name]=Ve,Ve},app:Ge,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function ge(X){const se=X.name,he=se.replace("-compat","");if(P._registerComponent(X)&&"PUBLIC"===X.type){const Ve=(Ue=Ge())=>{if("function"!=typeof Ue[he])throw ae.create("invalid-app-argument",{appName:se});return Ue[he]()};void 0!==X.serviceProps&&(0,d.ZB)(Ve,X.serviceProps),le[he]=Ve,ze.prototype[he]=function(...Ue){return this._getService.bind(this,se).apply(this,X.multipleInstances?Ue:[])}}return"PUBLIC"===X.type?le[he]:null},removeApp:function He(X){delete fe[X]},useAsService:function Fe(X,se){return"serverAuth"===se?null:se},modularAPIs:P}};function Ge(X){if(!(0,d.r3)(fe,X=X||P._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:X});return fe[X]}return le.default=le,Object.defineProperty(le,"apps",{get:function Ie(){return Object.keys(fe).map(X=>fe[X])}}),Ge.App=ze,le}(re);return ze.INTERNAL=Object.assign(Object.assign({},ze.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function fe(le){(0,d.ZB)(ze,le)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),ze}(),W=new te.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ze=self.firebase.SDK_VERSION;ze&&ze.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ve=G;!function Ae(ze){(0,P.registerVersion)("@firebase/app-compat","0.2.1",ze)}()},9681:(rt,we,O)=>{O.r(we),O.d(we,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>Qn,_DEFAULT_ENTRY_NAME:()=>Pe,_addComponent:()=>jt,_addOrOverwriteComponent:()=>Ke,_apps:()=>tt,_clearComponents:()=>yn,_components:()=>Ct,_getProvider:()=>it,_registerComponent:()=>at,_removeServiceInstance:()=>xt,deleteApp:()=>Wr,getApp:()=>vn,getApps:()=>Nr,initializeApp:()=>cr,onLog:()=>In,registerVersion:()=>xn,setLogLevel:()=>Xt});var d=O(5861),B=O(4859),P=O(1877),te=O(2090),re=O(8766);class ue{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(qe=>{if(function ae(Ze){return"VERSION"===Ze.getComponent()?.type}(qe)){const ht=qe.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(qe=>qe).join(" ")}}const oe="@firebase/app",G=new P.Yd("@firebase/app"),Pe="[DEFAULT]",_e={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,Ct=new Map;function jt(Ze,Ce){try{Ze.container.addComponent(Ce)}catch(qe){G.debug(`Component ${Ce.name} failed to register with FirebaseApp ${Ze.name}`,qe)}}function Ke(Ze,Ce){Ze.container.addOrOverwriteComponent(Ce)}function at(Ze){const Ce=Ze.name;if(Ct.has(Ce))return G.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ct.set(Ce,Ze);for(const qe of tt.values())jt(qe,Ze);return!0}function it(Ze,Ce){const qe=Ze.container.getProvider("heartbeat").getImmediate({optional:!0});return qe&&qe.triggerHeartbeat(),Ze.container.getProvider(Ce)}function xt(Ze,Ce,qe=Pe){it(Ze,Ce).clearInstance(qe)}function yn(){Ct.clear()}const Ht=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $n{constructor(Ce,qe,ht){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},qe),this._name=qe.name,this._automaticDataCollectionEnabled=qe.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Ht.create("app-deleted",{appName:this._name})}}const Qn="9.16.0";function cr(Ze,Ce={}){let qe=Ze;"object"!=typeof Ce&&(Ce={name:Ce});const ht=Object.assign({name:Pe,automaticDataCollectionEnabled:!1},Ce),vt=ht.name;if("string"!=typeof vt||!vt)throw Ht.create("bad-app-name",{appName:String(vt)});if(qe||(qe=(0,te.aH)()),!qe)throw Ht.create("no-options");const Bt=tt.get(vt);if(Bt){if((0,te.vZ)(qe,Bt.options)&&(0,te.vZ)(ht,Bt.config))return Bt;throw Ht.create("duplicate-app",{appName:vt})}const j=new B.H0(vt);for(const Z of Ct.values())j.addComponent(Z);const $=new $n(qe,ht,j);return tt.set(vt,$),$}function vn(Ze=Pe){const Ce=tt.get(Ze);if(!Ce&&Ze===Pe)return cr();if(!Ce)throw Ht.create("no-app",{appName:Ze});return Ce}function Nr(){return Array.from(tt.values())}function Wr(Ze){return We.apply(this,arguments)}function We(){return(We=(0,d.Z)(function*(Ze){const Ce=Ze.name;tt.has(Ce)&&(tt.delete(Ce),yield Promise.all(Ze.container.getProviders().map(qe=>qe.delete())),Ze.isDeleted=!0)})).apply(this,arguments)}function xn(Ze,Ce,qe){var ht;let vt=null!==(ht=_e[Ze])&&void 0!==ht?ht:Ze;qe&&(vt+=`-${qe}`);const Bt=vt.match(/\s|\//),j=Ce.match(/\s|\//);if(Bt||j){const $=[`Unable to register library "${vt}" with version "${Ce}":`];return Bt&&$.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),Bt&&j&&$.push("and"),j&&$.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void G.warn($.join(" "))}at(new B.wA(`${vt}-version`,()=>({library:vt,version:Ce}),"VERSION"))}function In(Ze,Ce){if(null!==Ze&&"function"!=typeof Ze)throw Ht.create("invalid-log-argument");(0,P.Am)(Ze,Ce)}function Xt(Ze){(0,P.Ub)(Ze)}const en="firebase-heartbeat-store";let tn=null;function qt(){return tn||(tn=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(Ze,Ce)=>{0===Ce&&Ze.createObjectStore(en)}}).catch(Ze=>{throw Ht.create("idb-open",{originalErrorMessage:Ze.message})})),tn}function ot(){return(ot=(0,d.Z)(function*(Ze){try{return(yield qt()).transaction(en).objectStore(en).get(bn(Ze))}catch(Ce){if(Ce instanceof te.ZR)G.warn(Ce.message);else{const qe=Ht.create("idb-get",{originalErrorMessage:Ce?.message});G.warn(qe.message)}}})).apply(this,arguments)}function Et(Ze,Ce){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(Ze,Ce){try{const ht=(yield qt()).transaction(en,"readwrite");return yield ht.objectStore(en).put(Ce,bn(Ze)),ht.done}catch(qe){if(qe instanceof te.ZR)G.warn(qe.message);else{const ht=Ht.create("idb-set",{originalErrorMessage:qe?.message});G.warn(ht.message)}}})).apply(this,arguments)}function bn(Ze){return`${Ze.name}!${Ze.options.appId}`}class nr{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const qe=this.container.getProvider("app").getImmediate();this._storage=new kt(qe),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var Ce=this;return(0,d.Z)(function*(){const ht=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=bt();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==vt&&!Ce._heartbeatsCache.heartbeats.some(Bt=>Bt.date===vt))return Ce._heartbeatsCache.heartbeats.push({date:vt,agent:ht}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Bt=>{const j=new Date(Bt.date).valueOf();return Date.now()-j<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,d.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const qe=bt(),{heartbeatsToSend:ht,unsentEntries:vt}=function gr(Ze,Ce=1024){const qe=[];let ht=Ze.slice();for(const vt of Ze){const Bt=qe.find(j=>j.agent===vt.agent);if(Bt){if(Bt.dates.push(vt.date),Hn(qe)>Ce){Bt.dates.pop();break}}else if(qe.push({agent:vt.agent,dates:[vt.date]}),Hn(qe)>Ce){qe.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:qe,unsentEntries:ht}}(Ce._heartbeatsCache.heartbeats),Bt=(0,te.L)(JSON.stringify({version:2,heartbeats:ht}));return Ce._heartbeatsCache.lastSentHeartbeatDate=qe,vt.length>0?(Ce._heartbeatsCache.heartbeats=vt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Bt})()}}function bt(){return(new Date).toISOString().substring(0,10)}class kt{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,d.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function st(Ze){return ot.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var qe=this;return(0,d.Z)(function*(){var ht;if(yield qe._canUseIndexedDBPromise){const Bt=yield qe.read();return Et(qe.app,{lastSentHeartbeatDate:null!==(ht=Ce.lastSentHeartbeatDate)&&void 0!==ht?ht:Bt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var qe=this;return(0,d.Z)(function*(){var ht;if(yield qe._canUseIndexedDBPromise){const Bt=yield qe.read();return Et(qe.app,{lastSentHeartbeatDate:null!==(ht=Ce.lastSentHeartbeatDate)&&void 0!==ht?ht:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...Ce.heartbeats]})}})()}}function Hn(Ze){return(0,te.L)(JSON.stringify({version:2,heartbeats:Ze})).length}!function ln(Ze){at(new B.wA("platform-logger",Ce=>new ue(Ce),"PRIVATE")),at(new B.wA("heartbeat",Ce=>new nr(Ce),"PRIVATE")),xn(oe,"0.9.1",Ze),xn(oe,"0.9.1","esm2017"),xn("fire-js","")}("")},4859:(rt,we,O)=>{O.d(we,{H0:()=>oe,wA:()=>P,zt:()=>re});var d=O(5861),B=O(2090);class P{constructor(G,W,K){this.name=G,this.instanceFactory=W,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const te="[DEFAULT]";class re{constructor(G,W){this.name=G,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const W=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(W)){const K=new B.BH;if(this.instancesDeferred.set(W,K),this.isInitialized(W)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:W});ke&&K.resolve(ke)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(G){var W;const K=this.normalizeInstanceIdentifier(G?.identifier),ke=null!==(W=G?.optional)&&void 0!==W&&W;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ae){if(ke)return null;throw Ae}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ae(de){return"EAGER"===de.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[W,K]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(W);try{const Ae=this.getOrInitializeService({instanceIdentifier:ke});K.resolve(Ae)}catch{}}}}clearInstance(G=te){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,d.Z)(function*(){const W=Array.from(G.instances.values());yield Promise.all([...W.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...W.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=te){return this.instances.has(G)}getOptions(G=te){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:W={}}=G,K=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:K,options:W});for(const[Ae,ve]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ae)&&ve.resolve(ke);return ke}onInit(G,W){var K;const ke=this.normalizeInstanceIdentifier(W),Ae=null!==(K=this.onInitCallbacks.get(ke))&&void 0!==K?K:new Set;Ae.add(G),this.onInitCallbacks.set(ke,Ae);const ve=this.instances.get(ke);return ve&&G(ve,ke),()=>{Ae.delete(G)}}invokeOnInitCallbacks(G,W){const K=this.onInitCallbacks.get(W);if(K)for(const ke of K)try{ke(G,W)}catch{}}getOrInitializeService({instanceIdentifier:G,options:W={}}){let K=this.instances.get(G);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(de=G,de===te?void 0:de),options:W}),this.instances.set(G,K),this.instancesOptions.set(G,W),this.invokeOnInitCallbacks(K,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,K)}catch{}var de;return K||null}normalizeInstanceIdentifier(G=te){return this.component?this.component.multipleInstances?G:te:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const W=this.getProvider(G.name);if(W.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);W.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const W=new re(G,this);return this.providers.set(G,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,we,O)=>{O.d(we,{Am:()=>de,Ub:()=>oe,Yd:()=>ae,in:()=>B});const d=[];var B=(()=>{return(G=B||(B={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",B;var G})();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},te=B.INFO,re={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ue=(G,W,...K)=>{if(W<G.logLevel)return;const ke=(new Date).toISOString(),Ae=re[W];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ae](`[${ke}]  ${G.name}:`,...K)};class ae{constructor(W){this.name=W,this._logLevel=te,this._logHandler=ue,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in B))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?P[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...W),this._logHandler(this,B.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...W),this._logHandler(this,B.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,B.INFO,...W),this._logHandler(this,B.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,B.WARN,...W),this._logHandler(this,B.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...W),this._logHandler(this,B.ERROR,...W)}}function oe(G){d.forEach(W=>{W.setLogLevel(G)})}function de(G,W){for(const K of d){let ke=null;W&&W.level&&(ke=P[W.level]),K.userLogHandler=null===G?null:(Ae,ve,...ze)=>{const fe=ze.map(le=>{if(null==le)return null;if("string"==typeof le)return le;if("number"==typeof le||"boolean"==typeof le)return le.toString();if(le instanceof Error)return le.message;try{return JSON.stringify(le)}catch{return null}}).filter(le=>le).join(" ");ve>=(ke??Ae.logLevel)&&G({level:B[ve].toLowerCase(),message:fe,args:ze,type:Ae.name})}}}},259:(rt,we,O)=>{O.d(we,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=O(9681);(0,d.registerVersion)("firebase","9.16.0","app")},9260:(rt,we,O)=>{O.d(we,{Z:()=>d.Z});var d=O(3942);d.Z.registerVersion("firebase","9.16.0","app-compat")},9568:(rt,we,O)=>{O.r(we);var d=O(5861),B=O(3942),P=O(1808),te=O(2090),ae=(O(9681),O(1877),O(4859));function oe(){return window}function W(){return(W=(0,d.Z)(function*(L,S,k){var Q;const{BuildInfo:Ne}=oe();(0,P.ap)(S.sessionId,"AuthEvent did not contain a session ID");const Ye=yield le(S.sessionId),Xe={};return(0,P.aq)()?Xe.ibi=Ne.packageName:(0,P.ar)()?Xe.apn=Ne.packageName:(0,P.as)(L,"operation-not-supported-in-this-environment"),Ne.displayName&&(Xe.appDisplayName=Ne.displayName),Xe.sessionId=Ye,(0,P.at)(L,k,S.type,void 0,null!==(Q=S.eventId)&&void 0!==Q?Q:void 0,Xe)})).apply(this,arguments)}function ke(){return(ke=(0,d.Z)(function*(L){const{BuildInfo:S}=oe(),k={};(0,P.aq)()?k.iosBundleId=S.packageName:(0,P.ar)()?k.androidPackageName=S.packageName:(0,P.as)(L,"operation-not-supported-in-this-environment"),yield(0,P.au)(L,k)})).apply(this,arguments)}function ze(){return(ze=(0,d.Z)(function*(L,S,k){const{cordova:Q}=oe();let Ne=()=>{};try{yield new Promise((Ye,Xe)=>{let Ee=null;function Oe(){var Tt;Ye();const zt=null===(Tt=Q.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof zt&&zt(),"function"==typeof k?.close&&k.close()}function wt(){Ee||(Ee=window.setTimeout(()=>{Xe((0,P.aw)(L,"redirect-cancelled-by-user"))},2e3))}function Gt(){"visible"===document?.visibilityState&&wt()}S.addPassiveListener(Oe),document.addEventListener("resume",wt,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",Gt,!1),Ne=()=>{S.removePassiveListener(Oe),document.removeEventListener("resume",wt,!1),document.removeEventListener("visibilitychange",Gt,!1),Ee&&window.clearTimeout(Ee)}})}finally{Ne()}})).apply(this,arguments)}function le(L){return He.apply(this,arguments)}function He(){return(He=(0,d.Z)(function*(L){const S=Ge(L),k=yield crypto.subtle.digest("SHA-256",S);return Array.from(new Uint8Array(k)).map(Ne=>Ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ge(L){if((0,P.ap)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const S=new ArrayBuffer(L.length),k=new Uint8Array(S);for(let Q=0;Q<L.length;Q++)k[Q]=L.charCodeAt(Q);return k}class Ie extends P.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(S=>{this.resolveInialized=S})}addPassiveListener(S){this.passiveListeners.add(S)}removePassiveListener(S){this.passiveListeners.delete(S)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(S){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(S)),super.onEvent(S)}initialized(){var S=this;return(0,d.Z)(function*(){yield S.initPromise})()}}function X(L){return se.apply(this,arguments)}function se(){return(se=(0,d.Z)(function*(L){const S=yield Ue()._get(yt(L));return S&&(yield Ue()._remove(yt(L))),S})).apply(this,arguments)}function Ve(){const L=[],S="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<20;k++){const Q=Math.floor(Math.random()*S.length);L.push(S.charAt(Q))}return L.join("")}function Ue(){return(0,P.az)(P.b)}function yt(L){return(0,P.aA)("authEvent",L.config.apiKey,L.name)}function ce(L){if(!L?.includes("?"))return{};const[S,...k]=L.split("?");return(0,te.zd)(k.join("?"))}function _e(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function at(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function xt(L=(0,te.z$)()){return!("file:"!==at()&&"ionic:"!==at()&&"capacitor:"!==at()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qn(){try{const L=self.localStorage,S=P.aI();if(L)return L.setItem(S,"1"),L.removeItem(S),!function $n(L=(0,te.z$)()){return function fn(){return(0,te.w1)()&&11===document?.documentMode}()||function Ht(L=(0,te.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,te.hl)()}catch{return cr()&&(0,te.hl)()}return!1}function cr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vn(){return(function it(){return"http:"===at()||"https:"===at()}()||(0,te.ru)()||xt())&&!function yn(){return(0,te.b$)()||(0,te.UG)()}()&&Qn()&&!cr()}function Nr(){return xt()&&typeof document<"u"}function We(){return(We=(0,d.Z)(function*(){return!!Nr()&&new Promise(L=>{const S=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(S),L(!0)})})})).apply(this,arguments)}const In={LOCAL:"local",NONE:"none",SESSION:"session"},Xt=P.ax,zn="persistence";function en(L){return tn.apply(this,arguments)}function tn(){return(tn=(0,d.Z)(function*(L){yield L._initializationPromise;const S=st(),k=P.aA(zn,L.config.apiKey,L.name);S&&S.setItem(k,L._getPersistence())})).apply(this,arguments)}function st(){var L;try{return(null===(L=function xn(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const ot=P.ax;class Et{constructor(){this.browserResolver=P.az(P.k),this.cordovaResolver=P.az(class Se{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(S){var k=this;return(0,d.Z)(function*(){const Q=S._key();let Ne=k.eventManagers.get(Q);return Ne||(Ne=new Ie(S),k.eventManagers.set(Q,Ne),k.attachCallbackListeners(S,Ne)),Ne})()}_openPopup(S){(0,P.as)(S,"operation-not-supported-in-this-environment")}_openRedirect(S,k,Q,Ne){var Ye=this;return(0,d.Z)(function*(){!function fe(L){var S,k,Q,Ne,Ye,Xe,Ee,Oe,wt,Gt;const Tt=oe();(0,P.ax)("function"==typeof(null===(S=Tt?.universalLinks)||void 0===S?void 0:S.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(k=Tt?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(Ye=null===(Ne=null===(Q=Tt?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===Ye?void 0:Ye.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Oe=null===(Ee=null===(Xe=Tt?.cordova)||void 0===Xe?void 0:Xe.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===Oe?void 0:Oe.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Gt=null===(wt=Tt?.cordova)||void 0===wt?void 0:wt.InAppBrowser)||void 0===Gt?void 0:Gt.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(S);const Xe=yield Ye._initialize(S);yield Xe.initialized(),Xe.resetRedirect(),(0,P.aD)(),yield Ye._originValidation(S);const Ee=function ge(L,S,k=null){return{type:S,eventId:k,urlResponse:null,sessionId:Ve(),postBody:null,tenantId:L.tenantId,error:(0,P.aw)(L,"no-auth-event")}}(S,Q,Ne);yield function Fe(L,S){return Ue()._set(yt(L),S)}(S,Ee);const Oe=yield function G(L,S,k){return W.apply(this,arguments)}(S,Ee,k),wt=yield function Ae(L){const{cordova:S}=oe();return new Promise(k=>{S.plugins.browsertab.isAvailable(Q=>{let Ne=null;Q?S.plugins.browsertab.openUrl(L):Ne=S.InAppBrowser.open(L,(0,P.av)()?"_blank":"_system","location=yes"),k(Ne)})})}(Oe);return function ve(L,S,k){return ze.apply(this,arguments)}(S,Xe,wt)})()}_isIframeWebStorageSupported(S,k){throw new Error("Method not implemented.")}_originValidation(S){const k=S._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function K(L){return ke.apply(this,arguments)}(S)),this.originValidationPromises[k]}attachCallbackListeners(S,k){const{universalLinks:Q,handleOpenURL:Ne,BuildInfo:Ye}=oe(),Xe=setTimeout((0,d.Z)(function*(){yield X(S),k.onEvent(_e())}),500),Ee=function(){var Gt=(0,d.Z)(function*(Tt){clearTimeout(Xe);const zt=yield X(S);let si=null;zt&&Tt?.url&&(si=function he(L,S){var k,Q;const Ne=function ie(L){const S=ce(L),k=S.link?decodeURIComponent(S.link):void 0,Q=ce(k).link,Ne=S.deep_link_id?decodeURIComponent(S.deep_link_id):void 0;return ce(Ne).link||Ne||Q||k||L}(S);if(Ne.includes("/__/auth/callback")){const Ye=ce(Ne),Xe=Ye.firebaseError?function je(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(Ye.firebaseError)):null,Ee=null===(Q=null===(k=Xe?.code)||void 0===k?void 0:k.split("auth/"))||void 0===Q?void 0:Q[1],Oe=Ee?(0,P.aw)(Ee):null;return Oe?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:Ne,postBody:null}}return null}(zt,Tt.url)),k.onEvent(si||_e())});return function(zt){return Gt.apply(this,arguments)}}();typeof Q<"u"&&"function"==typeof Q.subscribe&&Q.subscribe(null,Ee);const Oe=Ne,wt=`${Ye.packageName.toLowerCase()}://`;oe().handleOpenURL=function(){var Gt=(0,d.Z)(function*(Tt){if(Tt.toLowerCase().startsWith(wt)&&Ee({url:Tt}),"function"==typeof Oe)try{Oe(Tt)}catch(zt){console.error(zt)}});return function(Tt){return Gt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(S){var k=this;return(0,d.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(S)})()}_openPopup(S,k,Q,Ne){var Ye=this;return(0,d.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openPopup(S,k,Q,Ne)})()}_openRedirect(S,k,Q,Ne){var Ye=this;return(0,d.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openRedirect(S,k,Q,Ne)})()}_isIframeWebStorageSupported(S,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(S,k)}_originValidation(S){return this.assertedUnderlyingResolver._originValidation(S)}get _shouldInitProactively(){return Nr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ot(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var S=this;return(0,d.Z)(function*(){if(S.underlyingResolver)return;const k=yield function Wr(){return We.apply(this,arguments)}();S.underlyingResolver=k?S.cordovaResolver:S.browserResolver})()}}function dr(L){return L.unwrap()}function tr(L){return nr(L)}function nr(L){const{_tokenResponse:S}=L instanceof te.ZR?L.customData:L;if(!S)return null;if(!(L instanceof te.ZR)&&"temporaryProof"in S&&"phoneNumber"in S)return P.P.credentialFromResult(L);const k=S.providerId;if(!k||k===P.o.PASSWORD)return null;let Q;switch(k){case P.o.GOOGLE:Q=P.Q;break;case P.o.FACEBOOK:Q=P.N;break;case P.o.GITHUB:Q=P.T;break;case P.o.TWITTER:Q=P.W;break;default:const{oauthIdToken:Ne,oauthAccessToken:Ye,oauthTokenSecret:Xe,pendingToken:Ee,nonce:Oe}=S;return Ye||Xe||Ne||Ee?Ee?k.startsWith("saml.")?P.aL._create(k,Ee):P.J._fromParams({providerId:k,signInMethod:k,pendingToken:Ee,idToken:Ne,accessToken:Ye}):new P.U(k).credential({idToken:Ne,accessToken:Ye,rawNonce:Oe}):null}return L instanceof te.ZR?Q.credentialFromError(L):Q.credentialFromResult(L)}function bt(L,S){return S.catch(k=>{throw k instanceof te.ZR&&function gt(L,S){var k;const Q=null===(k=S.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===S?.code)S.resolver=new Hn(L,P.an(L,S));else if(Q){const Ne=nr(S),Ye=S;Ne&&(Ye.credential=Ne,Ye.tenantId=Q.tenantId||void 0,Ye.email=Q.email||void 0,Ye.phoneNumber=Q.phoneNumber||void 0)}}(L,k),k}).then(k=>{const Ne=k.user;return{operationType:k.operationType,credential:tr(k),additionalUserInfo:P.al(k),user:ln.getOrCreate(Ne)}})}function gr(L,S){return kt.apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(L,S){const k=yield S;return{verificationId:k.verificationId,confirm:Q=>bt(L,k.confirm(Q))}})).apply(this,arguments)}class Hn{constructor(S,k){this.resolver=k,this.auth=function bn(L){return L.wrapped()}(S)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(S){return bt(dr(this.auth),this.resolver.resolveSignIn(S))}}class ln{constructor(S){this._delegate=S,this.multiFactor=P.ao(S)}static getOrCreate(S){return ln.USER_MAP.has(S)||ln.USER_MAP.set(S,new ln(S)),ln.USER_MAP.get(S)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(S){return this._delegate.getIdTokenResult(S)}getIdToken(S){return this._delegate.getIdToken(S)}linkAndRetrieveDataWithCredential(S){return this.linkWithCredential(S)}linkWithCredential(S){var k=this;return(0,d.Z)(function*(){return bt(k.auth,P.Z(k._delegate,S))})()}linkWithPhoneNumber(S,k){var Q=this;return(0,d.Z)(function*(){return gr(Q.auth,P.l(Q._delegate,S,k))})()}linkWithPopup(S){var k=this;return(0,d.Z)(function*(){return bt(k.auth,P.d(k._delegate,S,Et))})()}linkWithRedirect(S){var k=this;return(0,d.Z)(function*(){return yield en(P.aE(k.auth)),P.g(k._delegate,S,Et)})()}reauthenticateAndRetrieveDataWithCredential(S){return this.reauthenticateWithCredential(S)}reauthenticateWithCredential(S){var k=this;return(0,d.Z)(function*(){return bt(k.auth,P._(k._delegate,S))})()}reauthenticateWithPhoneNumber(S,k){return gr(this.auth,P.r(this._delegate,S,k))}reauthenticateWithPopup(S){return bt(this.auth,P.e(this._delegate,S,Et))}reauthenticateWithRedirect(S){var k=this;return(0,d.Z)(function*(){return yield en(P.aE(k.auth)),P.h(k._delegate,S,Et)})()}sendEmailVerification(S){return P.ab(this._delegate,S)}unlink(S){var k=this;return(0,d.Z)(function*(){return yield P.ak(k._delegate,S),k})()}updateEmail(S){return P.ag(this._delegate,S)}updatePassword(S){return P.ah(this._delegate,S)}updatePhoneNumber(S){return P.u(this._delegate,S)}updateProfile(S){return P.af(this._delegate,S)}verifyBeforeUpdateEmail(S,k){return P.ac(this._delegate,S,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ln.USER_MAP=new WeakMap;const Ze=P.ax;let Ce=(()=>{class L{constructor(k,Q){if(this.app=k,Q.isInitialized())return this._delegate=Q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ne}=k.options;Ze(Ne,"invalid-api-key",{appName:k.name}),Ze(Ne,"invalid-api-key",{appName:k.name});const Ye=typeof window<"u"?Et:void 0;this._delegate=Q.initialize({options:{persistence:ht(Ne,k.name),popupRedirectResolver:Ye}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ln.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,Q){P.G(this._delegate,k,Q)}applyActionCode(k){return P.a2(this._delegate,k)}checkActionCode(k){return P.a3(this._delegate,k)}confirmPasswordReset(k,Q){return P.a1(this._delegate,k,Q)}createUserWithEmailAndPassword(k,Q){var Ne=this;return(0,d.Z)(function*(){return bt(Ne._delegate,P.a5(Ne._delegate,k,Q))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return P.aa(this._delegate,k)}isSignInWithEmailLink(k){return P.a8(this._delegate,k)}getRedirectResult(){var k=this;return(0,d.Z)(function*(){Ze(vn(),k._delegate,"operation-not-supported-in-this-environment");const Q=yield P.j(k._delegate,Et);return Q?bt(k._delegate,Promise.resolve(Q)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function tt(L,S){(0,P.aE)(L)._logFramework(S)}(this._delegate,k)}onAuthStateChanged(k,Q,Ne){const{next:Ye,error:Xe,complete:Ee}=qe(k,Q,Ne);return this._delegate.onAuthStateChanged(Ye,Xe,Ee)}onIdTokenChanged(k,Q,Ne){const{next:Ye,error:Xe,complete:Ee}=qe(k,Q,Ne);return this._delegate.onIdTokenChanged(Ye,Xe,Ee)}sendSignInLinkToEmail(k,Q){return P.a7(this._delegate,k,Q)}sendPasswordResetEmail(k,Q){return P.a0(this._delegate,k,Q||void 0)}setPersistence(k){var Q=this;return(0,d.Z)(function*(){let Ne;switch(function Hi(L,S){Xt(Object.values(In).includes(S),L,"invalid-persistence-type"),(0,te.b$)()?Xt(S!==In.SESSION,L,"unsupported-persistence-type"):(0,te.UG)()?Xt(S===In.NONE,L,"unsupported-persistence-type"):cr()?Xt(S===In.NONE||S===In.LOCAL&&(0,te.hl)(),L,"unsupported-persistence-type"):Xt(S===In.NONE||Qn(),L,"unsupported-persistence-type")}(Q._delegate,k),k){case In.SESSION:Ne=P.a;break;case In.LOCAL:Ne=(yield P.az(P.i)._isAvailable())?P.i:P.b;break;case In.NONE:Ne=P.L;break;default:return P.as("argument-error",{appName:Q._delegate.name})}return Q._delegate.setPersistence(Ne)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return bt(this._delegate,P.X(this._delegate))}signInWithCredential(k){return bt(this._delegate,P.Y(this._delegate,k))}signInWithCustomToken(k){return bt(this._delegate,P.$(this._delegate,k))}signInWithEmailAndPassword(k,Q){return bt(this._delegate,P.a6(this._delegate,k,Q))}signInWithEmailLink(k,Q){return bt(this._delegate,P.a9(this._delegate,k,Q))}signInWithPhoneNumber(k,Q){return gr(this._delegate,P.s(this._delegate,k,Q))}signInWithPopup(k){var Q=this;return(0,d.Z)(function*(){return Ze(vn(),Q._delegate,"operation-not-supported-in-this-environment"),bt(Q._delegate,P.c(Q._delegate,k,Et))})()}signInWithRedirect(k){var Q=this;return(0,d.Z)(function*(){return Ze(vn(),Q._delegate,"operation-not-supported-in-this-environment"),yield en(Q._delegate),P.f(Q._delegate,k,Et)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return P.a4(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=In,L})();function qe(L,S,k){let Q=L;"function"!=typeof L&&({next:Q,error:S,complete:k}=L);const Ne=Q;return{next:Xe=>Ne(Xe&&ln.getOrCreate(Xe)),error:S,complete:k}}function ht(L,S){const k=function qt(L,S){const k=st();if(!k)return[];const Q=P.aA(zn,L,S);switch(k.getItem(Q)){case In.NONE:return[P.L];case In.LOCAL:return[P.i,P.a];case In.SESSION:return[P.a];default:return[]}}(L,S);if(typeof self<"u"&&!k.includes(P.i)&&k.push(P.i),typeof window<"u")for(const Q of[P.b,P.a])k.includes(Q)||k.push(Q);return k.includes(P.L)||k.push(P.L),k}class vt{constructor(){this.providerId="phone",this._delegate=new P.P(dr(B.Z.auth()))}static credential(S,k){return P.P.credential(S,k)}verifyPhoneNumber(S,k){return this._delegate.verifyPhoneNumber(S,k)}unwrap(){return this._delegate}}vt.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,vt.PROVIDER_ID=P.P.PROVIDER_ID;const Bt=P.ax;class j{constructor(S,k,Q=B.Z.app()){var Ne;Bt(null===(Ne=Q.options)||void 0===Ne?void 0:Ne.apiKey,"invalid-api-key",{appName:Q.name}),this._delegate=new P.R(S,k,Q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Z(L){L.INTERNAL.registerComponent(new ae.wA("auth-compat",S=>{const k=S.getProvider("app-compat").getImmediate(),Q=S.getProvider("auth");return new Ce(k,Q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:vt,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:j,TwitterAuthProvider:P.W,Auth:Ce,AuthCredential:P.H,Error:te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.3.1")}(B.Z)},8766:(rt,we,O)=>{O.d(we,{Lj:()=>De,X3:()=>Ge});var d=O(5861);let P,te;const ae=new WeakMap,oe=new WeakMap,de=new WeakMap,G=new WeakMap,W=new WeakMap;let Ae={get(se,he,Ve){if(se instanceof IDBTransaction){if("done"===he)return oe.get(se);if("objectStoreNames"===he)return se.objectStoreNames||de.get(se);if("store"===he)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return le(se[he])},set:(se,he,Ve)=>(se[he]=Ve,!0),has:(se,he)=>se instanceof IDBTransaction&&("done"===he||"store"===he)||he in se};function fe(se){return"function"==typeof se?function ze(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...he){return se.apply(He(this),he),le(ae.get(this))}:function(...he){return le(se.apply(He(this),he))}:function(he,...Ve){const Ue=se.call(He(this),he,...Ve);return de.set(Ue,he.sort?he.sort():[he]),le(Ue)}}(se):(se instanceof IDBTransaction&&function ke(se){if(oe.has(se))return;const he=new Promise((Ve,Ue)=>{const yt=()=>{se.removeEventListener("complete",je),se.removeEventListener("error",ie),se.removeEventListener("abort",ie)},je=()=>{Ve(),yt()},ie=()=>{Ue(se.error||new DOMException("AbortError","AbortError")),yt()};se.addEventListener("complete",je),se.addEventListener("error",ie),se.addEventListener("abort",ie)});oe.set(se,he)}(se),((se,he)=>he.some(Ve=>se instanceof Ve))(se,function re(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,Ae):se)}function le(se){if(se instanceof IDBRequest)return function K(se){const he=new Promise((Ve,Ue)=>{const yt=()=>{se.removeEventListener("success",je),se.removeEventListener("error",ie)},je=()=>{Ve(le(se.result)),yt()},ie=()=>{Ue(se.error),yt()};se.addEventListener("success",je),se.addEventListener("error",ie)});return he.then(Ve=>{Ve instanceof IDBCursor&&ae.set(Ve,se)}).catch(()=>{}),W.set(he,se),he}(se);if(G.has(se))return G.get(se);const he=fe(se);return he!==se&&(G.set(se,he),W.set(he,se)),he}const He=se=>W.get(se);function Ge(se,he,{blocked:Ve,upgrade:Ue,blocking:yt,terminated:je}={}){const ie=indexedDB.open(se,he),ce=le(ie);return Ue&&ie.addEventListener("upgradeneeded",me=>{Ue(le(ie.result),me.oldVersion,me.newVersion,le(ie.transaction))}),Ve&&ie.addEventListener("blocked",()=>Ve()),ce.then(me=>{je&&me.addEventListener("close",()=>je()),yt&&me.addEventListener("versionchange",()=>yt())}).catch(()=>{}),ce}function De(se,{blocked:he}={}){const Ve=indexedDB.deleteDatabase(se);return he&&Ve.addEventListener("blocked",()=>he()),le(Ve).then(()=>{})}const Ie=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],Fe=new Map;function X(se,he){if(!(se instanceof IDBDatabase)||he in se||"string"!=typeof he)return;if(Fe.get(he))return Fe.get(he);const Ve=he.replace(/FromIndex$/,""),Ue=he!==Ve,yt=ge.includes(Ve);if(!(Ve in(Ue?IDBIndex:IDBObjectStore).prototype)||!yt&&!Ie.includes(Ve))return;const je=function(){var ie=(0,d.Z)(function*(ce,...me){const Se=this.transaction(ce,yt?"readwrite":"readonly");let Pe=Se.store;return Ue&&(Pe=Pe.index(me.shift())),(yield Promise.all([Pe[Ve](...me),yt&&Se.done]))[0]});return function(me){return ie.apply(this,arguments)}}();return Fe.set(he,je),je}!function ve(se){Ae=se(Ae)}(se=>({...se,get:(he,Ve,Ue)=>X(he,Ve)||se.get(he,Ve,Ue),has:(he,Ve)=>!!X(he,Ve)||se.has(he,Ve)}))},5861:(rt,we,O)=>{function d(P,te,re,ue,ae,oe,de){try{var G=P[oe](de),W=G.value}catch(K){return void re(K)}G.done?te(W):Promise.resolve(W).then(ue,ae)}function B(P){return function(){var te=this,re=arguments;return new Promise(function(ue,ae){var oe=P.apply(te,re);function de(W){d(oe,ue,ae,de,G,"next",W)}function G(W){d(oe,ue,ae,de,G,"throw",W)}de(void 0)})}}O.d(we,{Z:()=>B})}},rt=>{rt(rt.s=2957)}]);